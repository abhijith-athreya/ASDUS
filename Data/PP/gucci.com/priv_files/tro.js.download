(function(v,n,g,a,r,M){function w(d){return!isNaN(parseFloat(d))&&isFinite(d)}function B(d){return(new RegExp(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i)).test(d)}function G(d){return(new RegExp(/^[0-9a-f]{32}$/i)).test(d)}function H(d){try{var b=Array.prototype.slice.call(arguments,0);d=b.shift();switch(d){case "init":a.tagid||(a.tagid=b[0],I());break;case "session_ttl":b[0]&&(a.session_ttl=b[0]);break;case "tag":t=[];var c=b[0],b=[],f;for(f in c)if(c.hasOwnProperty(f))if("rtg"===
f.substring(0,3))t.push(x(f,[c[f]])),b.push([f,[c[f]]]);else if("exclusion"===f)t.push("exclusion=1"),b.push([f,["1"]]);else if("m5e"===f||"sha256"===f||"email"===f)t.push(x(f,[c[f]])),b.push([f,[c[f]]]);var e=C(a.session_ttl||1800);t.push("trossion="+e);b.push(["r1",[h]]);b.push(["vruid",[r]]);if(!a.tagid)throw"tagid is missing";a.tagid&&(D(t),z("__trossion",e,395));a.segq.queue?a.segq.tag?a.segq.tag.apply(a.segq,c):a.segq.queue.push(c):a.segq.push.apply(a.segq,b)}}catch(J){k(J,14)}}function K(){if(!a.unqueue_called){try{if(a.queue)for(;a.queue.length;){var d=
a.queue.shift();H.apply(this,d)}else t=Array.prototype.splice.call(a,0),a.push()}catch(b){k(b,7)}a.unqueue_called=!0}}function N(d){try{var b=d;b.queue&&(b=b.queue);for(var c=0;c<b.length;c++)if(b[c]&&b[c][0]&&("tagid"===b[c][0]||"init"===b[c][0])&&""!==b[c][1]){var a=b[c][1].split("-");if(2!=a.length)throw"Tagid is misstructured"+encodeURIComponent(b[c][1]);if(!a[1]||!G(a[1]))throw"Tag hash is invalid"+encodeURIComponent(a[1]);if(!a[0]||!w(a[0]))throw"Tagid is invalid"+encodeURIComponent(a[0]);if(0!==
a[0].indexOf("6"))throw"Tagid identifier is not valid  "+encodeURIComponent(a[0]);d.tagid=b[c][1];return}throw"Tagid is missing";}catch(e){k(e,13)}}v._troqck=v._troqck||0;if(!v._troqck){var E,L=!1,h="",y=g;g=y.hostname.split(".").reverse();a.etag=M;E=2<g.length&&3>=g[1].length&&2>=g[0].length?"."+g[2]+"."+g[1]+"."+g[0]:"."+g[1]+"."+g[0];v!==top&&n.referrer&&""!==n.referrer&&(y=n.referrer);var x=function(a,b){for(var c="",d=0;d<b.length;d++)0<d&&(c+="|"),c+=b[d];try{c=a+"="+encodeURIComponent(c)}catch(e){c=
a+"="+escape(c)}return c};a.urlize=x;var A=function(a){var b,c,d,e=n.cookie.split(";");for(b=0;b<e.length;b++)if(c=e[b].substr(0,e[b].indexOf("=")),d=e[b].substr(e[b].indexOf("=")+1),c=c.replace(/^\s+|\s+$/g,""),c===a)try{return decodeURIComponent(d)}catch(J){return unescape(d)}return""};a.getCookie=A;var z=function(a,b,c){var d=new Date;d.setDate(d.getDate()+c);var e=b;try{b=encodeURIComponent(b)}catch(q){b=escape(b)}var h=b;c=null===c?"":"; expires="+d.toUTCString();h=h+c+("; domain="+E+"; path=/");
n.cookie=a+"="+h;try{var u=A(a);if(""===u||u!=e){var l=v.location.hostname;if(1===l.split(".").length)n.cookie=a+"="+b+c+"; path=/";else{var p=l.split(".");p.shift();var m="."+p.join(".");n.cookie=a+"="+b+c+"; path=/; domain="+m;u=A(a);if(""===u||u!=e)n.cookie=a+"="+b+c+"; path=/; domain="+E}}}catch(q){k(q,1)}};a.setCookie=z;a.isNumeric=w;a.isValidRUID=B;a.isMD5Valid=G;var C=function(a){function b(a,b,c){return{rtgsession_id:c&&c[4]||b+":"+a,rtgsession_ts:c&&c[5]||a,rtgsession_hits:c&&c[6]||1,getValue:function(){return this.rtgsession_id+
"_"+this.rtgsession_ts+"_"+this.rtgsession_hits}}}function c(a,c,b){return{ts_creation_cookie:b&&b[0]||a,rtgsession_ttl:b&&b[1]||c,rtgsession_seq:b&&b[2]||1,rtgsession_id_prev:b&&b[3]||"",getValue:function(){return this.ts_creation_cookie+"_"+this.rtgsession_ttl+"_"+this.rtgsession_seq+"_"+this.rtgsession_id_prev}}}function d(a){if(a&&(a=a.split(":"),a.length&&2===a.length))return B(a[0])&&w(a[1])}function e(a,d){return c(a,d).getValue()+"_"+b(a,h||r).getValue()}function n(a,b,c){b.rtgsession_ts=
c;b.rtgsession_hits=parseFloat(b.rtgsession_hits)+1;return a.getValue()+"_"+b.getValue()}function u(a,b,c){a.rtgsession_seq=parseFloat(a.rtgsession_seq)+1;a.rtgsession_id_prev=b.rtgsession_id;return a.getValue()+"_"+c.getValue()}try{var l=Math.floor((new Date).getTime()/1E3),p=A("__trossion").split("_");if(7===p.length){var m=c(l,a,p),q=b(l,h||r,p),g=b(l,h||r);return w(m.ts_creation_cookie)&&w(m.rtgsession_seq)&&w(q.rtgsession_ts)?m.rtgsession_id_prev&&!d(m.rtgsession_id_prev)?(k("not valid rtgsession_id_prev&trossion="+
p.join("_")+"&timestamp="+l,17),e(l,a)):q.rtgsession_id&&!d(q.rtgsession_id)?(k("not valid rtgsession_id&trossion="+p.join("_")+"&timestamp="+l,17),e(l,a)):l-parseFloat(q.rtgsession_ts)>a?u(m,q,g):l<parseFloat(q.rtgsession_ts)?(k("Negative_session_time&trossion="+p.join("_")+"&timestamp="+l,2),u(m,q,g)):w(q.rtgsession_hits)?n(m,q,l):(k("rtgsession_hits is not a number&trossion="+p.join("_")+"&timestamp="+l,17),u(m,q,g)):(k("ts_creation_cookie|rtgsession_seq|rtgsession_ts is not a number&trossion="+
p.join("_")+"&timestamp="+l,17),e(l,a))}return e(l,a)}catch(O){return k(O,15),e(Math.floor((new Date).getTime()/1E3),a)}};a.getSessionValue=C;var D=function(d,b){try{if(null==a.tagid||""===a.tagid)throw"tagid is missing";for(var c="tagid="+a.tagid+"&",c=c+("r1="+h+"&"),c=c+("vruid="+r+"&");0<d.length;)c+=d.shift()+"&";if(null!==y&&""!==y){c+="u=";try{c+=encodeURIComponent(y)}catch(f){c+=escape(y)}c+="&"}c+="v="+a.etag+"_";c+=(a.version?a.version:"0")+"&";c+="rnd="+Math.round(2E9*Math.random());c=
"//"+(b||"mmtro.com")+"/p?"+c;(new Image(1,1)).src=c}catch(f){k(f,3)}};a.troPix=D;a.push=function(){try{for(var d=0;d<arguments.length;d++)t.push(arguments[d])}catch(m){k(m,4)}for(var d=[],b=[],c=[];0<t.length;)try{var f=t.shift(),e=f.shift();if(!e)throw"empty array in taggage";var e=e.toLowerCase(),g=f,n=!1;if("tagid"===e){if(!a.tagid)throw"tagid is missing";n=!0}else if("rtg"===e.substring(0,3)||-1!==e.indexOf("_")){0===e.indexOf("_")&&(e=e.substring(1,e.length));var l=x(e,g);b.push(l);c.push([e,
g])}else"exclusion"===e?(b.push("exclusion=1"),c.push([e,["1"]])):"m5e"===e||"sha256"===e||"email"===e?(b.push(x(e,g)),c.push([e,g])):d.push(x(e,g))}catch(m){k(m,5)}0<d.length&&k("wrong params in taggage "+d.join("&"),12);try{if(0<b.length||n){var p=C(a.session_ttl||1800);b.push("trossion="+p);D(b);z("__trossion",p,395);c.push(["r1",[h]]);c.push(["vruid",[r]]);a.segq.push.apply(a.segq,c)}else k("p is empty",16)}catch(m){k(m,6)}};a.callTro=H;a.unqueue=K;var F=function(a){var b=n.createElement("script");
b.type="text/javascript";b.async=!0;b.src=a;a=n.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)};a.createScript=F;a.jarSyncMMTRO=function(d){try{z("__troRUID",d,395),h=a.uid=d}catch(b){k(b,10)}};var k=function(d,b){d=d.message||d;d=encodeURIComponent(d.replace(/ /g,"_"));var c="//err.mmtro.com/error?f=tro.js&u="+encodeURIComponent(v.location.href)+"&message="+d+"&try="+b+"&v="+a.etag+"_"+(a.version?a.version:"0");(new Image(1,1)).src=c},I=function(){if(null!=a.tagid&&""!=a.tagid){if("00000000-0000-0000-0000-000000000000"!==
h)try{F("//cdn.mmtro.com/seg/"+a.tagid.split("-")[0]+".js")}catch(d){k(d,8)}F("//mmtro.com/trojs/"+a.tagid+"/"+h+"/"+r+"/exec.js")}};try{var t=[];a.segq=a.segq||[];if(null==r||""==r||!B(r))throw"vruid is invalid";h=A("__troRUID");B(h)||(h&&k("ruid1 not valid: "+encodeURIComponent(h),18),L=!0,h=r);a.uid=h;N(a);K();L&&z("__troRUID",h,395);I()}catch(d){k(d,11)}v._troqck=1}})
(window, document, location, _troq, "a2cf2c4e-a417-4cee-bb5a-d72e0f17097c", "5a6ef8c560436052e64c99ef");