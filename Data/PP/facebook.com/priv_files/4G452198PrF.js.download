if (self.CavalryLogger) { CavalryLogger.start_js(["I3LE7"]); }

__d("ChatproxyPresence",["Arbiter","AvailableListConstants","AvailableListInitialData","BanzaiODS","ChannelConstants","LastActiveTimes","PresenceStatus","debounceAcrossTransitions","ClientChromeExperimentsData"],(function(a,b,c,d,e,f){__p&&__p();var g=b("ClientChromeExperimentsData").ClientChromeAvailableListInitialDataPreloader;function h(a){var c=a.activeList,d=a.lastActiveTimes;a=a.playingNow;a&&b("PresenceStatus").setPlayingCanvasGameFriends(a);c&&b("PresenceStatus").setMultiActive(c,"available_list_active");d&&!Array.isArray(d)&&b("LastActiveTimes").update(d)}function a(a){"use strict";this.$1=a,this.$2=!1,this.$3=b("AvailableListInitialData").chatNotif,this.$4=!1,g?g.onLoaded(h):h(b("AvailableListInitialData"))}a.prototype.subscribe=function(){"use strict";__p&&__p();b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("chatproxy-presence"),this.updatePresenceInfo.bind(this)),b("Arbiter").subscribe(b("ChannelConstants").ON_INVALID_HISTORY,function(){this.$2=!0}.bind(this)),b("Arbiter").subscribe(b("ChannelConstants").RTI_SESSION,function(a,b){b&&(this.$4=b)}.bind(this)),b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("get_debug_presence"),function(a,c){a=b("PresenceStatus").getAllDebugInfo();c=b("LastActiveTimes").getDebugData();for(var d in c){var e=a[d];e===undefined&&(e={},a[d]=e);e.l=Math.floor(c[d])}this.$4.issueRequest("/debug_presence",{},a,function(){b("BanzaiODS").bumpEntityKey("ChatproxyPresence","debug_presence.sucess")})}.bind(this))};a.prototype.getRTISession=function(){"use strict";return this.$4};a.prototype.updatePresenceInfo=function(a,c){"use strict";__p&&__p();this.$2&&(this.$2=!1,b("PresenceStatus").resetPresenceData());c=c.obj;a=c.buddyList;b("PresenceStatus").setMultiChatproxy(a);a=!1;c.chatNotif!==undefined&&(a=this.$3!==c.chatNotif);a&&(this.$3=c.chatNotif);c.gamers&&b("PresenceStatus").setPlayingCanvasGameFriends(c.gamers);a&&this.$1(b("AvailableListConstants").ON_CHAT_NOTIFICATION_CHANGED,this.$3);b("debounceAcrossTransitions")(function(){this.$1(b("AvailableListConstants").ON_AVAILABILITY_CHANGED)}.bind(this),0)()};a.prototype.getWebChatNotification=function(){"use strict";return this.$3};e.exports=a}),null);
__d("AvailableList",["Arbiter","ArbiterMixin","AsyncRequest","AvailableListConstants","BanzaiODS","Bootloader","ChannelConstants","ChatConfig","ChatDispatcher","ChatproxyPresence","ChatReliabilityInstrumentation","ChatVisibility","CurrentUser","FBIDCheck","ErrorUtils","JSLogger","LastActiveTimes","PresencePrivacy","PresenceStatus","PresenceStatusActionTypes","Run","ServerTime","TypingStates","debounceAcrossTransitions","emptyFunction","requireWeak"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("BanzaiODS").setEntitySample("presence",1e-4);var g=babelHelpers["extends"]({},b("AvailableListConstants"),b("ArbiterMixin")),h=/\D/;g.subscribe([b("AvailableListConstants").ON_AVAILABILITY_CHANGED,b("AvailableListConstants").ON_UPDATE_ERROR],function(a,c){b("Arbiter").inform(a,c)});b("PresenceStatus").subscribe("change",b("debounceAcrossTransitions")(function(){g.inform(b("AvailableListConstants").ON_AVAILABILITY_CHANGED)},0));var i=b("debounceAcrossTransitions")(function(){g.inform(b("AvailableListConstants").ON_AVAILABILITY_CHANGED),b("ChatDispatcher").dispatch({type:b("PresenceStatusActionTypes").AVAILABILITY_CHANGED})},0);function j(a,c,d,e,f){if(a===b("CurrentUser").getID())return;c=b("PresenceStatus").set(a,c,d,e,f);if(c){d=b("debounceAcrossTransitions")(function(){g.inform(b("AvailableListConstants").ON_AVAILABILITY_CHANGED,a),b("ChatDispatcher").dispatch({type:b("PresenceStatusActionTypes").AVAILABILITY_CHANGED,id:a})},0);d()}}function k(a){a=a.payload.availability||{};for(var b in a)j(b&&b.toString(),a[b].a,!0,"mercury_tabs",a[b].c)}function l(a){if(!a||a==="0"||h.test(a)){b("ChatReliabilityInstrumentation").logERROR("bad id for available list: "+a);return}new(b("AsyncRequest"))("/ajax/mercury/tabs_presence.php").setData({target_id:a}).setHandler(k).setErrorHandler(b("emptyFunction")).setAllowCrossPageTransition(!0).send()}function a(a,c){c.chat_config=b("ChatConfig").getDebugInfo(),c.available_list_debug_info={count:b("PresenceStatus").getOnlineIDs().length}}var m=undefined;try{m=new(b("ChatproxyPresence"))(function(event){g.inform(event)}),m.subscribe()}catch(a){b("ErrorUtils").reportError&&b("ErrorUtils").reportError(a,!1),b("ChatReliabilityInstrumentation").logERROR(a.getMessage())}Object.assign(g,{getChatproxyPresenceObject:function(){return m},get:function(a){return b("PresenceStatus").get(a)},updateForID:function(a){if(b("ChatConfig").get("presence_page_green_dot_sub")&&!b("FBIDCheck").isUser_deprecated(a))return;l(a);b("PresencePrivacy").getVisibility()==b("PresencePrivacy").ONLINE&&b("Run").onAfterLoad(function(){return b("Bootloader").loadModules(["ChannelManager","ChannelTransport"],function(b,c){b.startChannelManager(),c.sendAdditionalBuddyRequest(b.getCompleteConfig(),a)},"AvailableList")})},getWebChatNotification:function(){return m&&m.getWebChatNotification()},isReady:function(){return!!m},set:function(a,b,c,d){j(a,b,!0,c,d)}});b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,a);b("PresencePrivacy").subscribe(["privacy-changed","privacy-availability-changed","privacy-user-presence-response"],i);b("requireWeak")("ChannelConnection",function(a){return a.subscribe([a.CONNECTED,a.RECONNECTING,a.SHUTDOWN,a.MUTE_WARNING,a.UNMUTE_WARNING],i)});b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("buddylist_overlay"),function(a,c){a={};c=c.obj.overlay;for(var d in c)g.set(d,c[d].a,c[d].s||"channel",c[d].vc),c[d].la&&(a[d]=c[d].la);b("LastActiveTimes").update(a)});b("Arbiter").subscribe([b("ChannelConstants").getArbiterType("typ"),b("ChannelConstants").getArbiterType("ttyp")],function(a,c){__p&&__p();a=c.obj;if(a.st===b("TypingStates").TYPING){c=a.from;if(b("ChatVisibility").isOnline()){b("BanzaiODS").bumpEntityKey("presence","stale_presence_check_typing");a=b("PresenceStatus").get(c);if(a!=b("AvailableListConstants").ACTIVE){a=b("LastActiveTimes").get(c)*1e3;var d=b("ServerTime").get();if(!a)b("BanzaiODS").bumpEntityKey("presence","no_detailed_presence_typing");else if(d-a>5*60*1e3){var e="stale_presence_typing";d=d-a;d<10*60*1e3?e+="600":d<60*60*1e3&&(e+="3600");b("BanzaiODS").bumpEntityKey("presence",e)}}}g.set(c&&c.toString(),b("AvailableListConstants").ACTIVE,"channel-typing")}});b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("messaging"),function(a,c){__p&&__p();if(!b("ChatVisibility").isOnline())return;a=c.obj;if(a.message&&a.message.timestamp&&a.message.sender_fbid){c=b("ServerTime").get();var d=a.message.timestamp;if(c-d<2*60*1e3){b("BanzaiODS").bumpEntityKey("presence","stale_presence_check");c=a.message.sender_fbid;a=b("PresenceStatus").get(c);if(a==b("AvailableListConstants").ACTIVE)return;a=b("LastActiveTimes").get(c)*1e3;if(!a)b("BanzaiODS").bumpEntityKey("presence","no_detailed_presence");else if(d-a>5*60*1e3){c="stale_presence";d=d-a;d<10*60*1e3?c+="600":d<60*60*1e3&&(c+="3600");b("BanzaiODS").bumpEntityKey("presence",c)}}}});e.exports=g}),null);
__d("ChatSidebarActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")({INIT:null,LOADED:null,SET_ENABLED:null,SHOW:null})}),null);
__d("SidebarType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SIDEBAR:"sidebar",BUDDYLIST:"buddylist",BUDDYLIST_NUB:"buddylist_nub"})}),null);
__d("ChatSidebarActions",["ChatDispatcher","ChatSidebarActionTypes","SidebarType"],(function(a,b,c,d,e,f){"use strict";a={init:function(){b("ChatDispatcher").dispatch({type:b("ChatSidebarActionTypes").INIT})},loaded:function(){b("ChatDispatcher").dispatch({type:b("ChatSidebarActionTypes").LOADED})},disable:function(){b("ChatDispatcher").dispatch({type:b("ChatSidebarActionTypes").SET_ENABLED,enabled:!1,sidebarType:b("SidebarType").BUDDYLIST})},enable:function(a){b("ChatDispatcher").dispatch({type:b("ChatSidebarActionTypes").SET_ENABLED,enabled:!0,sidebarType:a})},show:function(a){b("ChatDispatcher").dispatch({type:b("ChatSidebarActionTypes").SHOW,sidebarType:a})}};e.exports=a}),null);
__d("FBRTCDispatcher",["Dispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("Dispatcher_DEPRECATED"))()}),null);
__d("FBRTCStore",["FBRTCDispatcher","FluxStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("FBRTCDispatcher"))}a.prototype.__emitChange=function(){this.__emitter.emit(this.__changeEvent)};a.__moduleID=e.id;e.exports=a}),null);
__d("VideoCallTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:VideoCallLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:VideoCallLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:VideoCallLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setCallID=function(a){this.$1.call_id=a;return this};a.prototype.setErrorDetails=function(a){this.$1.error_details=a;return this};a.prototype.setErrorType=function(a){this.$1.error_type=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setIsClient=function(a){this.$1.is_client=a;return this};a.prototype.setMessage=function(a){this.$1.message=a;return this};a.prototype.setMessageType=function(a){this.$1.message_type=a;return this};a.prototype.setPeerID=function(a){this.$1.peer_id=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={call_id:!0,error_details:!0,error_type:!0,event:!0,is_client:!0,message:!0,message_type:!0,peer_id:!0,vc:!0};e.exports=a}),null);
__d("FBRTCCallBlockingStore",["Arbiter","AsyncRequest","ChannelConstants","FBRTCDispatcher","FBRTCStore","VideoCallTypedLogger","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=!1,i=0,j=null,k="call_block_setting_changed";g=babelHelpers.inherits(a,b("FBRTCStore"));g&&g.prototype;a.prototype.init=function(a){this.$FBRTCCallBlockingStore1(a),b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("videocall_block_setting"),this.$FBRTCCallBlockingStore2.bind(this))};a.prototype.__onDispatch=function(a){if(a.type!==k)return;this.$FBRTCCallBlockingStore1(a.data)};a.prototype.$FBRTCCallBlockingStore1=function(a){switch(a){case 0:h=!1;this.$FBRTCCallBlockingStore3();break;case-1:h=!0;this.$FBRTCCallBlockingStore3();break;default:h=!0,this.$FBRTCCallBlockingStore4(a)}this.__emitChange()};a.prototype.$FBRTCCallBlockingStore4=function(a){j===null&&(j=b("setTimeoutAcrossTransitions")(this.turnOnVideoCalling.bind(this),a*1e3))};a.prototype.getBlockingStatus=function(){return h};a.prototype.turnOnVideoCalling=function(){new(b("AsyncRequest"))("/ajax/chat/settings.php").setHandler(this.$FBRTCCallBlockingStore5.bind(this)).setData({call_blocked_until:0}).send()};a.prototype.turnOffVideoCalling=function(a){i=a,new(b("AsyncRequest"))("/ajax/chat/settings.php").setHandler(this.$FBRTCCallBlockingStore6.bind(this)).setData({call_blocked_until:a}).send()};a.prototype.$FBRTCCallBlockingStore3=function(){j&&(b("clearTimeout")(j),j=null)};a.prototype.$FBRTCCallBlockingStore5=function(){b("FBRTCDispatcher").dispatch({type:k,data:0}),new(b("VideoCallTypedLogger"))().setEvent(k).setMessage("enable").log()};a.prototype.$FBRTCCallBlockingStore6=function(){b("FBRTCDispatcher").dispatch({type:k,data:i}),new(b("VideoCallTypedLogger"))().setEvent(k).setMessage("disable_"+i).log()};a.prototype.$FBRTCCallBlockingStore2=function(a,c){b("FBRTCDispatcher").dispatch({type:k,data:c.obj.value})};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("ChatOptions",["Arbiter","ChannelConstants","ChatSidebarActions","ChatSidebarVisibility","FBRTCCallBlockingStore","JSLogger","PresenceUtil","SidebarType","ChatOptionsInitialData"],(function(a,b,c,d,e,f){__p&&__p();var g=b("JSLogger").create("chat_options"),h={};(function(){var a=b("ChatOptionsInitialData");for(var c in a){var d=a[c];c==="call_blocked_until"?b("FBRTCCallBlockingStore").init(d):h[c]=!!d}})();var i=Object.assign(new(b("Arbiter"))(),{getSetting:function(a){return h[a]},setSetting:function(a,c,d){__p&&__p();if(a==="sidebar_mode"){b("ChatSidebarVisibility").shouldShowSidebarIgnoreEnabled(null,function(a,d){c?b("ChatSidebarActions").enable(a?b("SidebarType").SIDEBAR:b("SidebarType").BUDDYLIST):b("ChatSidebarActions").disable()});return}if(this.getSetting(a)==c)return;d&&(d="from_"+d,g.log(d,{name:a,new_value:c,old_value:this.getSetting(a)}));h[a]=!!c;b("Arbiter").inform("chat/option-changed",{name:a,value:c})}});b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("setting"),function(a,c){a=c.obj;if(a.window_id===b("PresenceUtil").getSessionID())return;i.setSetting(a.setting,!!a.value,"channel")});b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(a,b){b.chat_options=h});e.exports=i}),null);
__d("ChatUnreadCountActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")({COUNT_UPDATED:null})}),null);
__d("ChatUnreadCountStore",["ChatDispatcher","ChatUnreadCountActionTypes","FluxStore","ifRequired"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("ChatDispatcher"))}a.prototype.__onDispatch=function(a){a=a.type;switch(a){case b("ChatUnreadCountActionTypes").COUNT_UPDATED:this.__emitChange();break;default:break}};a.prototype.get=function(a){return b("ifRequired")("ChatUnreadCount",function(b){return b.get().getUnreadCountForUID(a)||0},function(){return 0})};a.__moduleID=e.id;e.exports=new a()}),null);
__d("ChatSidebarPreloadStore",["InitialChatFriendsList"],(function(a,b,c,d,e,f){"use strict";a={onLoaded:function(a){a({buddies:b("InitialChatFriendsList").list,groups:b("InitialChatFriendsList").groups,shortProfiles:b("InitialChatFriendsList").shortProfiles,nearby:b("InitialChatFriendsList").nearby,adminedPages:b("InitialChatFriendsList").adminedPages,pageListModule:b("InitialChatFriendsList").pageListModule,pymmList:b("InitialChatFriendsList").pymmList||{},profiles:[]})}};e.exports=a}),null);
__d("ChatSortUsers",["ShortProfiles","TokenizeUtil"],(function(a,b,c,d,e,f){__p&&__p();var g={};function h(a){if(g[a])return g[a];var c=(b("ShortProfiles").getNow(a)||{}).name;return c?g[a]=b("TokenizeUtil").flatten(c):"~"}a={sortAlphabetical:function(a,b){a=h(a);b=h(b);return a!==b?a<b?-1:1:0}};e.exports=a}),null);
__d("PresenceOrderedList",["ChatSidebarPreloadStore","ChatSortUsers","PresencePrivacy","PresenceStatus"],(function(a,b,c,d,e,f){__p&&__p();function g(a){return a.map(function(a){var b=a.slice(0,-2);a=Number(a.slice(-1));return[b,a]})}function h(a,c){__p&&__p();var d=[];a.forEach(function(a){var e=a[0];a=a[1];if(d.length>=c)return;if(b("PresencePrivacy").getFriendVisibility(e)==b("PresencePrivacy").BLACKLISTED)return;a==b("PresenceStatus").get(e)&&d.push(e)});return d}function a(){"use strict";this.$1=null}a.prototype.getSorted=function(a,c){"use strict";if(this.$1){c(h(this.$1,a));return}b("ChatSidebarPreloadStore").onLoaded(function(b){b=b.buddies;this.$1=g(b);c(h(this.$1,a))}.bind(this))};a.prototype.getAvailableSorted=function(a){"use strict";var c=b("PresenceStatus").getOnlineIDs();a&&(c=c.filter(function(b){return a&&a.indexOf(b)===-1}));return c.sort(b("ChatSortUsers").sortAlphabetical)};a.prototype.getAllSorted=function(a){"use strict";var c=[],d=this.$1||[];b("PresenceStatus").getAllIDs().concat(d.map(function(a){return a[0]})).forEach(function(a){return c.indexOf(a)===-1&&c.push(a)});a&&(c=c.filter(function(b){return a&&a.indexOf(b)===-1}));return c.sort(b("ChatSortUsers").sortAlphabetical)};e.exports=new a()}),null);
__d("PresenceStatusStore",["ChatDispatcher","FluxStore","PresenceStatus","PresenceStatusActionTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("ChatDispatcher"))}a.prototype.__onDispatch=function(a){a=a.type;switch(a){case b("PresenceStatusActionTypes").AVAILABILITY_CHANGED:this.__emitChange();break;default:break}};a.prototype.get=function(a){return b("PresenceStatus").get(a)};a.prototype.getIsPlaying=function(a){return b("PresenceStatus").isPlayingCanvasGameUser(a)};a.__moduleID=e.id;e.exports=new a()}),null);
__d("ShortProfilesActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")({PROFILE_UPDATED:null})}),null);
__d("ChatProfileStore",["ChatSidebarPreloadStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={};a={init:function(){b("ChatSidebarPreloadStore").onLoaded(function(a){var b=a.profiles,c=a.nearby;return b.filter(function(a){return!c||c.indexOf(a.id)===-1}).forEach(function(a){var b=new Date();b=a.birthdate&&b.getDate()===a.birthdate.day&&b.getMonth()+1===a.birthdate.month;var c=a.profile_picture&&a.profile_picture.uri?a.profile_picture.uri:null;g[a.id]={id:a.id,is_birthday:b,thumbSrc:c,name:a.name,is_messenger_only:!!a.is_messenger_only}})})},get:function(a){return g[a]}};e.exports=a}),null);
__d("ShortProfilesStore",["ChatDispatcher","ChatProfileStore","FluxStore","ShortProfiles","ShortProfilesActionTypes","debounce","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("ChatDispatcher")),b("gkx")("AT7b-T545bsAAbOyiRE0i8vzwAqg-R4NRaZ4WCkL5TZUAjQ3ntria2ZiM69962yv5cnbq6KuBYvaMYzUdYYVWB-O")&&(this.$ShortProfilesStore1=b("debounce")(this.$ShortProfilesStore1,50))}a.prototype.__onDispatch=function(a){a=a.type;switch(a){case b("ShortProfilesActionTypes").PROFILE_UPDATED:this.__emitChange();break;default:break}};a.prototype.getNow=function(a){var c=b("ChatProfileStore").get(a);c||(c=b("ShortProfiles").getNow(a));return c};a.prototype.getMulti=function(a){b("ShortProfiles").getMulti(a,this.$ShortProfilesStore1)};a.prototype.$ShortProfilesStore1=function(a){b("ChatDispatcher").dispatch({type:b("ShortProfilesActionTypes").PROFILE_UPDATED})};a.__moduleID=e.id;e.exports=new a()}),null);
__d("ChatSidebarStore",["AvailableListConstants","ChatConfig","ChatDispatcher","ChatOptions","ChatOptionsInitialData","ChatSidebarActionTypes","ChatUnreadCountActionTypes","ChatUnreadCountStore","FluxStore","InitialChatFriendsList","LastActiveTimes","MercuryParticipantTypes","PresenceOrderedList","PresencePrivacy","PresenceStatus","PresenceStatusActionTypes","PresenceStatusStore","ShortProfiles","ShortProfilesActionTypes","ShortProfilesStore","WorkModeConfig","gkx","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function h(a){return a.map(function(a){var b=a.slice(0,-2);a=Number(a.slice(-1));return[b,a]})}function i(a,c){var d=arguments.length<=2||arguments[2]===undefined?[]:arguments[2];return a.reduce(function(a,e){var f=e[0];e=e[1];a.length<c&&b("PresencePrivacy").getFriendVisibility(f)!==b("PresencePrivacy").BLACKLISTED&&e===b("PresenceStatus").get(f)&&!d.includes(f)&&a.push(f);return a},[])}function j(a){return b("PresencePrivacy").getVisibility()==b("PresencePrivacy").ONLINE?a.filter(function(a){return b("PresencePrivacy").allows(a)}):a}c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("ChatDispatcher")),this.setupShortProfiles(),this.$ChatSidebarStore3={initialized:!1,initTime:b("performanceAbsoluteNow")(),loaded:!1,enabled:!!b("ChatOptionsInitialData").sidebar_mode,visible:null},this.$ChatSidebarStore2={}}a.prototype.setupShortProfiles=function(){var a=b("InitialChatFriendsList").shortProfiles;a&&b("ShortProfiles").setMulti(a)};a.prototype.__onDispatch=function(a){__p&&__p();var c=a.type;this.$ChatSidebarStore2=babelHelpers["extends"]({},this.$ChatSidebarStore3);switch(c){case b("ChatSidebarActionTypes").INIT:this.$ChatSidebarStore2.initialized||(this.$ChatSidebarStore3.initTime=b("performanceAbsoluteNow")());this.$ChatSidebarStore3.initialized=!0;break;case b("ChatSidebarActionTypes").LOADED:this.$ChatSidebarStore3.loaded=!0;break;case b("ChatSidebarActionTypes").SHOW:this.$ChatSidebarStore3.visible=a.sidebarType;break;case b("ChatSidebarActionTypes").SET_ENABLED:this.$ChatSidebarStore3.enabled=a.enabled;this.$ChatSidebarStore3.visible=a.sidebarType;break}if(b("gkx")("AT65aWKrtJj5OrvMCdm_OgNblUKceQOyajsYMcV9YtzUj3ZHj_aVLY1fm-j6_0V9tLsLzk2inEWuRR4F6LAYYSAr")&&(c===b("PresenceStatusActionTypes").AVAILABILITY_CHANGED||c===b("ShortProfilesActionTypes").PROFILE_UPDATED||c===b("ChatUnreadCountActionTypes").COUNT_UPDATED)){this.__emitChange();return}for(var d in this.$ChatSidebarStore3)if(Object.prototype.hasOwnProperty.call(this.$ChatSidebarStore3,d)&&this.$ChatSidebarStore3[d]!==this.$ChatSidebarStore2[d]){this.__emitChange();break}};a.prototype.getPrevState=function(){return this.$ChatSidebarStore2};a.prototype.getState=function(){return this.$ChatSidebarStore3};a.prototype.isInitialized=function(){return this.$ChatSidebarStore3.initialized};a.prototype.isLoaded=function(){return this.$ChatSidebarStore3.loaded};a.prototype.isEnabled=function(){return this.$ChatSidebarStore3.enabled};a.prototype.getInitTime=function(){return this.$ChatSidebarStore3.initTime};a.prototype.getVisibleType=function(){return this.$ChatSidebarStore3.visible};a.prototype.getUsersData=function(a){__p&&__p();a=this.getOrderedPresenceUserList(a);var c=b("InitialChatFriendsList").nearby,d=b("WorkModeConfig").is_work_user?b("PresenceOrderedList").getAllSorted(a.concat(c)).filter(function(a){a=b("ShortProfilesStore").getNow(a);return!a||a.type===b("MercuryParticipantTypes").FB4C}):b("PresenceOrderedList").getAvailableSorted(a.concat(c)),e=b("WorkModeConfig").is_work_user?b("PresenceOrderedList").getAllSorted(a.concat(c)).filter(function(a){a=b("ShortProfilesStore").getNow(a);return a&&a.type!==b("MercuryParticipantTypes").FB4C}):[];a=a.filter(function(a){return!c||c.indexOf(a)===-1});var f=j(a);a=b("PresencePrivacy").getOnlinePolicy()===b("PresencePrivacy").ONLINE_TO_WHITELIST&&b("PresencePrivacy").getVisibility()?a.filter(function(a){return!b("PresencePrivacy").allows(a)}):[];return{availableUsers:d,topUsers:f,workOthers:e,offlineUsers:a}};a.prototype.getExtraData=function(a){__p&&__p();var c=b("InitialChatFriendsList").groups,d=b("InitialChatFriendsList").nearby,e=b("InitialChatFriendsList").adminedPages,f=b("InitialChatFriendsList").pageListModule,g=b("InitialChatFriendsList").pymmList;a--;b("ChatConfig").get("show_header")&&a--;var h=!b("ChatOptions").getSetting("hide_businesses")&&g&&g.pages;h&&(a-=3);e=b("ChatOptions").getSetting("hide_admined_pages")?[]:e;e.length&&(a-=e.length+1);var i=a,k=a;c=b("ChatOptions").getSetting("hide_groups")?[]:c;var l=Math.min(c.length,b("ChatConfig").get("num_groups_to_show"));l===0&&b("ChatConfig").get("create_new_group_mock_thread")&&!b("ChatOptions").getSetting("hide_groups")&&l++;l>0&&(k-=l+1);b("ChatConfig").get("nearby_friends_www_chatbar")&&d.length>0&&(k-=d.length+1);b("ChatConfig").get("show_admined_pages")&&e.length>0&&(k-=e.length+1);l=h&&g?g:{config:null,pages:[]};b("ChatConfig").get("show_businesses")&&l.pages.length>0&&(k-=2);k=Math.min(a,Math.max(k,b("ChatConfig").get("min_top_friends")||0));h=j(d);return{isUserOffline:b("PresencePrivacy").isUserOffline(),groups:c,numTopFriends:k,nearby:h,maxThreadSlots:i,adminedPages:e,pageListModule:f,pymmList:l}};a.prototype.getOrderedListData=function(a){a=this.getExtraData(a);return Object.assign({},a,this.getUsersData(a.numTopFriends))};a.prototype.getOrderedPresenceUserList=function(a){if(this.$ChatSidebarStore1&&Array.isArray(this.$ChatSidebarStore1))return i(this.$ChatSidebarStore1,a);this.$ChatSidebarStore1=h(b("InitialChatFriendsList").list)||[];return i(this.$ChatSidebarStore1,a)};a.prototype.getStatusMap=function(a,c){var d={},e={};a.forEach(function(a){if(c){var f=b("PresenceStatusStore").getIsPlaying(a);d[a]=f}f=b("PresenceStatusStore").get(a);f===b("AvailableListConstants").ACTIVE&&(e[a]=f)});return{statusMap:e,playingMap:d}};a.prototype.getUnreadCountsMap=function(a){var c={};a.forEach(function(a){c[a]=b("ChatUnreadCountStore").get(a)});return c};a.prototype.getChatSidebarUsersData=function(a,c,d){var e=[],f=[];a.forEach(function(a){var g=b("ShortProfilesStore").getNow(a);g?(d(a),g.presencePrivacyAllows=b("PresencePrivacy").allows(a),g.lastActiveTime=b("LastActiveTimes").getShortDisplay(a)):(c(a),f.push(a));e.push(g)});f.length>0&&b("ShortProfilesStore").getMulti(f);return e};a.__moduleID=e.id;e.exports=new a()}),null);
__d("ChatSidebarHideReason",[],(function(a,b,c,d,e,f){a=Object.freeze({VIEWPORT_INCAPABLE:0,LOW_FRIEND_COUNT:1,NOT_ENABLED:2});e.exports=a}),null);
__d("OrderedFriendsList",["AvailableListConstants","ChatProfileStore","ChatSidebarPreloadStore","MercuryIDs","PresenceStatus","SearchableEntry","ShortProfiles","WorkModeConfig","createArrayFromMixed","isValidUniqueID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null,h={},i=[],j={};function k(a){a=String(a);return b("MercuryIDs").isValid(a)?a:b("MercuryIDs").getParticipantIDFromUserID(a)}function l(a,c){a=b("createArrayFromMixed")(a);c(a.filter(function(a){a=b("ShortProfiles").getNow(a);return!a||o(a)||a.is_nonfriend_messenger_contact}))}function m(a){g=[];var c=0;a.forEach(function(a){var d=a.slice(0,-2);a=a.slice(-1);b("PresenceStatus").get(d)==a&&(g[c]=d,h[d]=c++)})}function n(a){var c=0;a.forEach(function(a){var d=a.slice(0,-2);a=a.slice(-1);a==b("AvailableListConstants").ACTIVE&&(i[c]=d,j[d]=c++)})}function o(a){return a.type==="friend"||b("WorkModeConfig").is_work_user&&a.type==="fb4c"}var p={contains:function(a){return a in h},getList:function(a){if(g&&g.length){l(g,a);return}b("ChatSidebarPreloadStore").onLoaded(function(b){b=b.buddies;m(b);l(g,a)})},getSearchableEntries:function(a,c,d){__p&&__p();p.getList(function(e){__p&&__p();b("ChatSidebarPreloadStore").onLoaded(function(f){var g=f.groups;b("ShortProfiles").getMulti(e.slice(0,a),function(a){var b=[];for(var e in a)b.push(p.normalizeProfileEntry(a[e],e));a=c?g.map(p.normalizeThreadEntry):[];d(b.concat(a).filter(function(a){return!!a}).sort(function(a,b){return a.getOrder()-b.getOrder()}))})})})},normalizeProfileEntry:function(a,c){var d=a.searchTokens||[],e=a.name,f=null;return new(b("SearchableEntry"))({uniqueID:a.id||c,keywordString:d.join(" "),order:p.getRank(a.id||c),photo:a.thumbSrc,title:e,subtitle:f,type:a.type,uri:a.uri,auxiliaryData:{isMessengerUser:a.is_messenger_user}})},normalizeThreadEntry:function(a,c){__p&&__p();var d=a.mercury_thread,e=a.participants_to_render.map(function(a){return babelHelpers["extends"]({},a,{id:k(a.id)})});d.participants=d.participants.map(k);var f=a.text,g=null;f||(f=d.name);var h=e.map(function(a){return a.name}),i=h.join(", ");!f?f=i:g=i;i=a.uid;return!f||!b("isValidUniqueID")(i)?null:new(b("SearchableEntry"))({uniqueID:i,order:c,photo:d.image_src,title:f,subtitle:g,type:"thread",auxiliaryData:{participantsToRender:e,tooltipContent:h.join("\n"),thread:d}})},getRank:function(a){return a in h?h[a]:g?g.length:0},getActiveList:function(a){if(i.length>0){a(i);return}p.getList(function(b){return a(b)})},getActiveRank:function(a){return a in j?j[a]:p.getRank(a)}};(function(){b("ChatSidebarPreloadStore").onLoaded(function(a){var c=a.buddies;a=a.shortProfiles;b("ShortProfiles").setMulti(a);n(c);m(c)}),b("ChatProfileStore").init()})();e.exports=p}),null);
__d("ChatSidebarVisibility",["ChatConfig","ChatSidebarHideReason","ChatSidebarStore","OrderedFriendsList","SidebarType","getViewportDimensions","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ChatConfig").get("sidebar.min_friends"),h=b("ChatConfig").get("sidebar.minimum_width"),i={getViewport:function(){return b("gkx")("AT4gz_bRY5sNyXC9w4Akayj0OxvthyCO40TL1o3mvHk46uC52cZoFYJtJRK1uwlf9JMyhc21L_1vGUfFxZI19a9hOgbL7cH2dTTH2gcs-MFRwA")?b("getViewportDimensions")():b("getViewportDimensions").withoutScrollbars()},shouldShowSidebar:function(a,c){i.shouldShowSidebarIgnoreEnabled(a,function(a,d){var e=b("ChatSidebarStore").isEnabled();c(a&&e,e?d:d.concat([b("ChatSidebarHideReason").NOT_ENABLED]))})},shouldShowSidebarIgnoreEnabled:function(a,c){b("OrderedFriendsList").getActiveList(function(d){var e=a||i.getViewport();e=e.width>h;d=d.length<g;var f=!0,j=[];e||(f=!1,j.push(b("ChatSidebarHideReason").VIEWPORT_INCAPABLE));d&&(f=!1,j.push(b("ChatSidebarHideReason").LOW_FRIEND_COUNT));c(f,j)})},isSidebarVisible:function(){return b("ChatSidebarStore").getVisibleType()===b("SidebarType").SIDEBAR},isBuddyListVisible:function(){return b("ChatSidebarStore").getVisibleType()===b("SidebarType").BUDDYLIST}};e.exports=i}),null);
__d("ChatQuietLinks",["DataStore","DOM","Event","Parent","UserAgent_DEPRECATED","getOrCreateDOMID"],(function(a,b,c,d,e,f){__p&&__p();var g={};a={silenceLinks:function(a){h(a,this.removeEmptyHrefs.bind(this))},nukeLinks:function(a){h(a,this.removeAllHrefs.bind(this))},removeEmptyHrefs:function(a){i(a,function(a){return!a||a==="#"})},removeAllHrefs:function(a){i(a)}};function h(a,c){__p&&__p();var d=!!b("UserAgent_DEPRECATED").chrome(),e=!!b("UserAgent_DEPRECATED").chrome()||b("UserAgent_DEPRECATED").ie()>=9||b("UserAgent_DEPRECATED").firefox()>=4;if(g[b("getOrCreateDOMID")(a)])return;g[b("getOrCreateDOMID")(a)]=!0;if(!e)return;if(!d){c&&c(a);return}b("Event").listen(a,"mouseover",function(a){a=b("Parent").byTag(a.getTarget(),"a");if(a){var c=a.getAttribute("href");j(c)&&(b("DataStore").set(a,"stashedHref",a.getAttribute("href")),a.removeAttribute("href"))}});b("Event").listen(a,"mouseout",function(a){a=b("Parent").byTag(a.getTarget(),"a");var c=a&&b("DataStore").remove(a,"stashedHref");j(c)&&a.setAttribute("href",c)});b("Event").listen(a,"mousedown",function(a){if(!a.isDefaultRequested())return!0;a=b("Parent").byTag(a.getTarget(),"a");var c=a&&b("DataStore").get(a,"stashedHref");j(c)&&a.setAttribute("href",c)})}function i(a,c){a=b("DOM").scry(a,"a");c&&(a=a.filter(function(a){return c(a.getAttribute("href"))}));a.forEach(function(a){a.removeAttribute("href"),a.tabIndex||a.setAttribute("tabindex",0)})}function j(a){return a&&a!=="#"}e.exports=a}),null);
__d("AbstractBadge.react",["cx","invariant","React","formatNumber","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=b("React").PropTypes;function j(a){return parseInt(a,10)===a}d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(a){"use strict";i.constructor.call(this,a)}a.prototype.render=function(){"use strict";__p&&__p();var a=this.props,c=a.count,d=a.maxcount,e=a.label;a=babelHelpers.objectWithoutProperties(a,["count","maxcount","label"]);j(c)||h(0);j(d)||h(0);var f="_51lp"+(c>d?" _51lr":"")+(!this.props.allowZero&&c===0?" hidden_elem":"");e=e?b("React").createElement("span",{className:"accessible_elem","aria-hidden":c?"false":"true"},"\xa0",e):null;c=b("formatNumber").withMaxLimit(c,d);e!==null&&(c=b("React").createElement("span",{"aria-hidden":"true"},c));return b("React").createElement("span",babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.className,f)}),c,e)};a.propTypes={className:c.string,count:c.number.isRequired,maxcount:c.number,label:c.string};a.defaultProps={maxcount:20};e.exports=a}),null);
__d("XUIBadge.react",["cx","React","AbstractBadge.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";var a=this.props.type;a="_5ugh"+(a==="regular"?" _5ugf":"")+(a==="special"?" _5ugg":"");return b("React").createElement(b("AbstractBadge.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,a),type:null}))};function a(){"use strict";h.apply(this,arguments)}a.propTypes={type:c.oneOf(["regular","special"]),allowZero:c.bool};a.defaultProps={type:"regular"};e.exports=a}),null);
__d("ChatPerfTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:ChatPerfLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:ChatPerfLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ChatPerfLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setDuration=function(a){this.$1.duration=a;return this};a.prototype.setEndpoint=function(a){this.$1.endpoint=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setTabsOpen=function(a){this.$1.tabs_open=a;return this};c={duration:!0,endpoint:!0,event:!0,tabs_open:!0};e.exports=a}),null);
__d("ChatPerfInstrumentation",["Promise","BaseEventEmitter","ChatPerfEvent","ChatPerfTypedLogger","FantaConst","PresenceState","WorkModeConfig","emptyFunction","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("WorkModeConfig").is_work_user;c=a?b("FantaConst").cookieIDs.WORK_COOKIE_ID:b("FantaConst").cookieIDs.PERSONAL_COOKIE_ID;d=b("PresenceState").getInitial();var g=d&&d[c]?d[c].length:0,h=void 0;f={_startTime:Number,_sidebarStartTime:Number,init:function(){this._startTime=b("performanceAbsoluteNow")();return new(b("Promise"))(function(a){return a()})},initDivebar:function(){this._sidebarStartTime=b("performanceAbsoluteNow")()},_log:function(event,a){a=b("performanceAbsoluteNow")()-(a||this._startTime);h&&h.emit(event,a);var c=new(b("ChatPerfTypedLogger"))();c.setEvent(event).setDuration(a);c.setTabsOpen(g);c.log()},addPerfTimingsListener:function(event,a){h||(h=new(b("BaseEventEmitter"))());return h.once(event,a)},logInitStores:function(){this.logInitStores=b("emptyFunction"),this._log(b("ChatPerfEvent").CHAT_INIT_STORES)},logInitData:function(){this.logInitData=b("emptyFunction"),this._log(b("ChatPerfEvent").CHAT_INIT_DATA)},logInitUI:function(){this.logInitUI=b("emptyFunction"),this._log(b("ChatPerfEvent").CHAT_INIT_UI)},logInitSound:function(){this.logInitSound=b("emptyFunction"),this._log(b("ChatPerfEvent").CHAT_INIT_SOUND)},logDisplayDone:function(){this.logDisplayDone=b("emptyFunction"),this._log(b("ChatPerfEvent").CHAT_DISPLAY_DONE)},logTTI:function(){this.logTTI=b("emptyFunction"),this._log(b("ChatPerfEvent").TTI)},logCHAT_CONVERSATION_TTI:function(){this.logCHAT_CONVERSATION_TTI=b("emptyFunction"),this._log(b("ChatPerfEvent").CHAT_CONVERSATION_TTI)},logSIDEBAR_FROM_CLIENT_TTI:function(){this.logSIDEBAR_FROM_CLIENT_TTI=b("emptyFunction"),this._log(b("ChatPerfEvent").SIDEBAR_FROM_CLIENT_TTI,this._sidebarStartTime)},logSIDEBAR_DISPLAY_DONE:function(){this.logSIDEBAR_DISPLAY_DONE=b("emptyFunction"),this._log(b("ChatPerfEvent").SIDEBAR_DISPLAY_DONE,this._sidebarStartTime)}};e.exports=f}),null);
__d("MercuryBootloadOnInteraction.react",["React","createCancelableFunction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state={Component:null},this.$2=function(a){a=this.state.interactionType==="click"?"click":a.type;this.setState({interactionType:a},function(){b("promiseDone")(this.props.loader.load(),function(a){this.props.takeOverRender?this.props.takeOverRender(function(){return this.$1(a)}.bind(this)):this.$1(a)}.bind(this))}.bind(this))}.bind(this),this.$3=function(a){this.setState({Component:a})}.bind(this),this.$4=function(a){this.state.interactionType!=="click"&&this.setState({interactionType:undefined})}.bind(this),c}a.prototype.componentDidMount=function(){this.$1=b("createCancelableFunction")(this.$3)};a.prototype.componentWillUnmount=function(){this.$1.cancel()};a.prototype.render=function(){__p&&__p();var a={onFocus:this.$2,onMouseOver:this.$2,onClick:this.$2,onBlur:this.$4};if(!this.state.Component)return b("React").cloneElement(this.props.placeholder,a);a=this.state.Component;var c={};switch(this.state.interactionType){case"focus":c.autoFocus=!0;break;case"click":c.clicked=!0;break}return b("React").cloneElement(this.props.component,babelHelpers["extends"]({},c,{LazyLoadedComponent:a}))};e.exports=a}),null);
__d("onAfterLoadSafe",["Run","TimeSlice","requestIdleCallback"],(function(a,b,c,d,e,f){"use strict";a=function(a){return b("TimeSlice").guard(function(){return b("Run").onAfterLoad(function(){b("requestIdleCallback")(a)})},"delayed after load",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()};e.exports=a}),null);
__d("ChatSidebar",["csx","Arbiter","AsyncRequest","Bootloader","ChatConfig","ChatDispatcher","ChatPerfInstrumentation","ChatSidebarActions","ChatSidebarBotsDispatcher","ChatSidebarBotsStore","ChatSidebarCachedViewport","ChatSidebarStore","ChatSidebarVisibility","CSS","CurrentUser","DOM","DOMDimensions","Event","LitestandClassicPlaceHolders","Parent","PresencePrivacy","PresenceUtil","SidebarAppsInitialVisibility","SidebarType","Style","TimeSlice","ViewportBounds","WWWSiteOrganizationGating","emptyFunction","ge","gkx","ifRequired","onAfterLoadSafe","queryThenMutateDOM"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("ChatSidebarBotsDispatcher").module,i=b("ChatSidebarBotsStore").module,j,k,l,m,n,o,p=null,q=!1,r,s=!0,t=b("ChatSidebarCachedViewport").viewport;a=b("WWWSiteOrganizationGating").largerBlueBar;var u=a?49:44,v=30,w=171,x=b("ChatConfig").get("expanded_divebar_width");function y(){return b("ChatSidebarStore").getVisibleType()===b("SidebarType").SIDEBAR}function z(a,c){if(!y())return;b("CurrentUser").isWorkUser()&&A(!c);c?n.hide():(n.show(),E())}function A(a){p&&(a&&q?b("CSS").show(p):(q=b("CSS").shown(p),b("CSS").hide(p)))}function B(){return!y()||!m?0:x}function C(){b("CSS").removeClass(document.documentElement,"sidebarMode"),b("ChatSidebarStore").isInitialized()&&(n.hide(),b("CSS").hide(m),b("CSS").hide(l)),b("Arbiter").inform("sidebar/visibility",!1,b("Arbiter").BEHAVIOR_STATE),b("Arbiter").inform("reflow"),b("ViewportBounds").inform("change")}function D(a){E(a,M._cacheViewport)}function E(a,c){var d=void 0;b("queryThenMutateDOM")(function(){c&&c(),(!a||a.height!==t.height)&&(d=I())},function(){(a==null||a.width!==t.width)&&b("ChatSidebarVisibility").shouldShowSidebar(t,function(a,c){b("ChatSidebarActions").show(a?b("SidebarType").SIDEBAR:b("SidebarType").BUDDYLIST)}),J(d)})}function F(){b("ChatSidebarVisibility").shouldShowSidebar(t,function(a,c){b("ChatSidebarActions").show(a?b("SidebarType").SIDEBAR:b("SidebarType").BUDDYLIST)}),J(I())}function G(a){var c=t||b("ChatSidebarVisibility").getViewport(),d=c.height;a&&a.length?(a.forEach(function(a){a&&a!==j&&!b("CSS").hasClass(a,"hidden_elem")&&(d-=b("DOMDimensions").getElementDimensions(a).height)}),r&&(d-=r.getOffset()),o&&(d-=b("DOMDimensions").getElementDimensions(o).height)):(b("ifRequired")("AppsDivebarDisplayController",function(a){a.isVisible()&&(d-=w)},function(){b("SidebarAppsInitialVisibility").visible&&(d-=w)}),d-=u,d-=v);return Math.max(0,d)}function H(){b("CSS").show(l),b("CSS").show(m),x>206&&b("CSS").addClass(document.documentElement,"sidebarLarger"),b("CSS").addClass(document.documentElement,"sidebarMode"),n.show(),b("Arbiter").inform("sidebar/visibility",!0,b("Arbiter").BEHAVIOR_STATE),b("LitestandClassicPlaceHolders").destroy("sidebar"),b("ViewportBounds").inform("change")}function I(){return{body:M.getBodyHeight(),item:n.getItemHeight()}}function J(a){if(!a)return;var c=8,d=Math.floor((a.body-c)/a.item);n.setNumTopFriends(d,s,b("SidebarType").SIDEBAR);s=!1;d=Math.floor(a.body-c);b("Style").set(j,"height",a.body+"px");b("Arbiter").inform("sidebar/resized",d,b("Arbiter").BEHAVIOR_STATE);b("Arbiter").inform("reflow")}function K(){var a=void 0;b("queryThenMutateDOM")(function(){a=I()},function(){return J(a)})}function L(){new(b("AsyncRequest"))("/ajax/chat/settings.php").setHandler(b("emptyFunction")).setErrorHandler(b("emptyFunction")).setData({sidebar_mode:b("ChatSidebarStore").isEnabled(),window_id:b("PresenceUtil").getSessionID()}).setAllowCrossPageTransition(!0).send()}var M={init:function(a,c,d){__p&&__p();M.init=b("emptyFunction"),b("ChatPerfInstrumentation").initDivebar(),b("ChatDispatcher").explicitlyRegisterStore(b("ChatSidebarStore")),h&&i&&h.explicitlyRegisterStore(i),b("ChatSidebarActions").loaded(),m=a,n=c,p=d,j=b("DOM").find(a,"div.fbChatSidebarBody"),l=b("DOM").find(a,"._51x_"),o=b("DOM").find(a,"._5qqe"),b("Event").listen(window,"resize",function(){var a=babelHelpers["extends"]({},t)||{};D(a)}),b("Bootloader").loadModules(["KeyboardShortcuts"],function(c){c.register("q",function(event){if(b("ChatSidebarStore").getVisibleType()!==b("SidebarType").SIDEBAR)return;if(!k){var c=b("DOM").scry(a,"._3rhb input");c.length>0&&(k=c[0])}k&&(k.focus(),event.prevent())},{persistOnTransition:!0})},"ChatSidebar"),n.setScrollContainer(b("Parent").byClass(n.getRoot(),"uiScrollableAreaWrap")),b("Arbiter").subscribe("chat/option-changed",function(a,b){a=b.name;(a==="hide_groups"||a==="hide_admined_pages"||a==="hide_businesses")&&K()}),b("Arbiter").subscribe(["AppsDivebar/show-apps","AppsDivebar/hide-apps","PagesDivebar/show-pages","PagesDivebar/hide-pages"],K),b("Arbiter").subscribe("sidebar/typeahead/active",z),b("PresencePrivacy").subscribe("privacy-user-presence-changed",E),b("ChatSidebarStore").addListener(function(){var a=b("ChatSidebarStore").getState(),c=b("ChatSidebarStore").getPrevState();if(a.visible!==c.visible)switch(a.visible){case b("SidebarType").SIDEBAR:H();break;case b("SidebarType").BUDDYLIST:C();break}a.enabled!==c.enabled&&L()}),i&&i.addListener(function(){return K()}),b("gkx")("AT4xuZ6KicTRHJ7-VVo2al5OuIgAH2UnbvppZwmWOFgaXXw1Df_vJXJR_TJQJ8YKN1RjtB4EWptwOe1mw8W6tT1FjYsXDZ_wxr3ljwpzw17dng")?(F(),b("onAfterLoadSafe")(function(){t.needsRefresh&&D()})):D(),b("onAfterLoadSafe")(function(){b("Bootloader").loadModules(["ChatImpressionLogger"],function(a){a.init(n)},"ChatSidebar")}),b("ViewportBounds").addPersistentRight(B),b("Arbiter").inform("sidebar/initialized",M,b("Arbiter").BEHAVIOR_STATE),b("ChatSidebarActions").init(),b("ChatPerfInstrumentation").logSIDEBAR_DISPLAY_DONE()},ensureLoaded:function(){__p&&__p();if(!b("ChatSidebarStore").isEnabled())return;if(b("ChatSidebarStore").isLoaded())return;if(b("ge")("pagelet_sidebar"))return;b("Bootloader").loadModules(["UIPagelet"],function(a){var c=b("DOM").create("div",{id:"pagelet_sidebar"});b("DOM").appendContent(document.body,c);a.loadFromEndpoint("SidebarPagelet","pagelet_sidebar")},"ChatSidebar");b("ChatSidebarActions").loaded()},hide:function(){if(!b("ChatSidebarStore").isEnabled())return;b("ChatSidebarActions").disable()},unhide:function(){if(b("ChatSidebarStore").isEnabled())return;b("ChatSidebarVisibility").shouldShowSidebarIgnoreEnabled(null,function(a,c){b("ChatSidebarActions").enable(a?b("SidebarType").SIDEBAR:b("SidebarType").BUDDYLIST)})},_cacheViewport:function(){t=b("ChatSidebarVisibility").getViewport()},getBodyHeight:function(){return b("gkx")("AT6ezxCFIuDr3f155YU0cVompttkL6-4ye5A4xnJR5wWiQ5IOmLV0d94XM9VgwajF9248OtJTIz0cnvOn5PCMW2_")?G():G(Array.from(l.childNodes))}};M.init=b("TimeSlice").guard(M.init,"ChatSidebar init");e.exports=M}),null);
__d("MercuryParticipantListRenderer",["fbt","MercuryIDs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(){this.$6=function(a){var c=this.$5;if(c){var d=b("MercuryIDs").getUserIDFromParticipantID(a.id);if(d&&c[d])return c[d]}return this.$2?a.short_name:a.name}.bind(this),this.$1=!1,this.$2=!1,this.$3=!1,this.$4=0,this.$5=null}a.prototype.renderParticipantList=function(a){a=a.map(this.$6);switch(a.length){case 0:return h(this.$1);case 1:return i(a);case 2:return this.$3?k(a):j(a);case 3:return this.$3?m(a):l(a);default:return this.$3?o(a,this.$4):n(a,this.$4)}};a.prototype.setIsNewThread=function(a){this.$1=a;return this};a.prototype.setNameRenderer=function(a){this.$6=a;return this};a.prototype.setUseShortName=function(a){this.$2=a;return this};a.prototype.setNickname=function(a){this.$5=a;return this};a.prototype.setUseAndSeparator=function(a){this.$3=a;return this};a.prototype.setTotalParticipantCount=function(a){this.$4=a;return this};function h(a){if(a)return g._("New Message");else return g._("No Participants")}function i(a){return a[0]}function j(a){return g._("{participant1}, {participant2}",[g._param("participant1",a[0]),g._param("participant2",a[1])])}function k(a){return g._("{participant1} and {participant2}",[g._param("participant1",a[0]),g._param("participant2",a[1])])}function l(a){return g._("{participant1}, {participant2}, {participant3}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("participant3",a[2])])}function m(a){return g._("{participant1}, {participant2} and {participant3}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("participant3",a[2])])}function n(a,b){return g._("{participant1}, {participant2}, {participant3}, {others_link}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("participant3",a[2]),g._param("others_link",p((b||a.length)-3))])}function o(a,b){return g._("{participant1}, {participant2} and {others_link}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("others_link",p((b||a.length)-2))])}function p(a){if(a>1)return g._({"*":"{others_count} others"},[g._param("others_count",a,[0])]);else return g._("1 other")}e.exports=a}),null);
__d("SplitImage.react",["cx","React","Image.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.renderImages=function(){__p&&__p();if(!this.props.srcs)return null;var a=this.props.srcs,b=Array.isArray(a);if(b){a=a.filter(function(a){return a!==null});if(!a.length)return null}return!b||a.length==1?this.renderOne(b?a[0]:a):a.length==2?this.renderTwo(a):this.renderThree(a)}.bind(this),this.renderOne=function(a){return b("React").createElement(b("Image.react"),{src:a,width:this.props.size,height:this.props.size,alt:""})}.bind(this),this.renderTwo=function(a){var c=this.props.size,d=Math.floor(c/2),e=-Math.floor(d/2),f="_55lu"+(this.props.border?" _57xo":"");return b("React").createElement("div",null,b("React").createElement("div",{className:"_55lu",style:{width:d}},b("React").createElement(b("Image.react"),{src:a[0],width:c,height:c,style:{marginLeft:e},alt:""})),b("React").createElement("div",{className:f,style:{width:d}},b("React").createElement(b("Image.react"),{src:a[1],width:c,height:c,style:{marginLeft:e},alt:""})))}.bind(this),this.renderThree=function(a){var c=this.props.size,d=Math.floor(c/3*2),e=-Math.floor((c-d)/2),f=Math.floor(c/2),g=c-d,h=-Math.floor((f-g)/2),i="_55lu"+(this.props.border?" _57pl":""),j="_55lu"+(this.props.border?" _57pm":"");return b("React").createElement("div",null,b("React").createElement("div",{className:i,style:{width:d}},b("React").createElement(b("Image.react"),{src:a[0],width:c,height:c,style:{marginLeft:e},alt:""})),b("React").createElement("div",{className:j,style:{width:g,height:f}},b("React").createElement(b("Image.react"),{src:a[1],width:f,height:f,style:{marginLeft:h},alt:""})),b("React").createElement("div",{className:"_55lu",style:{width:g,height:f}},b("React").createElement(b("Image.react"),{src:a[2],width:f,height:f,style:{marginLeft:h},alt:""})))}.bind(this),c}a.prototype.render=function(){"use strict";var a=babelHelpers["extends"]({},this.props);delete a.srcs;var c=this.props.size;return b("React").createElement("div",babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.className,"_55lt"),style:babelHelpers["extends"]({},this.props.style||{},{width:c,height:c})}),this.renderImages())};e.exports=a}),null);
__d("MessengerWebDriverTestIDs",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ANIMATED_IMAGE:"animated_image",ATTACHMENT_ROOT:"attachment_root",CHAT_SIDEBAR:"chat_sidebar",INFO_PANEL:"info_panel",INFO_PANEL_BUTTON:"info_panel_button",STICKER:"sticker"})}),null);
__d("bs_caml_builtin_exceptions",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=["Out_of_memory",0];b=["Sys_error",-1];c=["Failure",-2];d=["Invalid_argument",-3];e=["End_of_file",-4];var g=["Division_by_zero",-5],h=["Not_found",-6],i=["Match_failure",-7],j=["Stack_overflow",-8],k=["Sys_blocked_io",-9],l=["Assert_failure",-10],m=["Undefined_recursive_module",-11];a.tag=248;b.tag=248;c.tag=248;d.tag=248;e.tag=248;g.tag=248;h.tag=248;i.tag=248;j.tag=248;k.tag=248;l.tag=248;m.tag=248;f.out_of_memory=a;f.sys_error=b;f.failure=c;f.invalid_argument=d;f.end_of_file=e;f.division_by_zero=g;f.not_found=h;f.match_failure=i;f.stack_overflow=j;f.sys_blocked_io=k;f.assert_failure=l;f.undefined_recursive_module=m}),null);
__d("bs_caml_array",["bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(b,c,a){var d=new Array(a),e=0;c=c;while(e<a)d[e]=b[c],e=e+1|0,c=c+1|0;return d}function g(a,b){while(!0){var c=b,d=a;if(c){b=c[1];a=c[0].length+d|0;continue}else return d}}function h(a,b,c){__p&&__p();while(!0){var d=c,e=b;if(d){var f=d[0],g=f.length;e=e;var h=0;while(h<g)a[e]=f[h],e=e+1|0,h=h+1|0;c=d[1];b=e;continue}else return 0}}function c(a){var b=g(0,a);b=new Array(b);h(b,0,a);return b}function d(a,c,d){if(c<0||c>=a.length)throw[b("bs_caml_builtin_exceptions").invalid_argument,"index out of bounds"];else{a[c]=d;return 0}}function e(a,c){if(c<0||c>=a.length)throw[b("bs_caml_builtin_exceptions").invalid_argument,"index out of bounds"];else return a[c]}function i(a,b){var c=new Array(a);for(var d=0,a=a-1|0;d<=a;++d)c[d]=b;return c}function j(a){var b=new Array(a);for(var c=0,a=a-1|0;c<=a;++c)b[c]=0;return b}function k(b,c,d,e,a){if(e<=c){for(var f=0,h=a-1|0;f<=h;++f)d[f+e|0]=b[f+c|0];return 0}else{for(var f=a-1|0;f>=0;--f)d[f+e|0]=b[f+c|0];return 0}}function l(a){return a.slice(0)}f.caml_array_dup=l;f.caml_array_sub=a;f.caml_array_concat=c;f.caml_make_vect=i;f.caml_make_float_vect=j;f.caml_array_blit=k;f.caml_array_get=e;f.caml_array_set=d}),null);
__d("bs_curry",["bs_caml_array"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){__p&&__p();while(!0){var d=c,e=a,f=e.length;f=f===0?1:f;var h=d.length;h=f-h|0;if(h===0)return e.apply(null,d);else if(h<0){c=b("bs_caml_array").caml_array_sub(d,f,-h|0);a=e.apply(null,b("bs_caml_array").caml_array_sub(d,0,f));continue}else return function(b,a){return function(c){return g(b,a.concat([c]))}}(e,d)}}function h(a,b,c){__p&&__p();if(c>7||c<0)return g(a,[b]);else switch(c){case 0:case 1:return a(b);case 2:return function(c){return a(b,c)};case 3:return function(c,d){return a(b,c,d)};case 4:return function(c,d,e){return a(b,c,d,e)};case 5:return function(c,d,e,f){return a(b,c,d,e,f)};case 6:return function(c,d,e,f,g){return a(b,c,d,e,f,g)};case 7:return function(c,d,e,f,g,h){return a(b,c,d,e,f,g,h)}}}function i(a,b){var c=a.length;if(c===1)return a(b);else return h(a,b,c)}function a(a){var b=a.length;if(b===1)return a;else return function(b){return i(a,b)}}function j(a,b,c,d){__p&&__p();if(d>7||d<0)return g(a,[b,c]);else switch(d){case 0:case 1:return g(a(b),[c]);case 2:return a(b,c);case 3:return function(d){return a(b,c,d)};case 4:return function(d,e){return a(b,c,d,e)};case 5:return function(d,e,f){return a(b,c,d,e,f)};case 6:return function(d,e,f,g){return a(b,c,d,e,f,g)};case 7:return function(d,e,f,g,h){return a(b,c,d,e,f,g,h)}}}function k(a,b,c){var d=a.length;if(d===2)return a(b,c);else return j(a,b,c,d)}function c(a){var b=a.length;if(b===2)return a;else return function(b,c){return k(a,b,c)}}function l(a,b,c,d,e){__p&&__p();var f=0;if(e>7||e<0)return g(a,[b,c,d]);else switch(e){case 0:case 1:f=1;break;case 2:return g(a(b,c),[d]);case 3:return a(b,c,d);case 4:return function(e){return a(b,c,d,e)};case 5:return function(e,f){return a(b,c,d,e,f)};case 6:return function(e,f,g){return a(b,c,d,e,f,g)};case 7:return function(e,f,g,h){return a(b,c,d,e,f,g,h)}}if(f===1)return g(a(b),[c,d])}function m(a,b,c,d){var e=a.length;if(e===3)return a(b,c,d);else return l(a,b,c,d,e)}function d(a){var b=a.length;if(b===3)return a;else return function(b,c,d){return m(a,b,c,d)}}function n(a,b,c,d,e,f){__p&&__p();var h=0;if(f>7||f<0)return g(a,[b,c,d,e]);else switch(f){case 0:case 1:h=1;break;case 2:return g(a(b,c),[d,e]);case 3:return g(a(b,c,d),[e]);case 4:return a(b,c,d,e);case 5:return function(f){return a(b,c,d,e,f)};case 6:return function(f,g){return a(b,c,d,e,f,g)};case 7:return function(f,g,h){return a(b,c,d,e,f,g,h)}}if(h===1)return g(a(b),[c,d,e])}function o(a,b,c,d,e){var f=a.length;if(f===4)return a(b,c,d,e);else return n(a,b,c,d,e,f)}function e(a){var b=a.length;if(b===4)return a;else return function(b,c,d,e){return o(a,b,c,d,e)}}function p(a,b,c,d,e,f,h){__p&&__p();var i=0;if(h>7||h<0)return g(a,[b,c,d,e,f]);else switch(h){case 0:case 1:i=1;break;case 2:return g(a(b,c),[d,e,f]);case 3:return g(a(b,c,d),[e,f]);case 4:return g(a(b,c,d,e),[f]);case 5:return a(b,c,d,e,f);case 6:return function(g){return a(b,c,d,e,f,g)};case 7:return function(g,h){return a(b,c,d,e,f,g,h)}}if(i===1)return g(a(b),[c,d,e,f])}function q(a,b,c,d,e,f){var g=a.length;if(g===5)return a(b,c,d,e,f);else return p(a,b,c,d,e,f,g)}function r(a){var b=a.length;if(b===5)return a;else return function(b,c,d,e,f){return q(a,b,c,d,e,f)}}function s(a,b,c,d,e,f,h,i){__p&&__p();var j=0;if(i>7||i<0)return g(a,[b,c,d,e,f,h]);else switch(i){case 0:case 1:j=1;break;case 2:return g(a(b,c),[d,e,f,h]);case 3:return g(a(b,c,d),[e,f,h]);case 4:return g(a(b,c,d,e),[f,h]);case 5:return g(a(b,c,d,e,f),[h]);case 6:return a(b,c,d,e,f,h);case 7:return function(g){return a(b,c,d,e,f,h,g)}}if(j===1)return g(a(b),[c,d,e,f,h])}function t(a,b,c,d,e,f,g){var h=a.length;if(h===6)return a(b,c,d,e,f,g);else return s(a,b,c,d,e,f,g,h)}function u(a){var b=a.length;if(b===6)return a;else return function(b,c,d,e,f,g){return t(a,b,c,d,e,f,g)}}function v(a,b,c,d,e,f,h,i,j){__p&&__p();var k=0;if(j>7||j<0)return g(a,[b,c,d,e,f,h,i]);else switch(j){case 0:case 1:k=1;break;case 2:return g(a(b,c),[d,e,f,h,i]);case 3:return g(a(b,c,d),[e,f,h,i]);case 4:return g(a(b,c,d,e),[f,h,i]);case 5:return g(a(b,c,d,e,f),[h,i]);case 6:return g(a(b,c,d,e,f,h),[i]);case 7:return a(b,c,d,e,f,h,i)}if(k===1)return g(a(b),[c,d,e,f,h,i])}function w(a,b,c,d,e,f,g,h){var i=a.length;if(i===7)return a(b,c,d,e,f,g,h);else return v(a,b,c,d,e,f,g,h,i)}function x(a){var b=a.length;if(b===7)return a;else return function(b,c,d,e,f,g,h){return w(a,b,c,d,e,f,g,h)}}function y(a,b,c,d,e,f,h,i,j,k){__p&&__p();var l=0;if(k>7||k<0)return g(a,[b,c,d,e,f,h,i,j]);else switch(k){case 0:case 1:l=1;break;case 2:return g(a(b,c),[d,e,f,h,i,j]);case 3:return g(a(b,c,d),[e,f,h,i,j]);case 4:return g(a(b,c,d,e),[f,h,i,j]);case 5:return g(a(b,c,d,e,f),[h,i,j]);case 6:return g(a(b,c,d,e,f,h),[i,j]);case 7:return g(a(b,c,d,e,f,h,i),[j])}if(l===1)return g(a(b),[c,d,e,f,h,i,j])}function z(a,b,c,d,e,f,g,h,i){var j=a.length;if(j===8)return a(b,c,d,e,f,g,h,i);else return y(a,b,c,d,e,f,g,h,i,j)}function A(a){var b=a.length;if(b===8)return a;else return function(b,c,d,e,f,g,h,i){return z(a,b,c,d,e,f,g,h,i)}}f.app=g;f.curry_1=h;f._1=i;f.__1=a;f.curry_2=j;f._2=k;f.__2=c;f.curry_3=l;f._3=m;f.__3=d;f.curry_4=n;f._4=o;f.__4=e;f.curry_5=p;f._5=q;f.__5=r;f.curry_6=s;f._6=t;f.__6=u;f.curry_7=v;f._7=w;f.__7=x;f.curry_8=y;f._8=z;f.__8=A}),null);
__d("bs_js_null_undefined",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){if(a==null)return a;else return b(a)}function b(a,b){if(a==null)return 0;else return b(a)}function c(a){if(a)return a[0];else return undefined}d=c;f.bind=a;f.iter=b;f.fromOption=c;f.from_opt=d}),null);
__d("ReasonReact.bs",["bs_curry","React","bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){a=[a,c].concat(d);return b("React").createElement.apply(null,a)}function g(){return 0}function h(){return!0}function i(a){return a[1]}function j(){return"RenderNotImplemented"}function k(){return 0}function l(a,b){return 0}function m(a,c,d){var e=a.reasonProps;if(e==null)if(c)return[b("bs_curry")._1(c[0],a)];else throw[b("bs_caml_builtin_exceptions").invalid_argument,"A JS component called the Reason component "+(d+" which didn't implement the JS->Reason React props conversion.")];else return e}function n(a){__p&&__p();return b("React").createClass({displayName:a,subscriptions:null,self:function(a,b){var c=this;return[c.handleMethod,a,b,c.sendMethod,c.onUnmountMethod]},transitionNextTotalState:function(a,b){if(typeof b==="number")return[0,a];else switch(b.tag|0){case 0:return[0,{reasonState:b[0]}];case 1:return[[b[0]],a];case 2:return[[b[1]],{reasonState:b[0]}]}},getInitialState:function(){var c=this;c=m(c.props,c.jsPropsToReason,a);return{reasonState:b("bs_curry")._1(c[0][10],0)}},componentDidMount:function(){var c=this,d=this,e=m(d.props,d.jsPropsToReason,a);e=e[0];if(e[4]!==g){d=d.state;d=d.reasonState;return b("bs_curry")._1(e[4],c.self(d,e[11]))}else return 0},componentDidUpdate:function(c,d){__p&&__p();var e=this,f=this,h=f.state;h=h.reasonState;var i=f.props,j=m(i,f.jsPropsToReason,a),k=j[0];if(k[5]!==g){i=c===i;i=i?j:m(c,f.jsPropsToReason,a);j=d.reasonState;c=e.self(h,k[11]);f=c[0];d=i[0][11];e=c[3];h=c[4];i=[f,j,d,e,h];return b("bs_curry")._1(k[5],[i,c])}else return 0},componentWillUnmount:function(){__p&&__p();var c=this,d=this,e=m(d.props,d.jsPropsToReason,a);e=e[0];d=d.state;d=d.reasonState;e[6]!==g&&b("bs_curry")._1(e[6],c.self(d,e[11]));d=c.subscriptions;if(d!==null){d.forEach(function(a){return b("bs_curry")._1(a,0)});return 0}else return 0},componentWillUpdate:function(c,d){__p&&__p();var e=this,f=this,h=m(c,f.jsPropsToReason,a),i=h[0];if(i[7]!==g){var j=f.props;c=c===j;c=c?h:m(j,f.jsPropsToReason,a);h=f.state;j=h.reasonState;f=d.reasonState;h=e.self(f,i[11]);d=h[0];e=c[0][11];f=h[3];c=h[4];d=[d,j,e,f,c];return b("bs_curry")._1(i[7],[d,h])}else return 0},componentWillReceiveProps:function(c){__p&&__p();var d=this,e=this,f=m(c,e.jsPropsToReason,a),g=f[0];if(g[3]!==i){var h=e.props;c=c===h;c=c?f:m(h,e.jsPropsToReason,a);var j=c[0];return e.setState(function(a,c){c=a.reasonState;c=d.self(c,j[11]);c=b("bs_curry")._1(g[3],c);if(c!==a)return{reasonState:c};else return a},null)}else return 0},shouldComponentUpdate:function(c,d,e){__p&&__p();e=this;var f=this,g=f.props,i=m(f.props,f.jsPropsToReason,a);g=c===g;g=g?i:m(c,f.jsPropsToReason,a);c=g[0];g=d.reasonState;d=e.self(g,c[11]);if(c[8]!==h){e=f.state;g=e.reasonState;f=d[0];e=i[0][11];i=d[3];var j=d[4];f=[f,g,e,i,j];return b("bs_curry")._1(c[8],[f,d])}else return!0},onUnmountMethod:function(a){var b=this,c=b.subscriptions;if(c!==null){c.push(a);return 0}else{b.subscriptions=[a];return 0}},handleMethod:function(c){var d=this,e=this;return function(f){var g=e.state;g=g.reasonState;var h=m(e.props,e.jsPropsToReason,a);return b("bs_curry")._2(c,f,d.self(g,h[0][11]))}},sendMethod:function(c){__p&&__p();var d=this,e=this,f=m(e.props,e.jsPropsToReason,a);f=f[0];if(f[12]!==l){var g=[function(){return 0}],h=b("bs_curry")._1(f[12],c);return e.setState(function(a,c){__p&&__p();c=a.reasonState;c=b("bs_curry")._1(h,c);if(c===0)return null;else{c=d.transitionNextTotalState(a,c);var e=c[1];c=c[0];c&&(g[0]=c[0]);if(e!==a)return e;else return null}},d.handleMethod(function(a,c){return b("bs_curry")._1(g[0],c)}))}else return 0},reduceMethod:function(a,c){var d=this;return d.sendMethod(b("bs_curry")._1(a,c))},render:function(){var c=this,d=this,e=m(d.props,d.jsPropsToReason,a);e=e[0];d=d.state;d=d.reasonState;return b("bs_curry")._1(e[9],c.self(d,e[11]))}})}function c(a){return[a,n(a),[0],i,g,g,g,g,h,j,k,0,l,0]}var o=c,p=c,q=c,r=c;function d(a,c,d){a=a?a[0]:undefined;c=c?c[0]:undefined;var e=[d],f=d[13];if(f)return b("bs_curry")._2(f[0],a,c);else return b("React").createElement(d[1],{key:a,ref:c,reasonProps:e})}function e(a,b){var c=a[1].prototype;c.jsPropsToReason=[b];return a[1]}function s(a,c){var d=function(a){return b("bs_curry")._2(c,a,a.children)};d=[d];var e=a[1].prototype;e.jsPropsToReason=d;return a[1]}var t=c("interop");function u(a,c,d){var e=[function(e,f){var g=a,h=c,i=d;e=e;f=f;h=Object.assign(Object.assign({},h),{ref:f,key:e});f=[g,h].concat(i);return b("React").createElement.apply(null,f)}];return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],e]}function v(a){if(typeof Event==="function")return new Event(a);else{var b=document.createEvent("Event");b.initEvent(a,!0,!0);return b}}function w(){__p&&__p();var a=typeof window==="undefined"?undefined:window;if(a!==undefined){a=a.location.pathname;switch(a){case"":case"/":return 0;default:a=a.slice(1);var b=a[a.length-1|0];b=b==="/"?a.slice(0,-1):a;a=b.split("/");b=a.length-1|0;var c=0;while(!0){var d=c,e=b;if(e<0)return d;else{c=[a[e],d];b=e-1|0;continue}}}}else return 0}function x(){var a=typeof window==="undefined"?undefined:window;if(a!==undefined){a=a.location.hash;switch(a){case"":case"#":return"";default:return a.slice(1)}}else return""}function y(){var a=typeof window==="undefined"?undefined:window;if(a!==undefined){a=a.location.search;switch(a){case"":case"?":return"";default:return a.slice(1)}}else return""}function z(a){var b=typeof history==="undefined"?undefined:history,c=typeof window==="undefined"?undefined:window;if(b!==undefined&&c!==undefined){b.pushState(null,"",a);c.dispatchEvent(v("popstate"));return 0}else return 0}function A(){return[w(0),x(0),y(0)]}function B(a){var c=typeof window==="undefined"?undefined:window;if(c!==undefined){var d=function(){return b("bs_curry")._1(a,A(0))};c.addEventListener("popstate",d);return d}else return function(){return 0}}function C(a){var b=typeof window==="undefined"?undefined:window;if(b!==undefined){b.removeEventListener("popstate",a);return 0}else return 0}function D(){return 0}function E(){return[D]}function F(a,b){if(b[0]===D){b[0]=a;return[b]}else return 0}function G(a){a[0]=D;return 0}function H(a,c){return b("bs_curry")._1(a[0],c)}c=[z,B,C,A];z=[E,F,G,H];f.statelessComponent=o;f.statelessComponentWithRetainedProps=p;f.reducerComponent=q;f.reducerComponentWithRetainedProps=r;f.element=d;f.wrapReasonForJs=e;f.wrapReasonForJsWithChildren=s;f.createDomElement=a;f.wrapJsForReason=u;f.Router=c;f.RemoteAction=z}),null);