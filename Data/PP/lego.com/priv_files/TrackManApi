(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var basicTracking=require('./BasicTracking.js'),trackingBase=require('./TrackingBase/TrackingBase.js');'use strict';var accountSite,s;var exports={};exports.info={version:'V001',name:'AccountTracking'};exports.events={};exports.pages={};var EVENT_SIGNUP_INITIATED=17;var EVENT_CONFIRM_DOB=18;var EVENT_ABOVE_13_SUBMIT=20;var EVENT_ABOVE_13_COMPLETE=21;var EVENT_UNDER_13_SUBMIT=19;var EVENT_UNDER_13_COMPLETE=5;var EVENT_PARENT_ACTIVATION_PAGE_VIEWED=22;var EVENT_PARENT_ACTIVATION_CANCEL=23;var EVENT_PARENT_ACTIVATION_ACTIVATE=24;var EVENT_PARENT_ACTIVATION_COMPLETE=25;var EVENT_FORM_FIELD_SUCCES=77;var EVENT_FORM_FIELD_ERROR=78;s=trackingBase.SCode;accountSite='account2';if(window.TrackMan&&window.TrackMan.Data&&(''+window.TrackMan.Data.initialPage).toLowerCase().indexOf('accountlite:')===0){accountSite='accountlite';}
function getAgeFromDateOfBirth(dob,today){var d,dobDay,dobMonth,dobYear,nowyear,nowmonth,nowday,age;if(today===undefined||today===null){today=new Date();}
d=dob.split('-');dobDay=parseInt(d[2],10);dobMonth=parseInt(d[1],10)-1;dobYear=parseInt(d[0],10);nowyear=today.getFullYear();nowmonth=today.getMonth();nowday=today.getDate();age=nowyear-dobYear;if(dobMonth>nowmonth){age=age-1;}else if(dobMonth===nowmonth&&nowday<dobDay){age=age-1;}
return age;}
function setAge(birthdate){var age;if(birthdate){age=getAgeFromDateOfBirth(birthdate);}else{age='Age N/A';}
s.prop10=s.eVar10=''+age;return age;}
function setGender(gender,age){var genderValue='Gender N/A';if(1*age>=13){gender=(''+gender).toUpperCase();if(gender!=='M'&&gender!=='F'){gender=genderValue;}
genderValue=gender;}
s.prop11=s.eVar11=genderValue;return genderValue;}
exports.setMode=function(siteMode){siteMode=(''+siteMode).toLowerCase();if(siteMode==='account2'||siteMode==='accountlite'){accountSite=siteMode;}
return accountSite===siteMode;};exports.pages.trackPage=function(channel,pageName){var res=false;if((channel||'')!==''&&(pageName||'')!==''){trackingBase.setChannel(accountSite,channel.toLowerCase()).trackPage(pageName.toLowerCase());res=true;}
return res;};exports.pages.message=function(pageName){return exports.pages.trackPage('homepage',pageName);};exports.pages.deleteAccount=function(){};exports.pages.managedAccount=function(){exports.pages.trackPage('managedaccount','parentdetails');};exports.pages.signIn=function(){exports.pages.trackPage('homepage','signin');};exports.pages.signOut=function(){exports.pages.trackPage('homepage','signout');};exports.pages.profile=function(){exports.pages.trackPage('homepage','profile');};exports.pages.sendUserName=function(){exports.pages.trackPage('homepage','sendusername');};exports.pages.sendPassword=function(){exports.pages.trackPage('homepage','sendpassword');};exports.pages.faq=function(){exports.pages.trackPage('homepage','faq');};exports.pages.toc=function(){exports.pages.trackPage('homepage','toc');};exports.pages.privacyPolicy=function(){exports.pages.trackPage('homepage','privacy-policy');};exports.pages.cookiePolicy=function(){exports.pages.trackPage('homepage','cookie-policy');};exports.pages.signUp=function(){trackingBase.withEvents(EVENT_SIGNUP_INITIATED);exports.pages.trackPage('registration','signup');};exports.pages.registrationDone=function(birthdate){var age=setAge(birthdate);if(age*1>=13){trackingBase.withEvents(EVENT_ABOVE_13_COMPLETE).setChannel(accountSite,'registration').trackPage('done');}else{trackingBase.withEvents(EVENT_UNDER_13_COMPLETE).setChannel(accountSite,'registration').trackPage('pending-activation');}};exports.pages.registrationPendingActivation=function(birthdate){exports.pages.registrationDone(birthdate);};exports.pages.resendActivation=function(){trackingBase.setChannel(accountSite,'resend-activation').trackPage('resendactivationmail');};exports.pages.resendActivationDone=function(){trackingBase.setChannel(accountSite,'resend-activation').trackPage('resendactivationmaildone');};exports.pages.parentActivate=function(birthday){var dateOfbirth=birthday||null;if(dateOfbirth===null){if(window&&window.activatePage!==undefined&&window.activatePage!==null&&window.activatePage.getPageData!==undefined){try{dateOfbirth=window.activatePage.getPageData().dob;}catch(e){dateOfbirth=null;}}}
setAge(dateOfbirth);trackingBase.withEvents(EVENT_PARENT_ACTIVATION_PAGE_VIEWED).setChannel(accountSite,'homepage').trackPage('activate');};exports.pages.identityValidation=function(subPage){if((subPage||'')!==''){trackingBase.setChannel(accountSite,'identityvalidation').trackPage(subPage);}else{trackingBase.setChannel(accountSite,'identityvalidation').trackPage('overview');}};exports.pages.verifyPassword=function(){trackingBase.setChannel(accountSite,'homepage').trackPage('verifypassword');};exports.pages.managedAccountParentDetails=function(){trackingBase.setChannel(accountSite,'managedaccount').trackPage('parentdetails');};exports.events.signUpSubmit=function(gender,dob,optionalLinkTag){var age,message,submitEvents;age=setAge(dob);setGender(gender,age);if(age==='Age N/A'||age<13){submitEvents=EVENT_UNDER_13_SUBMIT;}else{submitEvents=EVENT_ABOVE_13_SUBMIT;}
message='Sign Up - '+(age==='Age N/A'||age<13?'Under':'Above')+' 13 Clicked on Submit';trackingBase.withEvents(submitEvents).trackLinkHit(message,trackingBase.USE_DEFAULT_TRACKVARS,optionalLinkTag);};exports.events.parentActivateHitCancel=function(gender,birthdate,optionalLinkTag){var age=setAge(birthdate);setGender(gender,age);trackingBase.withEvents(EVENT_PARENT_ACTIVATION_CANCEL).trackLinkHit('Parent Activation - Cancel',trackingBase.USE_DEFAULT_TRACKVARS,optionalLinkTag);};exports.events.parentActivateHitActivate=function(gender,birthdate,optionalLinkTag){var age=setAge(birthdate);setGender(gender,age);trackingBase.withEvents(EVENT_PARENT_ACTIVATION_ACTIVATE,EVENT_PARENT_ACTIVATION_COMPLETE,EVENT_UNDER_13_COMPLETE).trackLinkHit('Parent Activation - Activate',trackingBase.USE_DEFAULT_TRACKVARS,optionalLinkTag);};exports.events.validatedBirthday=function(birthdate,optionalLinkTag){setAge(birthdate);trackingBase.withEvents(EVENT_CONFIRM_DOB).trackLinkHit('Sign Up - Confirm Birthday',trackingBase.USE_DEFAULT_TRACKVARS,optionalLinkTag);};exports.events.leavingField=function(formname,fieldname,optionalFieldError,optionalLinkTag){fieldname=fieldname.toLowerCase();s.prop26=accountSite+':'+formname.toLowerCase()+':'+fieldname+(optionalFieldError!==undefined?':error:'+optionalFieldError:'');s.eVar57=accountSite+':'+formname.toLowerCase()+':'+fieldname;trackingBase.addTrackVars(['prop26','eVar57','event'+EVENT_FORM_FIELD_ERROR,'event'+EVENT_FORM_FIELD_SUCCES]);trackingBase.withEvents(optionalFieldError!==undefined?EVENT_FORM_FIELD_ERROR:EVENT_FORM_FIELD_SUCCES).trackLinkHit('formfield:'+s.eVar57,trackingBase.USE_DEFAULT_TRACKVARS,optionalLinkTag);trackingBase.removeTrackVars(['prop26','eVar57','event'+EVENT_FORM_FIELD_ERROR,'event'+EVENT_FORM_FIELD_SUCCES]);s.prop26=s.eVar57='';};exports.events.profileEditAvatar=function(gender,birthdate){var age;var eVar54=s.eVar54;age=setAge(birthdate);setGender(gender,age);s.eVar54=accountSite+':profile-edit-avatar';basicTracking.trackPage();s.eVar54=eVar54;};exports.events.profileSave=function(gender,birthdate){var age;var eVar54=s.eVar54;age=setAge(birthdate);setGender(gender,age);s.eVar54=accountSite+':profile-save';basicTracking.trackPage();s.eVar54=eVar54;};exports.events.profileHelp=function(gender,birthdate){var age;var eVar54=s.eVar54;age=setAge(birthdate);setGender(gender,age);s.eVar54=accountSite+':profile-help';basicTracking.trackPage();s.eVar54=eVar54;};exports.events.profileDeleteIntent=function(gender,birthdate){var age;var eVar54=s.eVar54;age=setAge(birthdate);setGender(gender,age);s.eVar54=accountSite+':profile-delete-intent';basicTracking.trackPage();s.eVar54=eVar54;};exports.events.profileCancelDeleteIntent=function(gender,birthdate){var age;var eVar54=s.eVar54;age=setAge(birthdate);setGender(gender,age);s.eVar54=accountSite+':profile-cancel-delete-intent';basicTracking.trackPage();s.eVar54=eVar54;};exports.events.profileOkDeleteIntent=function(gender,birthdate){var age;var eVar54=s.eVar54;age=setAge(birthdate);setGender(gender,age);s.eVar54=accountSite+':profile-ok-delete-intent';basicTracking.trackPage();s.eVar54=eVar54;};if(window&&window.TrackMan){window.TrackMan.addLoadedModule(exports);}
module.exports=exports;},{"./BasicTracking.js":2,"./TrackingBase/TrackingBase.js":21}],2:[function(require,module,exports){var trackingBase=require('./TrackingBase/TrackingBase.js');'use strict';var s;var exports={};exports.info={version:'V001',name:'BasicTracking'};exports.Settings={'set':trackingBase.Settings.set,'get':trackingBase.Settings.get};s=trackingBase.SCode;exports.setContentCulture=function(contentCulture){trackingBase.setContentCulture(contentCulture);return this;};exports.setSiteCulture=function(siteCulture){trackingBase.setSiteCulture(siteCulture);return this;};exports.clickAction=function(action){var eVar54=s.eVar54;s.eVar54=action;trackingBase.withTrackVars('eVar54').trackLinkHit(action,null,null,'o');s.eVar54=eVar54;};exports.exitLink=function(linkUrl,callback,tag){if(callback){setTimeout(function(){callback(linkUrl,tag);},500);}
return trackingBase.trackLinkHit(linkUrl,null,tag,'e');};exports.trackDownload=function(aTag){aTag=aTag;};exports.setReportSuites=function(suitesString){trackingBase.Settings.UseDefaultReportSuites=false;trackingBase.SetReportSuites(suitesString);return this;};exports.setReferrer=function(applicationType,applicationName){var value=applicationType+':'+applicationName;value=value.toLowerCase();trackingBase.setProp(35,value);trackingBase.setEVar(47,value);return this;};exports.trackTemporary=function(data){s.eVar58=data;s.prop58=data;trackingBase.withEvents(84).withTrackVars('prop58,eVar58').trackLinkHit('temp');};exports.setChannel=function(site,mainSection){trackingBase.setChannel(site,mainSection);return this;};exports.trackPage=function(){trackingBase.trackPage.apply(this,arguments);return this;};exports.setPageName=function(){trackingBase.setPage.apply(this,arguments);return this;};exports.setReferringUrl=function(url){trackingBase.SCode.referrer=url;trackingBase.ReferrerUrl=url;return this;};exports.trackError=function(originator,errorValue){trackingBase.SCode.eVar100=(originator+'|'+errorValue).toLowerCase();return this;};if(window&&window.TrackMan){window.TrackMan.addLoadedModule(exports);}
module.exports=exports;},{"./TrackingBase/TrackingBase.js":21}],3:[function(require,module,exports){var base=require('./TrackingBase/TrackingBase.js');'use strict';var s=base.SCode;var products,withCharacterArguments;var exports={};withCharacterArguments=[];products=undefined;exports.info={version:'V001',name:'CharacterTracking'};exports.withProducts=function(){var l,i;if(arguments.length>0){products=';'+arguments[0]+';;';l=arguments.length;for(i=1;i<l;i++){products+=',;'+arguments[i]+';;';}}else{products=undefined;}
return this;};exports.withCharacter=function(){if(arguments.length>0){withCharacterArguments=Array.prototype.slice.call(arguments,0);}else{withCharacterArguments=[];}
return this;};exports.withBios=exports.withCharacter;exports.trackPage=function(){if(products){s.products=products;base.withEvents(8);}
base.trackPage.apply(base,withCharacterArguments.concat(Array.prototype.slice.call(arguments,0)));withCharacterArguments=[];products=undefined;s.products='';};if(window&&window.TrackMan){window.TrackMan.addLoadedModule(exports);}
module.exports=exports;},{"./TrackingBase/TrackingBase.js":21}],4:[function(require,module,exports){var base=require('./TrackingBase/TrackingBase.js');'use strict';var exports={};exports.signUp=function(formSection){base.withEvents(29).trackPage('default',formSection);};exports.info={version:'V001',name:'ClubTracking'};if(window&&window.TrackMan){window.TrackMan.addLoadedModule(exports);}
module.exports=exports;},{"./TrackingBase/TrackingBase.js":21}],5:[function(require,module,exports){var trackingBase=require('./TrackingBase/TrackingBase.js');'use strict';var exports,s;exports={};exports.Character={};exports.Video={};exports.Article={};exports.Activity={};exports.BuildingInstruction={};exports.Event={};exports.Gallery={};exports.UGC={};exports.Poll={};exports.TvSeries={};exports.Game={};exports.Product={};exports.Remake={};exports.info={};exports.info.version='V001';exports.info.name='ContentTracking';s=trackingBase.SCode;function _enforceNamingConvention(input){if(input){var filtered=input.toLowerCase().replace(new RegExp(' ','g'),'_');return filtered.replace(new RegExp('[^0-9a-z:-_]','g'),'-');}else{return'';}}
function _setTrackingVars(guid,name,type,theme,action,event){_setTrackingVarsWithCategory(guid,name,type,theme,action,'',event);}
function _setTrackingVarsWithCategory(guid,name,type,theme,action,category,event){var strippedguid='';if(guid){strippedguid=guid.toString().replace('{','').replace('}','');}
trackingBase.setEVar(75,strippedguid);trackingBase.setEVar(76,_enforceNamingConvention(name));trackingBase.setEVar(77,type);trackingBase.setEVar(78,action);trackingBase.setEVar(79,_enforceNamingConvention(theme));trackingBase.setEVar(81,_enforceNamingConvention(category));trackingBase.setProp(47,strippedguid);trackingBase.setProp(48,_enforceNamingConvention(name));trackingBase.setProp(49,type);trackingBase.setProp(51,action);trackingBase.setProp(56,_enforceNamingConvention(theme));trackingBase.setProp(59,_enforceNamingConvention(category));trackingBase.addTrackVars('prop47,prop48,prop49,prop51,prop56,prop59,eVar75,eVar76,eVar77,eVar78,eVar79,eVar81');trackingBase.withEvents(event).trackLinkHit(type+':'+action);trackingBase.clearEVars(75,76,77,78,79,81);trackingBase.clearProps(47,48,49,51,56,59);trackingBase.removeTrackVars('prop47,prop48,prop49,prop51,prop56,prop59,eVar75,eVar76,eVar77,eVar78,eVar79,eVar81');}
exports.Character.view=function(guid,name,theme){return _setTrackingVars(guid,name,'character',theme,'view',101);};exports.Character.like=function(guid,name,theme){return _setTrackingVars(guid,name,'character',theme,'like',102);};exports.Character.comment=function(guid,name,theme){return _setTrackingVars(guid,name,'character',theme,'comment',103);};exports.Video.view=function(guid,name,theme){return _setTrackingVars(guid,name,'video',theme,'view',104);};exports.Video.like=function(guid,name,theme){return _setTrackingVars(guid,name,'video',theme,'like',136);};exports.Article.view=function(guid,name,theme){return _setTrackingVars(guid,name,'article',theme,'view',105);};exports.Article.like=function(guid,name,theme){return _setTrackingVars(guid,name,'article',theme,'like',106);};exports.Article.comment=function(guid,name,theme){return _setTrackingVars(guid,name,'article',theme,'comment',107);};exports.Activity.view=function(guid,name,theme){return _setTrackingVars(guid,name,'activity',theme,'view',133);};exports.Activity.like=function(guid,name,theme){return _setTrackingVars(guid,name,'activity',theme,'like',134);};exports.Activity.comment=function(guid,name,theme){return _setTrackingVars(guid,name,'activity',theme,'comment',135);};exports.BuildingInstruction.view=function(guid,name,theme){return _setTrackingVars(guid,name,'buildinginstruction',theme,'view',108);};exports.BuildingInstruction.like=function(guid,name,theme){return _setTrackingVars(guid,name,'buildinginstruction',theme,'like',109);};exports.BuildingInstruction.comment=function(guid,name,theme){return _setTrackingVars(guid,name,'buildinginstruction',theme,'comment',110);};exports.Event.view=function(guid,name,theme){return _setTrackingVars(guid,name,'event',theme,'view',111);};exports.Event.like=function(guid,name,theme){return _setTrackingVars(guid,name,'event',theme,'like',112);};exports.Event.comment=function(guid,name,theme){return _setTrackingVars(guid,name,'event',theme,'comment',113);};exports.Gallery.view=function(guid,name,theme,category){console.log(category);return _setTrackingVarsWithCategory(guid,name,'gallery',theme,'view',category,114);};exports.Gallery.like=function(guid,name,theme,category){return _setTrackingVarsWithCategory(guid,name,'gallery',theme,'like',category,115);};exports.Gallery.comment=function(guid,name,theme,category){return _setTrackingVarsWithCategory(guid,name,'gallery',theme,'comment',category,116);};exports.Gallery.upload=function(guid,name,theme,category){return _setTrackingVarsWithCategory(guid,name,'gallery',theme,'upload',category,126);};exports.UGC.view=function(guid,name,theme,category){return _setTrackingVarsWithCategory(guid,name,'ugc',theme,'view',category,140);};exports.UGC.like=function(guid,name,theme,category){return _setTrackingVarsWithCategory(guid,name,'ugc',theme,'like',category,141);};exports.UGC.comment=function(guid,name,theme,category){return _setTrackingVarsWithCategory(guid,name,'ugc',theme,'comment',category,142);};exports.UGC.upload=function(guid,name,theme,category){return _setTrackingVarsWithCategory(guid,name,'ugc',theme,'upload',category,143);};exports.Poll.view=function(guid,name,theme){return _setTrackingVars(guid,name,'poll',theme,'view',117);};exports.Poll.like=function(guid,name,theme){return _setTrackingVars(guid,name,'poll',theme,'like',118);};exports.Poll.comment=function(guid,name,theme){return _setTrackingVars(guid,name,'poll',theme,'comment',119);};exports.Poll.answer=function(guid,name,theme){return _setTrackingVars(guid,name,'poll',theme,'answer',120);};exports.TvSeries.view=function(guid,name,theme){return _setTrackingVars(guid,name,'tvseries',theme,'view',121);};exports.TvSeries.like=function(guid,name,theme){return _setTrackingVars(guid,name,'tvseries',theme,'like',122);};exports.TvSeries.comment=function(guid,name,theme){return _setTrackingVars(guid,name,'tvseries',theme,'comment',123);};exports.Game.view=function(guid,name,theme){return _setTrackingVars(guid,name,'game',theme,'view',124);};exports.Game.like=function(guid,name,theme){return _setTrackingVars(guid,name,'game',theme,'like',139);};exports.Product.view=function(guid,name,theme){return _setTrackingVars(guid,name,'product',theme,'view',125);};exports.Product.like=function(guid,name,theme){return _setTrackingVars(guid,name,'product',theme,'like',137);};exports.Remake.view=function(guid,name,theme){return _setTrackingVars(guid,name,'remake',theme,'view',127);};exports.Remake.like=function(guid,name,theme){return _setTrackingVars(guid,name,'remake',theme,'like',138);};exports.Remake.start=function(guid,name,theme){return _setTrackingVars(guid,name,'remake',theme,'start',128);};exports.Remake.progress25=function(guid,name,theme){return _setTrackingVars(guid,name,'remake',theme,'progress:25%',129);};exports.Remake.progress50=function(guid,name,theme){return _setTrackingVars(guid,name,'remake',theme,'progress:50%',130);};exports.Remake.progress75=function(guid,name,theme){return _setTrackingVars(guid,name,'remake',theme,'progress:75%',131);};exports.Remake.complete=function(guid,name,theme){return _setTrackingVars(guid,name,'remake',theme,'complete',132);};if(window&&window.TrackMan){window.TrackMan.addLoadedModule(exports);}
module.exports=exports;},{"./TrackingBase/TrackingBase.js":21}],6:[function(require,module,exports){var base=require('./TrackingBase/TrackingBase.js');'use strict';var UPLOAD_EVENT=2;var UPLOAD_LINK_NAME='Gallery Upload';var COMMENT_EVENT=35;var COMMENT_LINK_NAME='Gallery Creation Comment';var RATING_EVENT=36;var RATING_LINK_NAME='Gallery Creation Rating';var exports={};exports.info={version:'V001',name:'GalleryTracking'};exports.upload=function(){var s=base.SCode;base.withPageName(s.channel+':upload').withEvents(UPLOAD_EVENT).trackLinkHit(UPLOAD_LINK_NAME);};exports.comment=function(){base.withEvents(COMMENT_EVENT).trackLinkHit(COMMENT_LINK_NAME);};exports.rating=function(){base.withEvents(RATING_EVENT).trackLinkHit(RATING_LINK_NAME);};if(window&&window.TrackMan){window.TrackMan.addLoadedModule(exports);}
module.exports=exports;},{"./TrackingBase/TrackingBase.js":21}],7:[function(require,module,exports){var cookies=require('./../TrackingBase/CookieReaderWriter.js');'use strict';var COOKIE_NAME='s_x_flash_installed',tracking=false,api;api={wasInstalled:'',isInstalled:'',installSecs:0};function checkForActiveXObject(name){try{return!!new ActiveXObject(name);}catch(ex){return false;}}
api.detect=function detect(){if(navigator.plugins&&navigator.plugins.length){if(navigator.plugins['Shockwave Flash']){return true;}else if(navigator.plugins['Shockwave Flash 2.0']){return true;}else{return false;}}else{if(navigator.mimeTypes&&navigator.mimeTypes.length){if(navigator.mimeTypes['application/x-shockwave-flash']){return true;}else{return false;}}else{return checkForActiveXObject('ShockwaveFlash.ShockwaveFlash.7')||checkForActiveXObject('ShockwaveFlash.ShockwaveFlash.6')||checkForActiveXObject('ShockwaveFlash.ShockwaveFlash');}}};api.isTracking=function isTracking(){return tracking;};api.track=function track(interval,installedCallback){if(api.detect()){tracking=false;if(cookies.get(COOKIE_NAME)!=='yes'){cookies.set(COOKIE_NAME,'yes',0);installedCallback();}}else{tracking=true;setTimeout(function(){api.track(interval,installedCallback);},interval);}};api.NOT_INSTALLED=0;api.SUCCESSFULLY_INSTALLED=1;api.CAPABILITY_DETECTED=2;api.detectAndTrack=function detectAndTrack(flashWasInstalledCallBack){if(api.detect()){if(cookies.get(COOKIE_NAME)==='yes'){return api.CAPABILITY_DETECTED;}else{flashWasInstalledCallBack();return api.SUCCESSFULLY_INSTALLED;}}else{cookies.set(COOKIE_NAME,'no',7);api.track();return api.NOT_INSTALLED;}};module.exports=api;},{"./../TrackingBase/CookieReaderWriter.js":18}],8:[function(require,module,exports){var base=require('./../TrackingBase/TrackingBase.js'),flashDetector=require('./FlashDetector.js'),unityDetector=require('./UnityDetector.js');'use strict';var AUTO_PLAY_PAUSE=15000;var FLASH=1;var UNITY=2;var HTML5=3;var OTHER_TYPE=0;var UNITY_DETECTED_EVENTS=50;var UNITY_DETECTED_HIT_TEXT='Unity Capability Detected';var UNITY_INSTALLED_EVENTS=49;var UNITY_INSTALLED_HIT_TEXT='Unity Successfully Installed';var UNITY_NOT_DETECTED_EVENTS=48;var UNITY_NOT_DETECTED_HIT_TEXT='Unity Not Installed';var PLAY_EVENTS=26;var PLAY_HIT_TEXT='Started Playing Game';var GAME_SEGMENT_NAME='Game Segment';var GAME_COMPLETE_NAME='Game Complete';var GAME_PROGRESS_EVENT='event1';var GAME_COMPLETE_EVENT='event2';var GAME_NAME_EVAR='eVar1';var GAME_PROGRESS_LIST_VAR='list1';var GAME_DURATION_EVAR='eVar4';var GAME_SEGMENT_DURATION_EVAR='eVar5';var CUSTOM_EVENT_NUMBER_MIN=40;var CUSTOM_EVENT_NUMBER_MAX=75;var gameType,hadCapabilities,hasCapabilities,autoPlayRequested,segmentEventsRegistered,segmentEventNames,s,gameSegmentMilestones,gameProgressIntervalTriggers,gameProgressEventNames,gameProgressEventCount,gameName,gameStarted,registeredCustomEvents,nextCustomEventNumber,gameStartTimestamp,calledPlay;s=base.SCode;var exports={};exports.CustomEvents={};exports.Progress={};calledPlay=false;hadCapabilities={};hasCapabilities={};gameStarted=false;nextCustomEventNumber=CUSTOM_EVENT_NUMBER_MIN;gameProgressEventNames=[];gameProgressEventCount=0;gameStartTimestamp=null;gameSegmentMilestones=[180,540,900,1260,1440];gameProgressIntervalTriggers=[];exports.info={'version':'V001','name':'GameTracking'};exports.types={'FLASH':FLASH,'UNITY':UNITY,'HTML5':HTML5,'OTHER_TYPE':OTHER_TYPE};exports.detectAndTrackFlash=function(){var status=flashDetector.detectAndTrack(function(){hasCapabilities[FLASH]=true;if(autoPlayRequested===FLASH){setTimeout(function(){if(autoPlayRequested===FLASH){autoPlayRequested=undefined;exports.play();}},AUTO_PLAY_PAUSE);}});switch(status){case flashDetector.NOT_INSTALLED:hadCapabilities[FLASH]=false;hasCapabilities[FLASH]=false;break;case flashDetector.SUCCESSFULLY_INSTALLED:hadCapabilities[FLASH]=true;hasCapabilities[FLASH]=true;break;case flashDetector.CAPABILITY_DETECTED:hadCapabilities[FLASH]=true;hasCapabilities[FLASH]=true;break;}};exports.detectAndTrackUnity=function(){var status=unityDetector.detectAndTrack(function(){hasCapabilities[UNITY]=true;base.withEvents(UNITY_INSTALLED_EVENTS).trackLinkHit(UNITY_INSTALLED_HIT_TEXT);if(autoPlayRequested===UNITY){setTimeout(function(){if(autoPlayRequested===UNITY){autoPlayRequested=undefined;exports.play();}},AUTO_PLAY_PAUSE);}});switch(status){case unityDetector.NOT_INSTALLED:base.withEvents(UNITY_NOT_DETECTED_EVENTS).trackLinkHit(UNITY_NOT_DETECTED_HIT_TEXT);hadCapabilities[UNITY]=false;hasCapabilities[UNITY]=false;break;case unityDetector.SUCCESSFULLY_INSTALLED:base.withEvents(UNITY_INSTALLED_EVENTS).trackLinkHit(UNITY_INSTALLED_HIT_TEXT);hadCapabilities[UNITY]=true;hasCapabilities[UNITY]=true;break;case unityDetector.CAPABILITY_DETECTED:base.withEvents(UNITY_DETECTED_EVENTS).trackLinkHit(UNITY_DETECTED_HIT_TEXT);hadCapabilities[UNITY]=true;hasCapabilities[UNITY]=true;break;}};exports.type=function(){return gameType;};exports.setType=function(typeToSet){if(typeToSet===FLASH&&hadCapabilities[FLASH]===undefined){exports.detectAndTrackFlash();}else if(typeToSet===UNITY&&hadCapabilities[UNITY]===undefined){exports.detectAndTrackUnity();}
gameType=typeToSet;autoPlayRequested=undefined;return hasCapabilities[typeToSet];};exports.hasCapability=function(){return hasCapabilities[gameType];};exports.hadCapability=function(){return hadCapabilities[gameType];};exports.play=function(){calledPlay=true;if(hasCapabilities[gameType]!==false){base.withEvents(PLAY_EVENTS).trackLinkHit(PLAY_HIT_TEXT);}};exports.autoPlay=function(){if(hasCapabilities[gameType]!==false){setTimeout(function(){exports.play();},AUTO_PLAY_PAUSE);}else{autoPlayRequested=gameType;}};exports.setFlash=function(){return exports.setType(FLASH);};exports.setUnity=function(){return exports.setType(UNITY);};exports.setHtml5=function(){return exports.setType(HTML5);};exports.setOtherType=function(){return exports.setType(OTHER_TYPE);};exports.playFlash=function(){if(exports.setType(FLASH)){exports.play();return true;}
return false;};exports.playUnity=function(){if(exports.setType(UNITY)){exports.play();return true;}
return false;};exports.playHtml5=function(){exports.setType(HTML5);exports.play();};exports.playOtherType=function(){exports.setType(OTHER_TYPE);exports.play();};exports.autoPlayFlash=function(){exports.setType(FLASH);exports.autoPlay();};exports.autoPlayUnity=function(){exports.setType(UNITY);exports.autoPlay();};exports.autoPlayHtml5=function(){exports.setType(HTML5);exports.autoPlay();};exports.autoPlayOtherType=function(){exports.setType(OTHER_TYPE);exports.autoPlay();};function clearTriggers(){while(gameProgressIntervalTriggers.length>0){clearTimeout(gameProgressIntervalTriggers.pop());}}
function trackGameEvents(linkhitName,gameEvent){var oldGameNameValue=s[GAME_NAME_EVAR],oldEvents=s.events,oldTrackVars=s.linkTrackVars,oldReportSuites=base.GetReportSuites(),oldGameProgressList=s[GAME_PROGRESS_LIST_VAR];base.SetReportSuites(window.TrackMan.Data.gameReportSuite);base.addTrackVars(['events',GAME_PROGRESS_LIST_VAR,GAME_NAME_EVAR,GAME_DURATION_EVAR,GAME_SEGMENT_DURATION_EVAR]);base.addEvent(gameEvent);s[GAME_NAME_EVAR]=gameName;if(gameStartTimestamp!==null){s[GAME_SEGMENT_DURATION_EVAR]=''+Math.round((new Date().getTime()-gameStartTimestamp.getTime())/60000);}
setSegmentRegisteredEvents();setSegmentEventNames();exports.setGameProgress();base.trackLinkHit(linkhitName,false);s.linkTrackVars=oldTrackVars;s.events=oldEvents;s[GAME_NAME_EVAR]=oldGameNameValue;s[GAME_PROGRESS_LIST_VAR]=oldGameProgressList;s[GAME_SEGMENT_DURATION_EVAR]=undefined;base.SetReportSuites(oldReportSuites);}
function incrementSegmentEventCount(segmentEventNumber,segmentEventCountIncrement){if(segmentEventNumber>=CUSTOM_EVENT_NUMBER_MIN&&segmentEventNumber<=CUSTOM_EVENT_NUMBER_MAX){if(typeof segmentEventsRegistered[segmentEventNumber]!=='undefined'){segmentEventsRegistered[segmentEventNumber]+=segmentEventCountIncrement;}else{segmentEventsRegistered[segmentEventNumber]=segmentEventCountIncrement;}}}
function registerSegmentEvent(segmentEventNumber,segmentEventName,segmentEventCountIncrement){incrementSegmentEventCount(segmentEventNumber,segmentEventCountIncrement);segmentEventNames[segmentEventNumber]=segmentEventName;}
function setSegmentRegisteredEvents(){var i,customEventCount;for(i=CUSTOM_EVENT_NUMBER_MIN;i<CUSTOM_EVENT_NUMBER_MIN+segmentEventsRegistered.length&&i<=CUSTOM_EVENT_NUMBER_MAX;i=i+1){if(typeof segmentEventsRegistered[i]!=='undefined'){customEventCount=segmentEventsRegistered[i];base.addEvent('event'+i,customEventCount);segmentEventsRegistered[i]=undefined;}}}
function setSegmentEventNames(){var i,eVarI;for(i=CUSTOM_EVENT_NUMBER_MIN;i<CUSTOM_EVENT_NUMBER_MIN+segmentEventNames.length&&i<=CUSTOM_EVENT_NUMBER_MAX;i=i+1){if(typeof segmentEventNames[i]!=='undefined'){eVarI='eVar'+i;s[eVarI]=segmentEventNames[i];base.addTrackVar(eVarI);segmentEventNames[i]=undefined;}}}
exports.Progress.registerGameProgress=function(gameProgressName){gameProgressEventNames.push(gameProgressName);gameProgressEventCount+=1;};exports.Progress.startGame=function(startedGameName){var i,oldGameNameValue,oldEvents,oldTrackVars,oldReportSuites,oldGameProgressList;if(gameStarted===true){return false;}
gameName=startedGameName;if(calledPlay===false){exports.play();calledPlay=false;}
oldGameNameValue=s[GAME_NAME_EVAR];oldEvents=s.events;oldTrackVars=s.linkTrackVars;oldReportSuites=base.GetReportSuites();oldGameProgressList=s[GAME_PROGRESS_LIST_VAR];base.SetReportSuites(window.TrackMan.Data.gameReportSuite);base.addTrackVars(['events',GAME_NAME_EVAR]);s[GAME_NAME_EVAR]=gameName;base.withEvents(PLAY_EVENTS).trackLinkHit(PLAY_HIT_TEXT,false);s.linkTrackVars=oldTrackVars;s.events=oldEvents;s[GAME_NAME_EVAR]=oldGameNameValue;base.SetReportSuites(oldReportSuites);s[GAME_PROGRESS_LIST_VAR]=oldGameProgressList;gameStartTimestamp=new Date();for(i=0;i<gameSegmentMilestones.length;i=i+1){gameProgressIntervalTriggers.push(base.delayCall(trackGameEvents,gameSegmentMilestones[i]*1000,GAME_SEGMENT_NAME+' '+(i+1)));}
return gameStarted=true;};exports.Progress.endGame=function(){var result=false;if(gameStarted===true){clearTriggers();if(gameStartTimestamp!==null){s[GAME_DURATION_EVAR]=''+Math.round((new Date().getTime()-gameStartTimestamp.getTime())/60000);}
trackGameEvents(GAME_COMPLETE_NAME,GAME_COMPLETE_EVENT);gameStartTimestamp=null;s[GAME_DURATION_EVAR]=undefined;gameStarted=false;result=true;}
return result;};exports.setGameProgress=function(){s[GAME_PROGRESS_LIST_VAR]=gameProgressEventNames.join(':');gameProgressEventNames=[];if(gameProgressEventCount>0){base.addEvent(GAME_PROGRESS_EVENT,gameProgressEventCount);gameProgressEventCount=0;}};exports.getCustomEventCount=function(customEventName){var customEventNumber,customEventCount=false;customEventNumber=exports.getReportingCustomEventNumber(customEventName);if(customEventNumber>=CUSTOM_EVENT_NUMBER_MIN&&customEventNumber<=CUSTOM_EVENT_NUMBER_MAX){customEventCount=segmentEventsRegistered[customEventNumber];}
return customEventCount;};exports.CustomEvents.createReportingEvent=function(customEventName){var success=false;if(nextCustomEventNumber>=CUSTOM_EVENT_NUMBER_MIN&&nextCustomEventNumber<=CUSTOM_EVENT_NUMBER_MAX){registeredCustomEvents[customEventName]=nextCustomEventNumber;success=nextCustomEventNumber;nextCustomEventNumber=nextCustomEventNumber+1;}
return success;};exports.CustomEvents.getReportingCustomEventNumber=function(customEventName){var customEventNumber=false;if(registeredCustomEvents.hasOwnProperty(customEventName)){customEventNumber=registeredCustomEvents[customEventName];}
return customEventNumber;};exports.CustomEvents.raise=function(customEventName,eventCount){var customEventNumber=exports.CustomEvents.getReportingCustomEventNumber(customEventName);if(customEventNumber>=CUSTOM_EVENT_NUMBER_MIN&&customEventNumber<=CUSTOM_EVENT_NUMBER_MAX){registerSegmentEvent(customEventNumber,customEventName,eventCount);}
return customEventNumber;};exports.CustomEvents.clearCustomEvents=function(){segmentEventsRegistered=[];segmentEventNames=[];registeredCustomEvents={};nextCustomEventNumber=CUSTOM_EVENT_NUMBER_MIN;};exports.CustomEvents.clearCustomEvents();if(window&&window.TrackMan){window.TrackMan.addLoadedModule(exports);}
module.exports=exports;},{"./../TrackingBase/TrackingBase.js":21,"./FlashDetector.js":7,"./UnityDetector.js":9}],9:[function(require,module,exports){var cookies=require('./../TrackingBase/CookieReaderWriter.js');'use strict';var COOKIE_NAME='s_x_unity_installed';var tracking=false;var api={};function brokenVistaEdition(unity){if(unity.GetPluginVersion()==='2.5.0f5'){var match=/Windows NT (\d+)\./gi.exec(window.navigator.userAgent);return match&&match[1]==='6';}else{return false;}}
api.detect=function detect(){var detected=false;if(window.navigator.mimeTypes&&window.navigator.plugins){var mimeType=window.navigator.mimeTypes['application/vnd.unity'];detected=!!(mimeType&&mimeType.enabledPlugin&&window.navigator.plugins['Unity Player']);}
if(!detected){try{var unity=new ActiveXObject('UnityWebPlayer.UnityWebPlayer');if(unity){detected=!brokenVistaEdition(unity);}}catch(e){}}
return detected;};api.isTracking=function isTracking(){return tracking;};api.track=function(interval,installedCallback){if(api.detect()){tracking=false;if(cookies.get(COOKIE_NAME)!=='yes'){cookies.set(COOKIE_NAME,'yes',0);installedCallback();}}else{tracking=true;setTimeout(function(){api.track(interval,installedCallback);},interval);}};api.NOT_INSTALLED=0;api.SUCCESSFULLY_INSTALLED=1;api.CAPABILITY_DETECTED=2;api.detectAndTrack=function detectAndTrack(installedCallback){if(api.detect()){if(cookies.get(COOKIE_NAME)==='no'){cookies.set(COOKIE_NAME,'yes',0);return api.SUCCESSFULLY_INSTALLED;}else{return api.CAPABILITY_DETECTED;}}else{cookies.set(COOKIE_NAME,'no',7);api.track(5000,installedCallback);return api.NOT_INSTALLED;}};module.exports=api;},{"./../TrackingBase/CookieReaderWriter.js":18}],10:[function(require,module,exports){var trackingBase=require('./TrackingBase/TrackingBase.js'),documentReadyHelper=require('./../Utilities/DocumentReadyHelper.js'),bootStrapper=require('./../TrackMan/trackman-bootstrapper.js'),pageNameHelper=require('./../Utilities/PageNameHelper.js'),contentTracking=require('./ContentTracking.js');'use strict';var KICKSTARTER_MODULE_VERSION='V002';var trackPageArgs;var exports={};var items=[];var initcalled=false;var data;var resetCallbacks=[];exports.info={version:KICKSTARTER_MODULE_VERSION,name:'Kickstarter'};exports.run=function(){documentReadyHelper.documentReady(function(){if(initcalled){reset();}
initcalled=true;data=bootStrapper.initialize();if(data===undefined||data===null||data!==undefined&&(data.initialPage===null||data.initialPage===undefined||data.initialPage==='')){trackingBase.setChannel(pageNameHelper.siteName,pageNameHelper.channel);trackingBase.setPageName(pageNameHelper.pageName);}
sortTrackingData();handleItems();if(trackPageArgs){trackingBase.trackPage(trackPageArgs);}else{trackingBase.trackPage();}});};function reset(){for(var resetCallbacksIndex=0;resetCallbacksIndex<resetCallbacks.length;resetCallbacksIndex++){var resetFunction=resetCallbacks[resetCallbacksIndex];resetFunction.apply();}
items=[];}
function sortTrackingData(){if(window.trackingData&&window.trackingData.DetailedContent){for(var trackingDataIndex=0;trackingDataIndex<window.trackingData.DetailedContent.length;trackingDataIndex++){var hasType=false;for(var itemsIndex=0;itemsIndex<items.length;itemsIndex++){if(items[itemsIndex].type===window.trackingData.DetailedContent[trackingDataIndex].type.toLowerCase()){items[itemsIndex].items.push(window.trackingData.DetailedContent[trackingDataIndex]);hasType=true;}}
if(hasType===false){items.push({'type':window.trackingData.DetailedContent[trackingDataIndex].type.toLowerCase(),'items':[window.trackingData.DetailedContent[trackingDataIndex]]});}}}}
function isInt(obj){var regex=/^(\+|-)?\d+$/;return regex.test(obj);}
function handleProducts(products){if(products.length===1){var product=products[0];if(isInt(product.number)||typeof product.number==='string'&&product.number.indexOf(',')===-1){trackingBase.setProducts({'id':product.number});trackingBase.setEVar(20,product.number);trackingBase.addEvent('event8');resetCallbacks.push(function(){trackingBase.clearProducts();trackingBase.clearEVars(20);trackingBase.removeEvents('event8');});}}}
function handleContent(contentItems){for(var contentIndex=0;contentIndex<contentItems.length;contentIndex++){var item=contentItems[contentIndex];switch(item.type.toLowerCase()){case'character':contentTracking.Character.view(item.guid,item.name,item.theme);break;case'video':contentTracking.Video.view(item.guid,item.name,item.theme);break;case'article':contentTracking.Article.view(item.guid,item.name,item.theme);break;case'buildinginstructions':contentTracking.BuildingInstruction.view(item.guid,item.name,item.theme);break;case'events':contentTracking.Event.view(item.guid,item.name,item.theme);break;case'gallery':contentTracking.Gallery.view(item.guid,item.name,item.theme,'');break;case'polls':contentTracking.Poll.view(item.guid,item.name,item.theme);break;case'tvseries':contentTracking.TvSeries.view(item.guid,item.name,item.theme);break;case'games':contentTracking.Game.view(item.guid,item.name,item.theme);break;case'product':contentTracking.Product.view(item.guid,item.name,item.theme);break;default:break;}}}
function handleItems(){for(var itemsIndex=0;itemsIndex<items.length;itemsIndex++){handleContent(items[itemsIndex].items);switch(items[itemsIndex].type){case'product':handleProducts(items[itemsIndex].items);break;default:}}}
if(window&&window.TrackMan){window.TrackMan.addLoadedModule(exports);}
module.exports=exports;},{"./../TrackMan/trackman-bootstrapper.js":38,"./../Utilities/DocumentReadyHelper.js":41,"./../Utilities/PageNameHelper.js":42,"./ContentTracking.js":5,"./TrackingBase/TrackingBase.js":21}],11:[function(require,module,exports){var trackingBase=require('./TrackingBase/TrackingBase.js');'use strict';var s=trackingBase.SCode;var info={version:'V001',name:'MediaTracking'};function initialize(exports,info,playerName,length,offsetCallback){var mediaName,mediaPlayerName,mediaLength,mediaOffsetCallback;var mediaFranchise,mediaSubType;var playing=false,opened=false,active=true;var mousePressed=false,seeking=false,seekAwaitsMouseUp=false;if(typeof info==='object'){mediaName=info.name;mediaFranchise=info.franchise||undefined;mediaSubType=info.subType||undefined;}else{mediaName=info;mediaFranchise=undefined;mediaSubType=undefined;}
mediaPlayerName=playerName;mediaLength=length;mediaOffsetCallback=offsetCallback;function mediaInfo(){return{name:mediaName,franchise:mediaFranchise,subType:mediaSubType};}
function play(){var length,offset;if(active&&!playing){offset=mediaOffsetCallback();if(!opened||offset===0){length=typeof mediaLength==='function'?mediaLength():mediaLength;trackingBase.withContentTracking('media',mediaFranchise,mediaSubType,mediaName);s.eVar38=length;s.events='event61='+length;s.eVar31=s.eVar27+':'+mediaName;s.prop31='D=v31';s.Media.open(mediaName,length,mediaPlayerName);opened=true;if(offset===length){offset=0;}}
s.Media.play(mediaName,offset);playing=true;}}
function pause(){if(active&&playing){var offset=mediaOffsetCallback();stop(offset);playing=false;}}
function done(){if(active&&opened){exports.pause();exports.seekStop();s.Media.close(mediaName);opened=false;s.eVar38=undefined;s.events=undefined;s.eVar31=undefined;s.prop31=undefined;}}
function mouseDown(){mousePressed=true;}
function mouseUp(){mousePressed=false;if(seekAwaitsMouseUp){exports.seekStop();seekAwaitsMouseUp=false;}}
function seekStart(){if(active&&!seeking&&playing){var offset=mediaOffsetCallback();stop(offset);seeking=true;}}
function seekStop(){if(active&&seeking){if(playing){var offset=mediaOffsetCallback();s.Media.play(mediaName,offset);}
seeking=false;}}
function seeked(){if(!mousePressed){exports.seekStop();}else{seekAwaitsMouseUp=true;}}
function eventHandler(e){var eventType='';if(e.data!==null&&window!==undefined&&window.YT!==undefined){if(e.data===window.YT.PlayerState.PAUSED){eventType='pause';}else if(e.data===window.YT.PlayerState.ENDED){eventType='stop';}else if(e.data===window.YT.PlayerState.PLAYING){eventType='play';}}else{eventType=e.type.toLowerCase();}
switch(eventType){case'play':exports.play();break;case'pause':exports.pause();break;case'ended':exports.done();break;case'seeking':exports.seekStart();break;case'seeked':exports.seeked();break;case'mousedown':exports.mouseDown();break;case'mouseup':exports.mouseUp();break;}}
function deactivate(){done();active=false;}
exports.offset=function(){return mediaOffsetCallback();};exports.mediaName=function(){return mediaName;};exports.info=info;exports.mediaInfo=mediaInfo;exports.play=play;exports.pause=pause;exports.done=done;exports.mouseDown=mouseDown;exports.mouseUp=mouseUp;exports.seekStart=seekStart;exports.seekStop=seekStop;exports.seeked=seeked;exports.eventHandler=eventHandler;exports.deactivate=deactivate;}
var exports,current;var waiting=false,resumeOffset;var minStopOffset=0;var monitorOffset;function stop(offset){offset=Math.max(offset,minStopOffset);s.Media.stop(current.mediaName(),offset);return offset;}
function track(offset){offset=offset||current.offset();if(offset<resumeOffset){setTimeout(track,500);}else{s.Media.play(current.mediaName(),offset);waiting=false;}}
function monitor(s,media){var oldCallType,event=media.mediaEvent;if(event==='OPEN'||event==='PLAY'||event==='MILESTONE'||event==='CLOSE'){oldCallType=trackingBase.trackCallType;trackingBase.trackCallType='MediaHit';s.Media.track(media.name);trackingBase.trackCallType=oldCallType;if(event==='OPEN'||event==='PLAY'||event==='MILESTONE'){minStopOffset=media.offset;}else if(event==='CLOSE'){minStopOffset=0;}}else if(event==='STOP'){minStopOffset=0;}else if(event==='MONITOR'){monitorOffset=media.offset;var offset=current.offset();if(!waiting){if(offset<monitorOffset-1){resumeOffset=stop(offset+1);waiting=true;track(offset);}}}}
exports=function(info,playerName,length,offsetCallback){if(current){current.deactivate();}
current={};initialize(current,info,playerName,length,offsetCallback);s.Media.monitor=monitor;monitorOffset=0;return current;};function setup(info,playerName,length,offsetCallback){if(current){current.deactivate();}
current=exports;initialize(current,info,playerName,length,offsetCallback);s.Media.monitor=monitor;monitorOffset=0;}
exports.info=info;exports.setup=setup;exports.monitorOffset=function(){return monitorOffset;};if(window&&window.TrackMan){window.TrackMan.addLoadedModule(exports);}
module.exports=exports;},{"./TrackingBase/TrackingBase.js":21}],12:[function(require,module,exports){var trackingBase=require('./TrackingBase/TrackingBase.js');'use strict';var DEFAULT_SITE_NAME,EVENT_POST_LIKE,EVENT_POST_REPLY,EVENT_ADD_POST,EVENT_POLL_VOTE;DEFAULT_SITE_NAME='messageboards';EVENT_POST_LIKE=56;EVENT_POST_REPLY=57;EVENT_ADD_POST=58;EVENT_POLL_VOTE=59;var exports={};exports.info={version:'V001',name:'MessageBoardTracking'};exports.setContentCulture=trackingBase.setContentCulture;exports.LinkNames={'AddPost':'LithiumAddPost','PostLike':'LithiumPostLike','PostReply':'LithiumPostReply','PollVote':'LithiumAddPollVote'};exports.addPost=function(){trackingBase.withEvents(EVENT_ADD_POST).trackLinkHit(exports.LinkNames.AddPost,null,null,'o');};exports.likePost=function(){trackingBase.withEvents(EVENT_POST_LIKE).trackLinkHit(exports.LinkNames.PostLike,null,null,'o');};exports.replyToPost=function(){trackingBase.withEvents(EVENT_POST_REPLY).trackLinkHit(exports.LinkNames.PostReply,null,null,'o');};exports.pollVote=function(pollName){var originSiteName;originSiteName=trackingBase.SCode.server||DEFAULT_SITE_NAME;trackingBase.withPageName(originSiteName+':pollvote:'+pollName).withEvents(EVENT_POLL_VOTE).trackLinkHit(exports.LinkNames.PollVote,null,null,'o');trackingBase.resetPageName();};if(window&&window.TrackMan){window.TrackMan.addLoadedModule(exports);}
module.exports=exports;},{"./TrackingBase/TrackingBase.js":21}],13:[function(require,module,exports){var basicTracking=require('./BasicTracking.js'),trackingBase=require('./TrackingBase/TrackingBase.js');'use strict';var PRODUCT_TRACKING_MODULE_VERSION='V001';var products=[],category;var s=trackingBase.SCode;var exports={};exports.info={version:PRODUCT_TRACKING_MODULE_VERSION,name:'ProductTracking'};function setupProducts(){var pageName,i,product=null;if(products.length>0){product=products[products.length-1];trackingBase.withChannel(s.server,'products');pageName=s.server+':products:'+category+':'+product;if(!trackingBase.Settings.OmitOverview){pageName+=':overview';}
trackingBase.withPageName(pageName);s.eVar20=product;for(i=0;i<products.length;i++){products[i]=';'+products[i]+';;';}
s.products=products.join(',');}else{clearProducts();}
return product;}
function clearProducts(){s.products=s.eVar20=undefined;products=[];}
exports.withProduct=function(productNumber,productCategory){products.push(productNumber);category=productCategory;return exports;};exports.trackPage=function(){var args=Array.prototype.slice.call(arguments);var product=setupProducts();if(args[0]&&args[0].productTheme&&args[0].productSubType){trackingBase.withContentTracking('product',args[0].productTheme,args[0].productSubType,product);args.shift();}
trackingBase.withEvents(8);basicTracking.trackPage.apply(basicTracking,args);clearProducts();};exports.checkPrice=function(mode,productNumber,callback,originPageName){var eVar20=s.eVar20;var eVar54=s.eVar54;var pageProducts=s.products;originPageName=originPageName||s.pageName;s.getAndPersistValue(originPageName,'s_cppn_per',0);s.eVar54=originPageName+':'+productNumber+':checkprice:'+mode;s.products=';'+productNumber+';;';s.eVar20=productNumber;trackingBase.withTrackVars('eVar20,eVar54').trackLinkHit('CheckPrice '+mode);s.eVar20=eVar20;s.eVar54=eVar54;s.products=pageProducts;if(callback){setTimeout(function(){callback(originPageName,mode,productNumber);},500);}
return true;};function linkHit(event,text){var res;setupProducts();res=trackingBase.withEvents(event).withTrackVars('eVar20').trackLinkHit(text);clearProducts();return res;}
exports.addToWishlist=function(){return linkHit(28,'Added To Wishlist');};exports.removeFromWishlist=function(){return linkHit(40,'Remove From Wishlist');};exports.productCodeSubmitted=function(){return linkHit(30,'Entered Product Code');};exports.productCodeWasValid=function(){return linkHit(38,'Entered Valid Product Code');};exports.setProducts=function(){var length=arguments.length;var list,i;if(length>0){list=[];for(i=0;i<length;i++){list.push({id:arguments[i]});}
trackingBase.setProducts(list);}};if(window&&window.TrackMan){window.TrackMan.addLoadedModule(exports);}
module.exports=exports;},{"./BasicTracking.js":2,"./TrackingBase/TrackingBase.js":21}],14:[function(require,module,exports){var base=require('./TrackingBase/TrackingBase.js');'use strict';var exports={};exports.info={version:'V001',name:'SearchTracking'};var s=base.SCode;exports.search=function(term,numberOfResults,field){term=term.toLowerCase().split(/[^a-z0-9]+/).join('_');s.eVar36=s.prop36=numberOfResults;s.eVar19=s.prop17=term;s.eVar13=s.prop13=field.toLowerCase();if(s.eVar19&&s.getValOnce(s.eVar19,'ev19',0)){base.withEvents(3);}
base.trackPage();s.eVar36=s.prop36=undefined;s.eVar19=s.prop17=undefined;s.eVar13=s.prop13=undefined;};if(window&&window.TrackMan){window.TrackMan.addLoadedModule(exports);}
module.exports=exports;},{"./TrackingBase/TrackingBase.js":21}],15:[function(require,module,exports){var trackingBase=require('./TrackingBase/TrackingBase.js'),typeCheckHelper=require('./../Utilities/TypeCheckHelper.js');'use strict';var exports={};exports.info={version:'V001',name:'ShopTracking'};var s=trackingBase.SCode;var determinedProductFindingMethod;exports.checkoutAddress=function(products,shiptoCountry){exports.setShipToCountry(shiptoCountry);trackingBase.setProducts(products);trackingBase.addEvents('scCheckout');trackingBase.setChannel(s.server,'checkout');trackingBase.trackPage('address');trackingBase.removeEvents('scCheckout');trackingBase.clearProducts();clearShipToCountry();};exports.checkoutBillingAddress=function(products,shiptoCountry){exports.setShipToCountry(shiptoCountry);trackingBase.setProducts(products);trackingBase.addEvents('scCheckout');trackingBase.setChannel(s.server,'checkout');trackingBase.trackPage('billingaddress');trackingBase.removeEvents('scCheckout');trackingBase.clearProducts();clearShipToCountry();};exports.checkoutShipping=function(products,shiptoCountry){exports.setShipToCountry(shiptoCountry);trackingBase.setProducts(products);trackingBase.setChannel(s.server,'checkout');trackingBase.trackPage('shipping');trackingBase.clearProducts();clearShipToCountry();};exports.checkoutPayment=function(products,shiptoCountry){exports.setShipToCountry(shiptoCountry);trackingBase.setProducts(products);trackingBase.addEvents('scCheckout');trackingBase.setChannel(s.server,'checkout');trackingBase.trackPage('payment');trackingBase.removeEvents('scCheckout');trackingBase.clearProducts();clearShipToCountry();};exports.checkoutOrderReview=function(products,shiptoCountry){exports.setShipToCountry(shiptoCountry);trackingBase.setProducts(products);trackingBase.setChannel(s.server,'checkout');trackingBase.trackPage('orderreview');trackingBase.clearProducts();clearShipToCountry();};exports.checkoutComplete=function(order){var event6,event7;s.state=order.state;s.zip=order.zip;s.purchaseID=order.purchaseId;s.transactionID=s.purchaseID;s.currency=order.currency;s.eVar14=order.paymentMethod;s.eVar15=order.shipMethod;s.eVar21=order.promocode;exports.setShipToCountry(order.shipToCountry);trackingBase.setProducts(order.products);trackingBase.addEvents('purchase');if(order.discount!==null){event6='event6='+order.discount;trackingBase.addEvents(event6);}
if(order.shippingCost!==null){event7='event7='+order.shippingCost;trackingBase.addEvents(event7);}
trackingBase.setChannel(s.server,'checkout');trackingBase.trackPage('receipt');trackingBase.clearProducts();trackingBase.removeEvents('purchase',event6,event7);s.state=undefined;s.zip=undefined;s.purchaseID=undefined;s.transactionID=undefined;s.currency=undefined;s.eVar14=undefined;s.eVar15=undefined;s.eVar21=undefined;clearShipToCountry();};exports.createNewCart=function(products,shiptoCountry){exports.setShipToCountry(shiptoCountry);determineProductFindingMethod();_createNewCart('Add to Bag Clicked',products);clearProductFindingMethod();clearShipToCountry();};exports.addToCart=function(products,shipToCountry){exports.setShipToCountry(shipToCountry);determineProductFindingMethod();_addToCart('Add to Bag Clicked',products);clearProductFindingMethod();clearShipToCountry();};exports.removeFromCart=function(products,shipToCountry){exports.setShipToCountry(shipToCountry);trackingBase.setProducts(products);trackingBase.addEvents('scRemove');trackingBase.trackLinkHit('Remove from Bag Clicked');trackingBase.clearProducts();clearShipToCountry();trackingBase.removeEvents('scRemove');};exports.viewCart=function(products,shipToCountry){exports.setShipToCountry(shipToCountry);trackingBase.setProducts(products);trackingBase.addEvents('scView');trackingBase.setChannel(s.server,'cart');trackingBase.trackPage('shopping_cart');trackingBase.clearProducts();clearShipToCountry();trackingBase.removeEvents('scView');};exports.productView=function(product,shiptoCountry){if(shiptoCountry===null||shiptoCountry===undefined){shiptoCountry='';}
if(product===null||product===undefined){product='';}
if(typeCheckHelper.isObject(product)===false){product={'id':product};}
trackingBase.setProducts(product);exports.setShipToCountry(shiptoCountry);trackingBase.addEvents('event4','prodView');var originPageName='';if(s.getQueryParam('p')!==''&&(document.location.hash.indexOf('checkprice')>0||s.getQueryParam('track')==='checkprice'||s.getQueryParam('track')==='checkprice#shopxlink')){originPageName=s.getAndPersistValue('','s_cppn_per',0);if(originPageName!==''){s.prop32=originPageName+':'+product.id+':checkprice:success';s.eVar54='D=c32';}}
trackingBase.trackPage();trackingBase.clearProducts();clearShipToCountry();};exports.refine=function(refineType,refineValue){if(refineType!==null&&refineType!==''){if(refineValue){if(refineValue.constructor===Array){refineValue=sortStrList(refineValue,'|');}
s.prop54=refineType;s.prop55=refineType+':'+refineValue;trackingBase.addTrackVars('prop54','prop55');trackingBase.trackLinkHit('Refinement Clicked');trackingBase.removeTrackVars('prop54','prop55');}}};exports.recommendationQuickView=function(recommendation){setRecommendation(recommendation);trackingBase.trackLinkHit('Recommendation QuickView Clicked');clearRecommendations();};exports.recommendationCreateNewCart=function(recommendation){trackingBase.addEvents('scOpen');exports.recommendationAddToCart(recommendation);};exports.recommendationAddToCart=function(recommendation){setRecommendation(recommendation);_addToCart('Recommendation Add to Bag Clicked',recommendation.product);clearRecommendations();};exports.recommendationOnClick=function(recommendation){setRecommendation(recommendation);trackingBase.trackLinkHit('Recommendation Clicked');clearRecommendations();};exports.userSignedUpForSMS=function(){trackingBase.addEvent('event55');trackingBase.trackLinkHit('smssignup');trackingBase.removeEvents('event55');};exports.themeSelection=function(selectedThemes){s.eVar51=sortStrList(selectedThemes,'|');trackingBase.addTrackVars('eVar51');trackingBase.trackLinkHit('Multiple Themes Selection');s.eVar51=undefined;trackingBase.removeTrackVars('eVar51');};exports.withProducts=function(){trackingBase.withProducts.apply(this,arguments);return this;};exports.trackPage=function(){var p=[];for(var i=0;i<arguments.length;i++){p.push(arguments[i]);}
if(p.length>0){trackingBase.trackPage(p.join(':'));}else{trackingBase.trackPage();}
return this;};exports.categorySelection=function(selectedCategories){s.eVar52=sortStrList(selectedCategories,'|');trackingBase.addTrackVars('eVar52');trackingBase.trackLinkHit('Multiple Categories Selection');s.eVar52=undefined;trackingBase.removeTrackVars('eVar52');};exports.setShipToCountry=function(country){trackingBase.addTrackVars('eVar18');s.eVar18=country;trackingBase.bindResetFunction(clearShipToCountry);return this;};function determineProductFindingMethod(){if(determinedProductFindingMethod===undefined){if(document.location.href.indexOf('icmp')!==-1){determinedProductFindingMethod='internal_campaign';}else{determinedProductFindingMethod='browse';}}
s.eVar16=determinedProductFindingMethod;trackingBase.addTrackVars('eVar16');}
function clearProductFindingMethod(){s.eVar16=undefined;trackingBase.removeTrackVars('eVar16');}
function setRecommendation(recommendation){if(typeof recommendation==='undefined'||recommendation===null){recommendation={};}
if(typeof recommendation.product==='undefined'||recommendation.product===null){recommendation.product={};}
if(typeof recommendation.product.id==='undefined'||recommendation.product.id===null){recommendation.product.id='Recommendation ID not passed';}
if(typeof recommendation.location==='undefined'||recommendation.location===null){recommendation.location='Recommendation location not passed';}
if(typeof recommendation.position==='undefined'||recommendation.position===null){recommendation.position='Recommendation position not set';}
s.eVar16='Recommendation';s.eVar48=recommendation.product.id;s.eVar49=recommendation.location;s.prop53=recommendation.position;trackingBase.addEvents('event52');trackingBase.addTrackVars('eVar16','eVar48','eVar49','prop53');return exports;}
function clearRecommendations(){s.eVar16=s.eVar48=s.eVar49=s.prop53=undefined;trackingBase.removeEvents('event52');trackingBase.removeTrackVars('eVar16','eVar48','eVar49','prop53');return exports;}
function clearShipToCountry(){trackingBase.removeTrackVars('eVar18');s.eVar18=undefined;return exports;}
function _addToCart(linkName,products){trackingBase.setProducts(products);trackingBase.addEvents('scAdd');trackingBase.trackLinkHit(linkName);trackingBase.clearProducts();trackingBase.removeEvents('scAdd');}
function _createNewCart(linkName,products){trackingBase.addEvents('scOpen');_addToCart(linkName,products);trackingBase.removeEvents('scOpen');}
function sortStrList(unsortedListArray,seperator){var result;if(typeCheckHelper.isArray(unsortedListArray)){try{unsortedListArray.sort();result=unsortedListArray.join(seperator);}catch(e){result=unsortedListArray;}}else{result=unsortedListArray;}
return result;}
if(window&&window.TrackMan){window.TrackMan.addLoadedModule(exports);}
module.exports=exports;},{"./../Utilities/TypeCheckHelper.js":43,"./TrackingBase/TrackingBase.js":21}],16:[function(require,module,exports){var trackingBase=require('./TrackingBase/TrackingBase.js'),urlHelper=require('./../Utilities/UrlHelper.js');'use strict';var trackVars,s;var exports={};exports.info={version:'V001',name:'SocialMediaTracking'};s=trackingBase.SCode;exports.trackSharingIntended=function(){trackVars=trackingBase.GetDefaultLinkTrackingVars()+',';trackingBase.withEvents(37).trackLinkHit('Sharing intention before age gate');};exports.trackAgeGateDecision=function(isBelow13){trackVars=trackingBase.GetDefaultLinkTrackingVars()+',';var eventToUse=54;if(isBelow13===true){eventToUse=62;}
trackingBase.withEvents(eventToUse).trackLinkHit('Age gate submit age');};exports.contentShared=function(channel,content,channelUrl){trackVars=trackingBase.GetDefaultLinkTrackingVars()+',';s.eVar34=channel;s.eVar35=content;trackingBase.withEvents(51).withTrackVars('eVar34,eVar35').trackLinkHit('Content Sharing',true);s.eVar34=s.eVar35='';trackVars=trackingBase.GetDefaultLinkTrackingVars();s.linkTrackVars=trackVars;if(channelUrl){var atag=urlHelper.getUriComponent(channelUrl);var key=urlHelper.getUrlWithoutHash(atag);if(key){var linkData={'eVars':[{'key':'eVar34','value':channel},{'key':'eVar35','value':content}],'events':[{'key':'event53'}]};trackingBase.addLinkData(key,linkData);}}};exports.tellAFriend=function(){trackingBase.withEvents(1).trackLinkHit('tellafriendsent');};if(window&&window.TrackMan){window.TrackMan.addLoadedModule(exports);}
module.exports=exports;},{"./../Utilities/UrlHelper.js":44,"./TrackingBase/TrackingBase.js":21}],17:[function(require,module,exports){var trackingBase=require('./TrackingBase/TrackingBase.js');'use strict';var s,surveySiteName;var exports={};exports.info={version:'V001',name:'SurveyTracking'};surveySiteName='survey';s=trackingBase.SCode;function isNotNullProperty(obj,property){return obj&&obj.hasOwnProperty(property)&&obj[property]!==null;}
exports.trackSurveyDataObject=function(surveyDataObj,surveyName,culture){var i,str,propNames;if(!trackingBase.hasValue(surveyName,true)){surveyName='default';}
if(!trackingBase.hasValue(culture,true)){culture='en-US';}
str='';propNames=Object.getOwnPropertyNames(surveyDataObj);for(i=0;i<propNames.length;i++){if(isNotNullProperty(surveyDataObj,propNames[i])){str=str+propNames[i]+'='+surveyDataObj[propNames[i]].toString()+';';}}
s.list2=str.substr(0,str.length);trackingBase.setContentCulture(culture).setChannel(surveySiteName,surveyName.toLowerCase()).trackPage();return true;};exports.setSurveySiteName=function(siteName){surveySiteName=siteName;return this;};if(window&&window.TrackMan){window.TrackMan.addLoadedModule(exports);}
module.exports=exports;},{"./TrackingBase/TrackingBase.js":21}],18:[function(require,module,exports){'use strict';var api;function getCookie(c){var i,x,y,dcs;dcs=document.cookie.split(';');for(i=0;i<dcs.length;i=i+1){x=dcs[i].substr(0,dcs[i].indexOf('='));y=dcs[i].substr(dcs[i].indexOf('=')+1);x=x.replace(/^\s+|\s+$/g,'');if(x===c){return decodeURIComponent(y);}}
return'';}
function setCookie(c,v,e){var ed,cv;ed=new Date();ed.setDate(ed.getDate()+e);cv=encodeURIComponent(v)+(ed===null?'':'; expires='+ed.toUTCString());document.cookie=c+'='+cv;}
function setCookieWithTimeExpiry(c,v,e,d,p){var ed,cv,domain='',path='';if(d){domain='; domain='+d;}
if(p){path='; path='+p;}
ed=new Date();ed.setTime(ed.getTime()+e);cv=encodeURIComponent(v)+(ed===null?'':'; expires='+ed.toUTCString()+domain+path);document.cookie=c+'='+cv;}
api={'GetCookie':getCookie,'SetCookie':setCookie,'SetCookieWithTimeExpiry':setCookieWithTimeExpiry,'get':getCookie,'set':setCookie,'setWithTimeExpiry':setCookieWithTimeExpiry};module.exports=api;},{}],19:[function(require,module,exports){'use strict';var api;function generate(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c==='x'?r:r&3|8;return v.toString(16);});}
api={'generate':generate};module.exports=api;},{}],20:[function(require,module,exports){'use strict';var api,info,logHandler;var applicationName='TrackMan';info={version:'V001',name:'Logging'};(function setLogHandler(func){logHandler=func;}(function(severity,originalArguments){var message=originalArguments!==undefined&&originalArguments!==null&&originalArguments.length>0?originalArguments[0]:'';if(severity===api.ERROR&&console.error){var request,errorUrl,objEerror,jsonError,url;request=new XMLHttpRequest();errorUrl=window?window.location:undefined;objEerror={ApplicationName:applicationName,Message:message,ErrorUrl:errorUrl};jsonError='{\'ApplicationName\':\''+applicationName+'\',\'Message\':\''+message+'\',\'ErrorUrl\':\''+errorUrl+'\'}';url='/loghandler.axd'+'?error='+jsonError;request.open('POST',url,true);request.setRequestHeader('Content-Type','application/json;charset=UTF-8');request.onload=function(){console.error('['+request.status+'] '+message);};request.send(objEerror);}else{console.log(message);}}));function defineLogLevel(value,name){return{value:value,name:name};}
function debug(){logHandler(api.DEBUG,arguments);}
function error(){logHandler(api.ERROR,arguments);}
api={'info':info,'DEBUG':defineLogLevel(1,'DEBUG'),'debug':debug,'ERROR':defineLogLevel(8,'ERROR'),'error':error};api.log=api.debug;module.exports=api;},{}],21:[function(require,module,exports){var SCode=require('./../../SCode/SCode.js'),CookieReaderWriter=require('./CookieReaderWriter.js'),Guid=require('./Guid.js'),TypeCheckHelper=require('./../../Utilities/TypeCheckHelper.js'),UrlHelper=require('./../../Utilities/UrlHelper.js'),campaigns=require('./../../SCode/Campaigns.js');'use strict';var api,s,previousChannelState,previousPageName,resetFunctions,additionalLinkData;var reportSuites,siteCulture,contentCulture;s=SCode;var webSessionTrackingIDCookieName='trackmansession';resetFunctions=[];additionalLinkData=[];function removeAllWhitespaces(str){return str.replace(/\s+/g,'');}
function removeLeadingAndTrailingWhitespace(str){return str.replace(/^\s+|\s+$/g,'');}
function applyNewChannel(site,mainSection){site=(site||'').toLowerCase();mainSection=(mainSection||'').toLowerCase();s.server=removeAllWhitespaces(site);s.prop3=s.server;s.eVar3=s.server;s.channel=s.server+':'+removeAllWhitespaces(mainSection);return api;}
function joinSections(pageNameSections){var i,section,createdPageName='';for(i=0;i<pageNameSections.length;i=i+1){section=pageNameSections[i];if(section!==undefined&&section!==null&&section.replace!==undefined){section=removeLeadingAndTrailingWhitespace(section);if(section!==''){createdPageName=createdPageName+':'+section;}}else if(TypeCheckHelper.isArray(section)){createdPageName+=joinSections(section);}}
return createdPageName;}
function createPageNameFromProvidedSections(pageNameSections){var createdPageName;createdPageName=s.channel;createdPageName+=joinSections(pageNameSections);return createdPageName;}
function invokeResetFunctions(){var i,length,resetFunction;length=resetFunctions.length;for(i=0;i<length;i++){resetFunction=resetFunctions.shift();if(typeof resetFunction==='function'){resetFunction.apply();}}}
function ensureTrackingServer(){s.trackingServer='c.analytics.lego.com';s.trackingServerSecure='cs.analytics.lego.com';}
function setWebSessionTrackingId(reset){var webSessionId=CookieReaderWriter.get(webSessionTrackingIDCookieName);if(reset===true||webSessionId===undefined||webSessionId===''||webSessionId==='undefined'){webSessionId=Guid.generate();CookieReaderWriter.setWithTimeExpiry(webSessionTrackingIDCookieName,webSessionId,8*60*60*1000,'.lego.com','/');}
s.prop38=webSessionId;}
function setPageUrl(){var uri=window.location;s.eVar74=uri.protocol+'//'+uri.hostname+uri.pathname;s.prop39='D=v74';}
function setReferrer(){var referrer=api.ReferrerUrl;if(referrer==='None'&&document.referrer!==''){referrer=document.referrer;}
if(referrer!=='None'){var referrerUri=UrlHelper.getUriComponent(referrer);referrer=referrerUri.protocol+'//'+referrerUri.hostname+referrerUri.pathname;}
s.eVar46=referrer;s.prop40='D=v46';}
api={trackCallType:'',usedCorrectly:false,lastTrackedJsonState:'',USE_DEFAULT_TRACKVARS:undefined,SCode:SCode,ReferrerUrl:'None',hasValue:function hasValue(obj,disallowBlankStrings){return obj!==undefined&&obj!==null&&(disallowBlankStrings?obj!=='':true);},toArray:function(obj){var tmp,resAry=[];if(arguments.length>1){tmp=Array.prototype.slice.call(arguments,0);}else{tmp=obj;}
if(this.hasValue(tmp,true)===true){resAry=resAry.concat(tmp);}
return resAry;},isNumber:function isNumber(n){return!isNaN(parseFloat(n))&&isFinite(n);},setEVar:function setEVar(number,value){s['eVar'+number]=value;},setProp:function setProp(number,value){s['prop'+number]=value;},clearEVars:function clearEVars(){var i=0,l=arguments.length;for(;i<l;i++){s['eVar'+arguments[i]]=undefined;}},clearProps:function clearProps(){var i=0,l=arguments.length;for(;i<l;i++){s['prop'+arguments[i]]=undefined;}},withProducts:function withProducts(){var withProductsPreviousProducts=s.product;api.bindResetFunction(function(){s.products=withProductsPreviousProducts;});api.setProducts.apply(this,arguments);return api;},setWebSessionTrackingId:setWebSessionTrackingId,setProducts:function setProducts(){var i=0,j,products=[],l=arguments.length,productString;for(;i<l;i++){var arg=arguments[i];if(!TypeCheckHelper.isArray(arg)){products=[arg];}else{products=arg;}
for(j=0;j<products.length;j++){var product=products[j];if(typeof product.id==='undefined'||product.id===null){product.id=product;}
if(typeof product.category==='undefined'||product.category===null){product.category='';}
if(typeof product.quantity==='undefined'||product.quantity===null){product.quantity='';}
if(typeof product.price==='undefined'||product.price===null){product.price='';}
if(typeof product.events==='undefined'||product.events===null){product.events='';}
if(typeof product.eVars==='undefined'||product.eVars===null){product.eVars='';}
productString=product.category+';'+product.id+';'+product.quantity+';'+product.price+';'+product.events+';'+product.eVars;if(typeof s.products==='undefined'||s.products===null){s.products='';}
if(s.products!==''){s.products+=',';}
s.products+=productString.replace(/;+$/g,'');}}
return api;},clearProducts:function clearProducts(){s.products=s.eVar20=undefined;},withEvents:function withEvents(){var length=arguments.length,list=[],i,previousEvents=s.events;for(i=0;i<length;i++){var argument=arguments[i];list.push(api.isNumber(argument)?'event'+argument:argument);}
api.bindResetFunction(function(){s.events=previousEvents;});s.events=list.join(',');s.linkTrackEvents=list.length>0?s.events:'None';return api;},addEvent:function addEvent(event,count){if(typeof s.events==='undefined'||s.events===null){s.events='';}
if(s.events!==''){s.events+=',';}
s.events+=count===undefined||count===null?event:event+'='+count;if(typeof s.linkTrackEvents==='undefined'||s.linkTrackEvents===null){s.linkTrackEvents='';}
if(s.linkTrackEvents!==''){s.linkTrackEvents+=',';}
s.linkTrackEvents+=event;return api;},addEvents:function addEvents(){var i=0,j=0,events=[],l=arguments.length;for(;i<l;i++){var arg=arguments[i];if(!TypeCheckHelper.isArray(arg)){events.push(arg);}else{events=arg;}
for(;j<events.length;j++){api.addEvent(events[j]);}}
return api;},clearEvents:function clearEvents(){s.events=undefined;s.linkTrackEvents='None';return api;},removeEvents:function removeEvents(){if(arguments.length<1){api.clearEvents();}else{var i=0,j=0,events=[],l=arguments.length;for(;i<l;i++){var arg=arguments[i];if(!TypeCheckHelper.isArray(arg)){events.push(arg);}else{events=arg;}
for(;j<events.length;j++){if(typeof s.events!=='undefined'&&s.events!==null){s.events=s.events.replace(events[j],'');s.events=s.events.replace(/,,+/g,',');s.events=s.events.replace(/,$|^,/g,'');}
if(typeof s.linkTrackEvents!=='undefined'&&s.linkTrackEvents!==null){s.linkTrackEvents=s.linkTrackEvents.replace(events[j],'');s.linkTrackEvents=s.linkTrackEvents.replace(/,,+/g,',');s.linkTrackEvents=s.linkTrackEvents.replace(/,$|^,/g,'');}}}}
return api;},clearTrackVars:function clearTrackVars(){s.linkTrackVars='None';return api;},withTrackVars:function withTrackVars(trackVars){s.linkTrackVars=trackVars===undefined||trackVars===null||trackVars===''?api.GetDefaultLinkTrackingVars():trackVars;return api;},hasTrackVar:function hasTrackVar(trackVar){var linkTrackVarsAry,foundVar=false;if(api.hasValue(trackVar,true)){linkTrackVarsAry=s.linkTrackVars.toLowerCase().split(',');if(linkTrackVarsAry.length===1&&linkTrackVarsAry[0]===''){linkTrackVarsAry=[];}
if(linkTrackVarsAry.indexOf(trackVar.toLowerCase())>=0){foundVar=true;}}
return foundVar;},addTrackVar:function addTrackVar(trackVar){var linkTrackVarsAry;if(api.hasValue(trackVar,true)){if(api.hasValue(s.linkTrackVars)===false){s.linkTrackVars='';}
if(s.linkTrackVars.toLowerCase()==='none'){s.linkTrackVars='';}
linkTrackVarsAry=s.linkTrackVars.toLowerCase().split(',');if(linkTrackVarsAry.length===1&&linkTrackVarsAry[0]===''){linkTrackVarsAry=[];}
if(linkTrackVarsAry.indexOf(trackVar.toLowerCase())<0){s.linkTrackVars+=(linkTrackVarsAry.length>0?',':'')+trackVar;}}
return api;},addTrackVars:function addTrackVars(){var i=0,j,trackVars,l=arguments.length;for(;i<l;i++){var arg=arguments[i];if(!TypeCheckHelper.isArray(arg)){trackVars=[arg];}else{trackVars=arg;}
for(j=0;j<trackVars.length;j++){api.addTrackVar(trackVars[j]);}}
return api;},removeTrackVars:function removeTrackVars(){var i=0,j=0,trackVars=[],l=arguments.length,linkTrackVarsAry,idx;if(l<1){api.clearTrackVars();}else{linkTrackVarsAry=s.linkTrackVars.split(',');for(;i<l;i++){var arg=arguments[i];if(!TypeCheckHelper.isArray(arg)){trackVars.push(arg);}else{trackVars=arg;}
for(;j<trackVars.length;j++){idx=linkTrackVarsAry.indexOf(trackVars[j]);if(idx>=0){linkTrackVarsAry.splice(idx,1);j--;}}}
s.linkTrackVars='';for(i=0;i<linkTrackVarsAry.length;i++){s.linkTrackVars+=(i>0?',':'')+linkTrackVarsAry[i];}}
return api;},setChannel:function setChannel(site,mainSection){applyNewChannel(site,mainSection);previousChannelState=null;api.setPage();return api;},withChannel:function withChannel(site,mainSection){previousChannelState={server:s.server,channel:s.channel};api.bindResetFunction(api.resetChannel);applyNewChannel(site,mainSection);return api;},resetChannel:function resetChannel(){if(previousChannelState===null||previousChannelState===undefined){return api;}
applyNewChannel(previousChannelState.server,previousChannelState.channel.split(':')[1]);previousChannelState=null;return api;},withPageName:function withPageName(pageName){previousPageName=s.pageName;api.bindResetFunction(api.resetPageName);api.setPageName(pageName);return api;},setPageName:function setPageName(pageName){var pathElements=pageName.split(':');s.eVar26=s.pageName=pageName;s.eVar27=pathElements.length>1?pathElements.slice(0,2).join(':'):undefined;s.eVar4=pathElements.length>3?pathElements.slice(0,3).join(':'):undefined;s.eVar5=pathElements.length>4?pathElements.slice(0,4).join(':'):undefined;s.eVar6=pathElements.length>5?pathElements.slice(0,5).join(':'):undefined;s.prop4=s.eVar4?'D=v4':undefined;s.prop5=s.eVar5?'D=v5':undefined;s.prop6=s.eVar6?'D=v6':undefined;return api;},resetPageName:function resetPageName(){if(previousPageName===null||previousPageName===undefined){return api;}
api.setPageName(previousPageName);previousPageName=null;return api;},trackPage:function trackPage(){api.setPage.apply(this,arguments);if(api.trackCallType==='LinkHit'){api.trackCallType='PageHit-LinkHit';}else if(api.trackCallType==='MediaHit'){api.trackCallType='PageHit-MediaHit';}else{api.trackCallType='PageHit';}
ensureTrackingServer();setWebSessionTrackingId(false);setPageUrl();setReferrer();if(api.usedCorrectly===false){s.prop12='LoadedModules used';}
campaigns.setCampaigns();s.t();s.events=null;invokeResetFunctions();},trackLinkHit:function trackLinkHit(linkHitName,useDefaultTrackVars,aTagOptional,linkTypeOptional){var res;var trackDelayObject=aTagOptional===undefined||aTagOptional===null?true:aTagOptional;var linkType=linkTypeOptional===undefined||linkTypeOptional===null?'o':linkTypeOptional;if(typeof useDefaultTrackVars==='undefined'||useDefaultTrackVars===null||useDefaultTrackVars===true){api.addTrackVars(api.GetDefaultLinkTrackingVars());}
ensureTrackingServer();setWebSessionTrackingId(false);api.addTrackVar('prop38');setPageUrl();setReferrer();res=s.tl(trackDelayObject,linkType,linkHitName);api.clearEvents();api.clearTrackVars();invokeResetFunctions();return res;},delayCall:function(args){var a,func,wait,params;if(arguments.length>1){a=Array.prototype.slice.call(arguments,0);}else{a=[].concat(args);}
func=a[0];wait=a[1];params=a.slice(2);return setTimeout(function(){return func.apply(null,params);},wait);},Settings:{UseDefaultReportSuites:true,OmitOverview:true,set:function(setting,value){setting=(setting+'').toLowerCase();if(setting==='automaticexitlinktracking'){api.Settings.SetExitXLinkTrackingEnabled(value);}},get:function(setting){setting=(setting+'').toLowerCase();if(setting==='automaticexitlinktracking'){return api.Settings.IsExitXLinkTrackingEnabled();}},SetExitXLinkTrackingEnabled:function(enabled){s.linkInternalFilters=s.linkInternalFilters.replace('#xlink,','');if(enabled===false){s.linkInternalFilters='#xlink,'+s.linkInternalFilters;}},IsExitXLinkTrackingEnabled:function(){return(s.linkInternalFilters+'').indexOf('#xlink,')<0;},SetDownloadLinkTrackingEnabled:function(enabled){s.trackDownloadLinks=enabled===true;},IsDownloadLinkTrackingEnabled:function(){return s.trackDownloadLinks;}},GetDefaultLinkTrackingVars:function GetDefaultLinkTrackingVars(){return'events,'+'eVar3,eVar4,eVar5,eVar6,eVar7,eVar8,eVar9,eVar10,eVar11,eVar12,eVar26,eVar27,eVar46,eVar47,eVar50,eVar53,eVar74,'+'products,prop38';},setSiteCulture:function setSiteCulture(culture){if(typeof culture==='string'){culture=culture.toLowerCase();}
siteCulture=culture;s.eVar44=s.prop18=siteCulture;window.TrackMan.Data.siteculture=siteCulture;api.SetReportSuites(reportSuites);return api;},setContentCulture:function setContentCulture(culture){if(typeof culture==='string'){culture=culture.toLowerCase();}
contentCulture=culture;s.eVar7=s.prop7=contentCulture;return api;},SetReportSuites:function SetReportSuites(suitesString){var suites;if(suitesString){reportSuites=suitesString;suites=reportSuites;window.s_account=suites;s.sa(suites);}
return api;},GetReportSuites:function GetReportSuites(){return window.s_account||'';},IsPageHit:function IsPageHit(){return this.trackCallType==='PageHit';},GetFid:function GetFid(){return encodeURIComponent(s.c_r('s_pers').trim());},withContentTracking:function withContentTracking(contentType,contentTheme,contentSubType,contentName){if(contentSubType){s.eVar59=contentType+':'+contentTheme+':'+contentSubType+':'+contentName;}else{s.eVar59=contentType+':'+contentTheme+':'+contentName;}
return api;},bindResetFunction:function bindResetFunction(resetFunction){resetFunctions.push(resetFunction);},addInternalLinks:function(){var i=0,j=0,links=[],l=arguments.length;if(typeof s.linkInternalFilters==='undefined'||s.linkInternalFilters===null){s.linkInternalFilters='';}
for(;i<l;i++){var arg=arguments[i];if(!TypeCheckHelper.isArray(arg)){links.push(arg);}else{links=arg;}
for(;j<links.length;j++){if(s.linkInternalFilters!==''){s.linkInternalFilters+=',';}
s.linkInternalFilters+=links[j];}}
return api;},setInternalLinks:function(){s.linkInternalFilters='';this.addInternalLinks.apply(this,arguments);return api;},setPage:function(){var args;if(arguments.length>0){api.setPageName(createPageNameFromProvidedSections(Array.prototype.slice.call(arguments,0)));}else if(s.pageName){args=s.pageName.split(':');if(args.length>1){api.setPageName(createPageNameFromProvidedSections(args.slice(2)));}}
return api;},addLinkData:function(key,value){api.removeLinkData(key);additionalLinkData.push({'key':key,'value':value});return api;},removeLinkData:function(key){for(var i=0;i<additionalLinkData.length;i++){if(additionalLinkData[i].key===key){additionalLinkData.splice(i,1);}}
return api;},getLinkDataItem:function(key){for(var i=0;i<additionalLinkData.length;i++){if(additionalLinkData[i].key===key){return additionalLinkData[i].value;}}},addAdditionalTrackVarsToS:function(key){var linkObj=api.getLinkDataItem(key);if(linkObj){if(linkObj.props){var props=linkObj.props;for(var j=0;j<props.length;j++){s[props[j].key]=props[j].value;api.addTrackVar(props[j].key);}}
if(linkObj.eVars){var evars=linkObj.eVars;for(var k=0;k<evars.length;k++){s[evars[k].key]=evars[k].value;api.addTrackVar(evars[k].key);}}
if(linkObj.events){var events=linkObj.events;for(var l=0;l<events.length;l++){api.addEvent(events[l].key);}}
if(linkObj.listvars){var listvars=linkObj.listvars;for(var m=0;m<listvars.length;m++){s[listvars[m].key]=listvars[m].value;api.addTrackVar(listvars[m].key);}}}}};var uservisitorid=s.visitor.getMarketingCloudVisitorID(function(){window.TrackMan.moduleReady(api);});if(uservisitorid!==''&&uservisitorid!==null){window.TrackMan.moduleReady(api);}
module.exports=api;},{"./../../SCode/Campaigns.js":26,"./../../SCode/SCode.js":36,"./../../Utilities/TypeCheckHelper.js":43,"./../../Utilities/UrlHelper.js":44,"./CookieReaderWriter.js":18,"./Guid.js":19}],22:[function(require,module,exports){var base=require('./TrackingBase.js'),logging=require('./Logging.js'),urlHelper=require('./../../Utilities/UrlHelper.js');'use strict';var TIMEOUT=5000;var LEGO_ID_TIMEOUT=3000;var api,loading,legoIdStart,foundUserStats=false;var timedOut=false;var s=base.SCode;var info={version:'V002',name:'UserStats'};api={info:info,loading:function(){return loading;},auth:'False',age:0,gender:null,country:null};function setLegoIdTimeStamp(stampName){s.eVar50+='|'+stampName+':'+((Date.now()-legoIdStart)/1000).toFixed(1);}
function setSCodeValues(){s.prop8=api.auth;s.eVar8=api.auth;s.prop10=api.age;s.eVar10=api.age;s.prop11=api.gender;s.eVar11=api.gender;s.eVar12=api.country;}
function legoIdLogin(result){setLegoIdData(result,true);}
function legoIdProfile(result){setLegoIdTimeStamp('LIDProfileCallback');setLegoIdData(result,false);}
function setLegoIdData(result,resetWebSessionId){api.age=result.Age;api.auth=result.Authenticated==='True'||result.Authenticated==='true'||result.Authenticated===true?'True':'False';api.country=result.Country;api.gender=null;if(result.Gender==='F'||result.Gender==='Female'||result.Gender==='female'){api.gender='F';}
if(result.Gender==='M'||result.Gender==='Male'||result.Gender==='male'){api.gender='M';}
base.setWebSessionTrackingId(resetWebSessionId);setSCodeValues();foundUserStats=true;loading=false;if(!timedOut){window.TrackMan.moduleReady(api,{timedOut:false});}
if(logging&&timedOut){logging.debug('LEGO ID API had a timeout waiting for callback.');}}
function legoIdLogout(){api.age=0;api.auth='False';api.country=null;api.gender=null;base.setWebSessionTrackingId(true);setSCodeValues();}
function registerLegoIdEvents(){if(!window&&!window.LEGOID&&!window.LEGOID.API){return;}
window.LEGOID.API.subscribe({event:'login',force:'true',callback:function(){window.LEGOID.API.getProfile({callback:legoIdLogin,scope:window});},scope:window});window.LEGOID.API.subscribe({event:'logout',force:'true',callback:legoIdLogout,scope:window});window.LEGOID.API.getProfile({callback:legoIdProfile,scope:window});}
function getLegoIdUrl(){var locale=urlHelper.getLocale(document.location);if(locale===''){locale='en-us';}
return window.TrackMan.Paths.legoIdUrl.replace(/\[locale\]/,locale);}
api.init=function(){setSCodeValues();legoIdStart=Date.now();loading=true;if(window&&window.LEGOID&&window.LEGOID.API){registerLegoIdEvents();}else{window.LEGOIDReady=window.LEGOIDReady||[];window.LEGOIDReady.push(registerLegoIdEvents);}
setTimeout(function(){if(foundUserStats===false){setLegoIdTimeStamp('LIDScriptLoadStart');try{(function(d,path){var js,ref;js=d.createElement('script');js.async=true;js.src=path;ref=d.getElementsByTagName('script')[0];ref.parentNode.insertBefore(js,ref);}(document,getLegoIdUrl()));}catch(e){setLegoIdTimeStamp('LIDScriptLoadFailed');}
setLegoIdTimeStamp('LIDScriptLoadEnd');}},LEGO_ID_TIMEOUT);setTimeout(function(){if(loading){timedOut=true;window.TrackMan.moduleReady(api,{timedOut:true});setLegoIdTimeStamp('LIDTimedOut');}},TIMEOUT);};module.exports=api;},{"./../../Utilities/UrlHelper.js":44,"./Logging.js":20,"./TrackingBase.js":21}],23:[function(require,module,exports){var trackingBase=require('./TrackingBase/TrackingBase.js');'use strict';var s;var UXTRACKING_LISTVAR='list1';var MOUSEOVER_EVENT=79;var ORIENTATIONCHANGED_EVENT=80;var RESIZED_EVENT=81;var SELECTIONCHANGED_EVENT=82;var SCROLLINGPOSITION_EVENT=83;var exports={};exports.info={version:'V001',name:'UXTracking'};s=trackingBase.SCode;function trackUXEvent(linkName,array,eventNumber){s[UXTRACKING_LISTVAR]=array.join(':');trackingBase.addEvent('event'+eventNumber,array.length).withTrackVars(UXTRACKING_LISTVAR).trackLinkHit(linkName);s[UXTRACKING_LISTVAR]=undefined;trackingBase.removeEvents(eventNumber);}
exports.trackMouseOver=function(elements){trackUXEvent('Mouse Over',elements,MOUSEOVER_EVENT);};exports.trackOrientationChanged=function(orientations){trackUXEvent('Orientation Changed',orientations,ORIENTATIONCHANGED_EVENT);};exports.trackResize=function(windowSizes){trackUXEvent('Resized',windowSizes,RESIZED_EVENT);};exports.trackSelectionChanged=function(selectedElements){trackUXEvent('Selection Changed',selectedElements,SELECTIONCHANGED_EVENT);};exports.trackScrollingPosition=function(percentages){trackUXEvent('Scrolling Positions',percentages,SCROLLINGPOSITION_EVENT);};if(window&&window.TrackMan){window.TrackMan.addLoadedModule(exports);}
module.exports=exports;},{"./TrackingBase/TrackingBase.js":21}],24:[function(require,module,exports){window.AppMeasurement_Module_Media=function(q){var b=this;b.s=q;q=window;q.s_c_in||(q.s_c_il=[],q.s_c_in=0);b._il=q.s_c_il;b._in=q.s_c_in;b._il[b._in]=b;q.s_c_in++;b._c='s_m';b.list=[];b.open=function(d,c,e,k){var f={},a=new Date(),l='',g;c||(c=-1);if(d&&e){b.list||(b.list={});b.list[d]&&b.close(d);k&&k.id&&(l=k.id);if(l)
for(g in b.list)
!Object.prototype[g]&&b.list[g]&&b.list[g].R==l&&b.close(b.list[g].name);f.name=d;f.length=c;f.offset=0;f.e=0;f.playerName=b.playerName?b.playerName:e;f.R=l;f.C=0;f.a=0;f.timestamp=Math.floor(a.getTime()/1000);f.k=0;f.u=f.timestamp;f.c=-1;f.n='';f.g=-1;f.D=0;f.I={};f.G=0;f.m=0;f.f='';f.B=0;f.L=0;f.A=0;f.F=0;f.l=!1;f.v='';f.J='';f.K=0;f.r=!1;f.H='';f.complete=0;f.Q=0;f.p=0;f.q=0;b.list[d]=f;}};b.openAd=function(d,c,e,k,f,a,l,g){var h={};b.open(d,c,e,g);if(h=b.list[d])
h.l=!0,h.v=k,h.J=f,h.K=a,h.H=l;};b.M=function(d){var c=b.list[d];b.list[d]=0;c&&c.monitor&&clearTimeout(c.monitor.interval);};b.close=function(d){b.i(d,0,-1);};b.play=function(d,c,e,k){var f=b.i(d,1,c,e,k);f&&!f.monitor&&(f.monitor={},f.monitor.update=function(){1==f.k&&b.i(f.name,3,-1);f.monitor.interval=setTimeout(f.monitor.update,1000);},f.monitor.update());};b.click=function(d,c){b.i(d,7,c);};b.complete=function(d,c){b.i(d,5,c);};b.stop=function(d,c){b.i(d,2,c);};b.track=function(d){b.i(d,4,-1);};b.P=function(d,c){var e='a.media.',k=d.linkTrackVars,f=d.linkTrackEvents,a='m_i',l,g=d.contextData,h;c.l&&(e+='ad.',c.v&&(g['a.media.name']=c.v,g[e+'pod']=c.J,g[e+'podPosition']=c.K),c.G||(g[e+'CPM']=c.H));c.r&&(g[e+'clicked']=!0,c.r=!1);g['a.contentType']='video'+(c.l?'Ad':'');g['a.media.channel']=b.channel;g[e+'name']=c.name;g[e+'playerName']=c.playerName;0<c.length&&(g[e+'length']=c.length);g[e+'timePlayed']=Math.floor(c.a);0<Math.floor(c.a)&&(g[e+'timePlayed']=Math.floor(c.a));c.G||(g[e+'view']=!0,a='m_s',b.Heartbeat&&b.Heartbeat.enabled&&(a=c.l?b.__primetime?'mspa_s':'msa_s':b.__primetime?'msp_s':'ms_s'),c.G=1);c.f&&(g[e+'segmentNum']=c.m,g[e+'segment']=c.f,0<c.B&&(g[e+'segmentLength']=c.B),c.A&&0<c.a&&(g[e+'segmentView']=!0));!c.Q&&c.complete&&(g[e+'complete']=!0,c.S=1);0<c.p&&(g[e+'milestone']=c.p);0<c.q&&(g[e+'offsetMilestone']=c.q);if(k)
for(h in g)
Object.prototype[h]||(k+=',contextData.'+h);l=g['a.contentType'];d.pe=a;d.pev3=l;var q,s;if(b.contextDataMapping)
for(h in d.events2||(d.events2=''),k&&(k+=',events'),b.contextDataMapping)
if(!Object.prototype[h]){a=h.length>e.length&&h.substring(0,e.length)==e?h.substring(e.length):'';l=b.contextDataMapping[h];if('string'==typeof l)
for(q=l.split(','),s=0;s<q.length;s++)
l=q[s],'a.contentType'==h?(k&&(k+=','+l),d[l]=g[h]):'view'==a||'segmentView'==a||'clicked'==a||'complete'==a||'timePlayed'==a||'CPM'==a?(f&&(f+=','+l),'timePlayed'==a||'CPM'==a?g[h]&&(d.events2+=(d.events2?',':'')+l+'='+g[h]):g[h]&&(d.events2+=(d.events2?',':'')+l)):'segment'==a&&g[h+'Num']?(k&&(k+=','+l),d[l]=g[h+'Num']+':'+g[h]):(k&&(k+=','+l),d[l]=g[h]);else if('milestones'==a||'offsetMilestones'==a)
h=h.substring(0,h.length-1),g[h]&&b.contextDataMapping[h+'s'][g[h]]&&(f&&(f+=','+b.contextDataMapping[h+'s'][g[h]]),d.events2+=(d.events2?',':'')+b.contextDataMapping[h+'s'][g[h]]);g[h]&&(g[h]=0);'segment'==a&&g[h+'Num']&&(g[h+'Num']=0);}
d.linkTrackVars=k;d.linkTrackEvents=f;};b.i=function(d,c,e,k,f){var a={},l=new Date().getTime()/1000,g,h,q=b.trackVars,s=b.trackEvents,t=b.trackSeconds,u=b.trackMilestones,v=b.trackOffsetMilestones,w=b.segmentByMilestones,x=b.segmentByOffsetMilestones,p,n,r=1,m={},y;b.channel||(b.channel=b.s.w.location.hostname);if(a=d&&b.list&&b.list[d]?b.list[d]:0)
if(a.l&&(t=b.adTrackSeconds,u=b.adTrackMilestones,v=b.adTrackOffsetMilestones,w=b.adSegmentByMilestones,x=b.adSegmentByOffsetMilestones),0>e&&(e=1==a.k&&0<a.u?l-a.u+a.c:a.c),0<a.length&&(e=e<a.length?e:a.length),0>e&&(e=0),a.offset=e,0<a.length&&(a.e=a.offset/a.length*100,a.e=100<a.e?100:a.e),0>a.c&&(a.c=e),y=a.D,m.name=d,m.ad=a.l,m.length=a.length,m.openTime=new Date(),m.openTime.setTime(1000*a.timestamp),m.offset=a.offset,m.percent=a.e,m.playerName=a.playerName,m.mediaEvent=0>a.g?'OPEN':1==c?'PLAY':2==c?'STOP':3==c?'MONITOR':4==c?'TRACK':5==c?'COMPLETE':7==c?'CLICK':'CLOSE',2<c||c!=a.k&&(2!=c||1==a.k)){f||(k=a.m,f=a.f);if(c){1==c&&(a.c=e);if((3>=c||5<=c)&&0<=a.g&&(r=!1,q=s='None',a.g!=e)){h=a.g;h>e&&(h=a.c,h>e&&(h=e));p=u?u.split(','):0;if(0<a.length&&p&&e>=h)
for(n=0;n<p.length;n++)
(g=p[n]?parseFloat(''+p[n]):0)&&h/a.length*100<g&&a.e>=g&&(r=!0,n=p.length,m.mediaEvent='MILESTONE',a.p=m.milestone=g);if((p=v?v.split(','):0)&&e>=h)
for(n=0;n<p.length;n++)
(g=p[n]?parseFloat(''+p[n]):0)&&h<g&&e>=g&&(r=!0,n=p.length,m.mediaEvent='OFFSET_MILESTONE',a.q=m.offsetMilestone=g);}
if(a.L||!f){if(w&&u&&0<a.length){if(p=u.split(','))
for(p.push('100'),n=h=0;n<p.length;n++)
if(g=p[n]?parseFloat(''+p[n]):0)
a.e<g&&(k=n+1,f='M:'+h+'-'+g,n=p.length),h=g;}else if(x&&v&&(p=v.split(',')))
for(p.push(''+(0<a.length?a.length:'E')),n=h=0;n<p.length;n++)
if((g=p[n]?parseFloat(''+p[n]):0)||'E'==p[n]){if(e<g||'E'==p[n])
k=n+1,f='O:'+h+'-'+g,n=p.length;h=g;}
f&&(a.L=!0);}
(f||a.f)&&f!=a.f&&(a.F=!0,a.f||(a.m=k,a.f=f),0<=a.g&&(r=!0));(2<=c||100<=a.e)&&a.c<e&&(a.C+=e-a.c,a.a+=e-a.c);if(2>=c||3==c&&!a.k)
a.n+=(1==c||3==c?'S':'E')+Math.floor(e),a.k=3==c?1:c;!r&&0<=a.g&&3>=c&&(t=t?t:0)&&a.a>=t&&(r=!0,m.mediaEvent='SECONDS');a.u=l;a.c=e;}
if(!c||3>=c&&100<=a.e)
2!=a.k&&(a.n+='E'+Math.floor(e)),c=0,q=s='None',m.mediaEvent='CLOSE';7==c&&(r=m.clicked=a.r=!0);if(5==c||b.completeByCloseOffset&&(!c||100<=a.e)&&0<a.length&&e>=a.length-b.completeCloseOffsetThreshold)
r=m.complete=a.complete=!0;l=m.mediaEvent;'MILESTONE'==l?l+='_'+m.milestone:'OFFSET_MILESTONE'==l&&(l+='_'+m.offsetMilestone);a.I[l]?m.eventFirstTime=!1:(m.eventFirstTime=!0,a.I[l]=1);m.event=m.mediaEvent;m.timePlayed=a.C;m.segmentNum=a.m;m.segment=a.f;m.segmentLength=a.B;b.monitor&&4!=c&&b.monitor(b.s,m);b.Heartbeat&&b.Heartbeat.enabled&&0<=a.g&&(r=!1);0==c&&b.M(d);r&&a.D==y&&(d={contextData:{}},d.linkTrackVars=q,d.linkTrackEvents=s,d.linkTrackVars||(d.linkTrackVars=''),d.linkTrackEvents||(d.linkTrackEvents=''),b.P(d,a),d.linkTrackVars||(d['!linkTrackVars']=1),d.linkTrackEvents||(d['!linkTrackEvents']=1),b.s.track(d),a.F?(a.m=k,a.f=f,a.A=!0,a.F=!1):0<a.a&&(a.A=!1),a.n='',a.p=a.q=0,a.a-=Math.floor(a.a),a.g=e,a.D++);}
return a;};b.O=function(d,c,e,k,f){var a=0;if(d&&(!b.autoTrackMediaLengthRequired||c&&0<c)){if(b.list&&b.list[d])
a=1;else if(1==e||3==e)
b.open(d,c,'HTML5 Video',f),a=1;a&&b.i(d,e,k,-1,0);}};b.attach=function(d){var c,e,k;d&&d.tagName&&'VIDEO'==d.tagName.toUpperCase()&&(b.o||(b.o=function(c,a,d){var e,h;b.autoTrack&&(e=c.currentSrc,(h=c.duration)||(h=-1),0>d&&(d=c.currentTime),b.O(e,h,a,d,c));}),c=function(){b.o(d,1,-1);},e=function(){b.o(d,1,-1);},b.j(d,'play',c),b.j(d,'pause',e),b.j(d,'seeking',e),b.j(d,'seeked',c),b.j(d,'ended',function(){b.o(d,0,-1);}),b.j(d,'timeupdate',c),k=function(){d.paused||d.ended||d.seeking||b.o(d,3,-1);setTimeout(k,1000);},k());};b.j=function(b,c,e){b.attachEvent?b.attachEvent('on'+c,e):b.addEventListener&&b.addEventListener(c,e,!1);};void 0==b.completeByCloseOffset&&(b.completeByCloseOffset=1);void 0==b.completeCloseOffsetThreshold&&(b.completeCloseOffsetThreshold=1);b.Heartbeat={};b.N=function(){var d,c;if(b.autoTrack&&(d=b.s.d.getElementsByTagName('VIDEO')))
for(c=0;c<d.length;c++)
b.attach(d[c]);};b.j(q,'load',b.N);};},{}],25:[function(require,module,exports){function AppMeasurement(){var a=this;a.version='2.1.0';var h=window;h.s_c_in||(h.s_c_il=[],h.s_c_in=0);a._il=h.s_c_il;a._in=h.s_c_in;a._il[a._in]=a;h.s_c_in++;a._c='s_c';var n=h.AppMeasurement;n||(n=null);var p=h,l,r;try{for(l=p.parent,r=p.location;l&&l.location&&r&&''+l.location!=''+r&&p.location&&''+l.location!=''+p.location&&l.location.host==r.host;)
p=l,l=p.parent;}catch(s){}
a.P=function(a){try{console.log(a);}catch(b){}};a.La=function(a){return''+parseInt(a)==''+a;};a.replace=function(a,b,d){return!a||0>a.indexOf(b)?a:a.split(b).join(d);};a.escape=function(c){var b,d;if(!c)
return c;c=encodeURIComponent(c);for(b=0;7>b;b++)
d='+~!*()\''.substring(b,b+1),0<=c.indexOf(d)&&(c=a.replace(c,d,'%'+d.charCodeAt(0).toString(16).toUpperCase()));return c;};a.unescape=function(c){if(!c)
return c;c=0<=c.indexOf('+')?a.replace(c,'+',' '):c;try{return decodeURIComponent(c);}catch(b){}
return unescape(c);};a.vb=function(){var c=h.location.hostname,b=a.fpCookieDomainPeriods,d;b||(b=a.cookieDomainPeriods);if(c&&!a.cookieDomain&&!/^[0-9.]+$/.test(c)&&(b=b?parseInt(b):2,b=2<b?b:2,d=c.lastIndexOf('.'),0<=d)){for(;0<=d&&1<b;)
d=c.lastIndexOf('.',d-1),b--;a.cookieDomain=0<d?c.substring(d):c;}
return a.cookieDomain;};a.c_r=a.cookieRead=function(c){c=a.escape(c);var b=' '+a.d.cookie,d=b.indexOf(' '+c+'='),f=0>d?d:b.indexOf(';',d);c=0>d?'':a.unescape(b.substring(d+2+c.length,0>f?b.length:f));return'[[B]]'!=c?c:'';};a.c_w=a.cookieWrite=function(c,b,d){var f=a.vb(),e=a.cookieLifetime,g;b=''+b;e=e?(''+e).toUpperCase():'';d&&'SESSION'!=e&&'NONE'!=e&&((g=''!=b?parseInt(e?e:0):-60)?(d=new Date(),d.setTime(d.getTime()+1000*g)):1==d&&(d=new Date(),g=d.getYear(),d.setYear(g+5+(1900>g?1900:0))));return c&&'NONE'!=e?(a.d.cookie=a.escape(c)+'='+a.escape(''!=b?b:'[[B]]')+'; path=/;'+(d&&'SESSION'!=e?' expires='+d.toGMTString()+';':'')+(f?' domain='+f+';':''),a.cookieRead(c)==b):0;};a.K=[];a.ia=function(c,b,d){if(a.Ea)
return 0;a.maxDelay||(a.maxDelay=250);var f=0,e=new Date().getTime()+a.maxDelay,g=a.d.visibilityState,k=['webkitvisibilitychange','visibilitychange'];g||(g=a.d.webkitVisibilityState);if(g&&'prerender'==g){if(!a.ja)
for(a.ja=1,d=0;d<k.length;d++)
a.d.addEventListener(k[d],function(){var c=a.d.visibilityState;c||(c=a.d.webkitVisibilityState);'visible'==c&&(a.ja=0,a.delayReady());});f=1;e=0;}else
d||a.p('_d')&&(f=1);f&&(a.K.push({m:c,a:b,t:e}),a.ja||setTimeout(a.delayReady,a.maxDelay));return f;};a.delayReady=function(){var c=new Date().getTime(),b=0,d;for(a.p('_d')?b=1:a.xa();0<a.K.length;){d=a.K.shift();if(b&&!d.t&&d.t>c){a.K.unshift(d);setTimeout(a.delayReady,parseInt(a.maxDelay/2));break;}
a.Ea=1;a[d.m].apply(a,d.a);a.Ea=0;}};a.setAccount=a.sa=function(c){var b,d;if(!a.ia('setAccount',arguments))
if(a.account=c,a.allAccounts)
for(b=a.allAccounts.concat(c.split(',')),a.allAccounts=[],b.sort(),d=0;d<b.length;d++)
0!=d&&b[d-1]==b[d]||a.allAccounts.push(b[d]);else
a.allAccounts=c.split(',');};a.foreachVar=function(c,b){var d,f,e,g,k='';e=f='';if(a.lightProfileID)
d=a.O,(k=a.lightTrackVars)&&(k=','+k+','+a.na.join(',')+',');else{d=a.g;if(a.pe||a.linkType)
k=a.linkTrackVars,f=a.linkTrackEvents,a.pe&&(e=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[e]&&(k=a[e].Mb,f=a[e].Lb));k&&(k=','+k+','+a.G.join(',')+',');f&&k&&(k+=',events,');}
b&&(b=','+b+',');for(f=0;f<d.length;f++)
e=d[f],(g=a[e])&&(!k||0<=k.indexOf(','+e+','))&&(!b||0<=b.indexOf(','+e+','))&&c(e,g);};a.r=function(c,b,d,f,e){var g='',k,m,h,t,l=0;'contextData'==c&&(c='c');if(b){for(k in b)
if(!(Object.prototype[k]||e&&k.substring(0,e.length)!=e)&&b[k]&&(!d||0<=d.indexOf(','+(f?f+'.':'')+k+','))){h=!1;if(l)
for(m=0;m<l.length;m++)
k.substring(0,l[m].length)==l[m]&&(h=!0);if(!h&&(''==g&&(g+='&'+c+'.'),m=b[k],e&&(k=k.substring(e.length)),0<k.length))
if(h=k.indexOf('.'),0<h)
m=k.substring(0,h),h=(e?e:'')+m+'.',l||(l=[]),l.push(h),g+=a.r(m,b,d,f,h);else if('boolean'==typeof m&&(m=m?'true':'false'),m){if('retrieveLightData'==f&&0>e.indexOf('.contextData.'))
switch(h=k.substring(0,4),t=k.substring(4),k){case'transactionID':k='xact';break;case'channel':k='ch';break;case'campaign':k='v0';break;default:a.La(t)&&('prop'==h?k='c'+t:'eVar'==h?k='v'+t:'list'==h?k='l'+t:'hier'==h&&(k='h'+t,m=m.substring(0,255)));}
g+='&'+a.escape(k)+'='+a.escape(m);}}''!=g&&(g+='&.'+c);}
return g;};a.usePostbacks=0;a.yb=function(){var c='',b,d,f,e,g,k,m,h,l='',p='',q=e='';if(a.lightProfileID)
b=a.O,(l=a.lightTrackVars)&&(l=','+l+','+a.na.join(',')+',');else{b=a.g;if(a.pe||a.linkType)
l=a.linkTrackVars,p=a.linkTrackEvents,a.pe&&(e=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[e]&&(l=a[e].Mb,p=a[e].Lb));l&&(l=','+l+','+a.G.join(',')+',');p&&(p=','+p+',',l&&(l+=',events,'));a.events2&&(q+=(''!=q?',':'')+a.events2);}
if(a.visitor&&a.visitor.getCustomerIDs){e=n;if(g=a.visitor.getCustomerIDs())
for(d in g)
Object.prototype[d]||(f=g[d],'object'==typeof f&&(e||(e={}),f.id&&(e[d+'.id']=f.id),f.authState&&(e[d+'.as']=f.authState)));e&&(c+=a.r('cid',e));}
a.AudienceManagement&&a.AudienceManagement.isReady()&&(c+=a.r('d',a.AudienceManagement.getEventCallConfigParams()));for(d=0;d<b.length;d++){e=b[d];g=a[e];f=e.substring(0,4);k=e.substring(4);g||('events'==e&&q?(g=q,q=''):'marketingCloudOrgID'==e&&a.visitor&&(g=a.visitor.marketingCloudOrgID));if(g&&(!l||0<=l.indexOf(','+e+','))){switch(e){case'customerPerspective':e='cp';break;case'marketingCloudOrgID':e='mcorgid';break;case'supplementalDataID':e='sdid';break;case'timestamp':e='ts';break;case'dynamicVariablePrefix':e='D';break;case'visitorID':e='vid';break;case'marketingCloudVisitorID':e='mid';break;case'analyticsVisitorID':e='aid';break;case'audienceManagerLocationHint':e='aamlh';break;case'audienceManagerBlob':e='aamb';break;case'authState':e='as';break;case'pageURL':e='g';255<g.length&&(a.pageURLRest=g.substring(255),g=g.substring(0,255));break;case'pageURLRest':e='-g';break;case'referrer':e='r';break;case'vmk':case'visitorMigrationKey':e='vmt';break;case'visitorMigrationServer':e='vmf';a.ssl&&a.visitorMigrationServerSecure&&(g='');break;case'visitorMigrationServerSecure':e='vmf';!a.ssl&&a.visitorMigrationServer&&(g='');break;case'charSet':e='ce';break;case'visitorNamespace':e='ns';break;case'cookieDomainPeriods':e='cdp';break;case'cookieLifetime':e='cl';break;case'variableProvider':e='vvp';break;case'currencyCode':e='cc';break;case'channel':e='ch';break;case'transactionID':e='xact';break;case'campaign':e='v0';break;case'latitude':e='lat';break;case'longitude':e='lon';break;case'resolution':e='s';break;case'colorDepth':e='c';break;case'javascriptVersion':e='j';break;case'javaEnabled':e='v';break;case'cookiesEnabled':e='k';break;case'browserWidth':e='bw';break;case'browserHeight':e='bh';break;case'connectionType':e='ct';break;case'homepage':e='hp';break;case'events':q&&(g+=(''!=g?',':'')+q);if(p)
for(k=g.split(','),g='',f=0;f<k.length;f++)
m=k[f],h=m.indexOf('='),0<=h&&(m=m.substring(0,h)),h=m.indexOf(':'),0<=h&&(m=m.substring(0,h)),0<=p.indexOf(','+m+',')&&(g+=(g?',':'')+k[f]);break;case'events2':g='';break;case'contextData':c+=a.r('c',a[e],l,e);g='';break;case'lightProfileID':e='mtp';break;case'lightStoreForSeconds':e='mtss';a.lightProfileID||(g='');break;case'lightIncrementBy':e='mti';a.lightProfileID||(g='');break;case'retrieveLightProfiles':e='mtsr';break;case'deleteLightProfiles':e='mtsd';break;case'retrieveLightData':a.retrieveLightProfiles&&(c+=a.r('mts',a[e],l,e));g='';break;default:a.La(k)&&('prop'==f?e='c'+k:'eVar'==f?e='v'+k:'list'==f?e='l'+k:'hier'==f&&(e='h'+k,g=g.substring(0,255)));}
g&&(c+='&'+e+'='+('pev'!=e.substring(0,3)?a.escape(g):g));}'pev3'==e&&a.e&&(c+=a.e);}
return c;};a.D=function(a){var b=a.tagName;if('undefined'!=''+a.Rb||'undefined'!=''+a.Hb&&'HTML'!=(''+a.Hb).toUpperCase())
return'';b=b&&b.toUpperCase?b.toUpperCase():'';'SHAPE'==b&&(b='');b&&(('INPUT'==b||'BUTTON'==b)&&a.type&&a.type.toUpperCase?b=a.type.toUpperCase():!b&&a.href&&(b='A'));return b;};a.Ha=function(a){var b=h.location,d=a.href?a.href:'',f,e,g;f=d.indexOf(':');e=d.indexOf('?');g=d.indexOf('/');d&&(0>f||0<=e&&f>e||0<=g&&f>g)&&(e=a.protocol&&1<a.protocol.length?a.protocol:b.protocol?b.protocol:'',f=b.pathname.lastIndexOf('/'),d=(e?e+'//':'')+(a.host?a.host:b.host?b.host:'')+('/'!=d.substring(0,1)?b.pathname.substring(0,0>f?0:f)+'/':'')+d);return d;};a.L=function(c){var b=a.D(c),d,f,e='',g=0;return b&&(d=c.protocol,f=c.onclick,!c.href||'A'!=b&&'AREA'!=b||f&&d&&!(0>d.toLowerCase().indexOf('javascript'))?f?(e=a.replace(a.replace(a.replace(a.replace(''+f,'\r',''),'\n',''),'\t',''),' ',''),g=2):'INPUT'==b||'SUBMIT'==b?(c.value?e=c.value:c.innerText?e=c.innerText:c.textContent&&(e=c.textContent),g=3):'IMAGE'==b&&c.src&&(e=c.src):e=a.Ha(c),e)?{id:e.substring(0,100),type:g}:0;};a.Pb=function(c){for(var b=a.D(c),d=a.L(c);c&&!d&&'BODY'!=b;)
if(c=c.parentElement?c.parentElement:c.parentNode)
b=a.D(c),d=a.L(c);d&&'BODY'!=b||(c=0);c&&(b=c.onclick?''+c.onclick:'',0<=b.indexOf('.tl(')||0<=b.indexOf('.trackLink('))&&(c=0);return c;};a.Gb=function(){var c,b,d=a.linkObject,f=a.linkType,e=a.linkURL,g,k;a.oa=1;d||(a.oa=0,d=a.clickObject);if(d){c=a.D(d);for(b=a.L(d);d&&!b&&'BODY'!=c;)
if(d=d.parentElement?d.parentElement:d.parentNode)
c=a.D(d),b=a.L(d);b&&'BODY'!=c||(d=0);if(d&&!a.linkObject){var m=d.onclick?''+d.onclick:'';if(0<=m.indexOf('.tl(')||0<=m.indexOf('.trackLink('))
d=0;}}else
a.oa=1;!e&&d&&(e=a.Ha(d));e&&!a.linkLeaveQueryString&&(g=e.indexOf('?'),0<=g&&(e=e.substring(0,g)));if(!f&&e){var l=0,p=0,n;if(a.trackDownloadLinks&&a.linkDownloadFileTypes)
for(m=e.toLowerCase(),g=m.indexOf('?'),k=m.indexOf('#'),0<=g?0<=k&&k<g&&(g=k):g=k,0<=g&&(m=m.substring(0,g)),g=a.linkDownloadFileTypes.toLowerCase().split(','),k=0;k<g.length;k++)
(n=g[k])&&m.substring(m.length-(n.length+1))=='.'+n&&(f='d');if(a.trackExternalLinks&&!f&&(m=e.toLowerCase(),a.Ka(m)&&(a.linkInternalFilters||(a.linkInternalFilters=h.location.hostname),g=0,a.linkExternalFilters?(g=a.linkExternalFilters.toLowerCase().split(','),l=1):a.linkInternalFilters&&(g=a.linkInternalFilters.toLowerCase().split(',')),g))){for(k=0;k<g.length;k++)
n=g[k],0<=m.indexOf(n)&&(p=1);p?l&&(f='e'):l||(f='e');}}
a.linkObject=d;a.linkURL=e;a.linkType=f;if(a.trackClickMap||a.trackInlineStats)
a.e='',d&&(f=a.pageName,e=1,d=d.sourceIndex,f||(f=a.pageURL,e=0),h.s_objectID&&(b.id=h.s_objectID,d=b.type=1),f&&b&&b.id&&c&&(a.e='&pid='+a.escape(f.substring(0,255))+(e?'&pidt='+e:'')+'&oid='+a.escape(b.id.substring(0,100))+(b.type?'&oidt='+b.type:'')+'&ot='+c+(d?'&oi='+d:'')));};a.zb=function(){var c=a.oa,b=a.linkType,d=a.linkURL,f=a.linkName;b&&(d||f)&&(b=b.toLowerCase(),'d'!=b&&'e'!=b&&(b='o'),a.pe='lnk_'+b,a.pev1=d?a.escape(d):'',a.pev2=f?a.escape(f):'',c=1);a.abort&&(c=0);if(a.trackClickMap||a.trackInlineStats||a.ActivityMap){var b={},d=0,e=a.cookieRead('s_sq'),g=e?e.split('&'):0,k,m,h,e=0;if(g)
for(k=0;k<g.length;k++)
m=g[k].split('='),f=a.unescape(m[0]).split(','),m=a.unescape(m[1]),b[m]=f;f=a.account.split(',');k={};for(h in a.contextData)
h&&!Object.prototype[h]&&'a.activitymap.'==h.substring(0,14)&&(k[h]=a.contextData[h],a.contextData[h]='');a.e=a.r('c',k)+(a.e?a.e:'');if(c||a.e){c&&!a.e&&(e=1);for(m in b)
if(!Object.prototype[m])
for(h=0;h<f.length;h++)
for(e&&(g=b[m].join(','),g==a.account&&(a.e+=('&'!=m.charAt(0)?'&':'')+m,b[m]=[],d=1)),k=0;k<b[m].length;k++)
g=b[m][k],g==f[h]&&(e&&(a.e+='&u='+a.escape(g)+('&'!=m.charAt(0)?'&':'')+m+'&u=0'),b[m].splice(k,1),d=1);c||(d=1);if(d){e='';k=2;!c&&a.e&&(e=a.escape(f.join(','))+'='+a.escape(a.e),k=1);for(m in b)
!Object.prototype[m]&&0<k&&0<b[m].length&&(e+=(e?'&':'')+a.escape(b[m].join(','))+'='+a.escape(m),k--);a.cookieWrite('s_sq',e);}}}
return c;};a.Ab=function(){if(!a.Kb){var c=new Date(),b=p.location,d,f,e=f=d='',g='',k='',h='1.2',l=a.cookieWrite('s_cc','true',0)?'Y':'N',n='',q='';if(c.setUTCDate&&(h='1.3',0..toPrecision&&(h='1.5',c=[],c.forEach))){h='1.6';f=0;d={};try{f=new Iterator(d),f.next&&(h='1.7',c.reduce&&(h='1.8',h.trim&&(h='1.8.1',Date.parse&&(h='1.8.2',Object.create&&(h='1.8.5')))));}catch(r){}}
d=screen.width+'x'+screen.height;e=navigator.javaEnabled()?'Y':'N';f=screen.pixelDepth?screen.pixelDepth:screen.colorDepth;g=a.w.innerWidth?a.w.innerWidth:a.d.documentElement.offsetWidth;k=a.w.innerHeight?a.w.innerHeight:a.d.documentElement.offsetHeight;try{a.b.addBehavior('#default#homePage'),n=a.b.Qb(b)?'Y':'N';}catch(s){}
try{a.b.addBehavior('#default#clientCaps'),q=a.b.connectionType;}catch(u){}
a.resolution=d;a.colorDepth=f;a.javascriptVersion=h;a.javaEnabled=e;a.cookiesEnabled=l;a.browserWidth=g;a.browserHeight=k;a.connectionType=q;a.homepage=n;a.Kb=1;}};a.Q={};a.loadModule=function(c,b){var d=a.Q[c];if(!d){d=h['AppMeasurement_Module_'+c]?new h['AppMeasurement_Module_'+c](a):{};a.Q[c]=a[c]=d;d.cb=function(){return d.hb;};d.ib=function(b){if(d.hb=b)
a[c+'_onLoad']=b,a.ia(c+'_onLoad',[a,d],1)||b(a,d);};try{Object.defineProperty?Object.defineProperty(d,'onLoad',{get:d.cb,set:d.ib}):d._olc=1;}catch(f){d._olc=1;}}
b&&(a[c+'_onLoad']=b,a.ia(c+'_onLoad',[a,d],1)||b(a,d));};a.p=function(c){var b,d;for(b in a.Q)
if(!Object.prototype[b]&&(d=a.Q[b])&&(d._olc&&d.onLoad&&(d._olc=0,d.onLoad(a,d)),d[c]&&d[c]()))
return 1;return 0;};a.Cb=function(){var c=Math.floor(10000000000000*Math.random()),b=a.visitorSampling,d=a.visitorSamplingGroup,d='s_vsn_'+(a.visitorNamespace?a.visitorNamespace:a.account)+(d?'_'+d:''),f=a.cookieRead(d);if(b){b*=100;f&&(f=parseInt(f));if(!f){if(!a.cookieWrite(d,c))
return 0;f=c;}
if(f%10000>b)
return 0;}
return 1;};a.R=function(c,b){var d,f,e,g,k,h;for(d=0;2>d;d++)
for(f=0<d?a.Aa:a.g,e=0;e<f.length;e++)
if(g=f[e],(k=c[g])||c['!'+g]){if(!b&&('contextData'==g||'retrieveLightData'==g)&&a[g])
for(h in a[g])
k[h]||(k[h]=a[g][h]);a[g]=k;}};a.Ua=function(c,b){var d,f,e,g;for(d=0;2>d;d++)
for(f=0<d?a.Aa:a.g,e=0;e<f.length;e++)
g=f[e],c[g]=a[g],b||c[g]||(c['!'+g]=1);};a.ub=function(a){var b,d,f,e,g,k=0,h,l='',n='';if(a&&255<a.length&&(b=''+a,d=b.indexOf('?'),0<d&&(h=b.substring(d+1),b=b.substring(0,d),e=b.toLowerCase(),f=0,'http://'==e.substring(0,7)?f+=7:'https://'==e.substring(0,8)&&(f+=8),d=e.indexOf('/',f),0<d&&(e=e.substring(f,d),g=b.substring(d),b=b.substring(0,d),0<=e.indexOf('google')?k=',q,ie,start,search_key,word,kw,cd,':0<=e.indexOf('yahoo.co')&&(k=',p,ei,'),k&&h)))){if((a=h.split('&'))&&1<a.length){for(f=0;f<a.length;f++)
e=a[f],d=e.indexOf('='),0<d&&0<=k.indexOf(','+e.substring(0,d)+',')?l+=(l?'&':'')+e:n+=(n?'&':'')+e;l&&n?h=l+'&'+n:n='';}
d=253-(h.length-n.length)-b.length;a=b+(0<d?g.substring(0,d):'')+'?'+h;}
return a;};a.$a=function(c){var b=a.d.visibilityState,d=['webkitvisibilitychange','visibilitychange'];b||(b=a.d.webkitVisibilityState);if(b&&'prerender'==b){if(c)
for(b=0;b<d.length;b++)
a.d.addEventListener(d[b],function(){var b=a.d.visibilityState;b||(b=a.d.webkitVisibilityState);'visible'==b&&c();});return!1;}
return!0;};a.ea=!1;a.I=!1;a.kb=function(){a.I=!0;a.j();};a.ca=!1;a.V=!1;a.gb=function(c){a.marketingCloudVisitorID=c;a.V=!0;a.j();};a.fa=!1;a.W=!1;a.lb=function(c){a.visitorOptedOut=c;a.W=!0;a.j();};a.Z=!1;a.S=!1;a.Wa=function(c){a.analyticsVisitorID=c;a.S=!0;a.j();};a.ba=!1;a.U=!1;a.Ya=function(c){a.audienceManagerLocationHint=c;a.U=!0;a.j();};a.aa=!1;a.T=!1;a.Xa=function(c){a.audienceManagerBlob=c;a.T=!0;a.j();};a.Za=function(c){a.maxDelay||(a.maxDelay=250);return a.p('_d')?(c&&setTimeout(function(){c();},a.maxDelay),!1):!0;};a.da=!1;a.H=!1;a.xa=function(){a.H=!0;a.j();};a.isReadyToTrack=function(){var c=!0,b=a.visitor,d,f,e;a.ea||a.I||(a.$a(a.kb)?a.I=!0:a.ea=!0);if(a.ea&&!a.I)
return!1;b&&b.isAllowed()&&(a.ca||a.marketingCloudVisitorID||!b.getMarketingCloudVisitorID||(a.ca=!0,a.marketingCloudVisitorID=b.getMarketingCloudVisitorID([a,a.gb]),a.marketingCloudVisitorID&&(a.V=!0)),a.fa||a.visitorOptedOut||!b.isOptedOut||(a.fa=!0,a.visitorOptedOut=b.isOptedOut([a,a.lb]),a.visitorOptedOut!=n&&(a.W=!0)),a.Z||a.analyticsVisitorID||!b.getAnalyticsVisitorID||(a.Z=!0,a.analyticsVisitorID=b.getAnalyticsVisitorID([a,a.Wa]),a.analyticsVisitorID&&(a.S=!0)),a.ba||a.audienceManagerLocationHint||!b.getAudienceManagerLocationHint||(a.ba=!0,a.audienceManagerLocationHint=b.getAudienceManagerLocationHint([a,a.Ya]),a.audienceManagerLocationHint&&(a.U=!0)),a.aa||a.audienceManagerBlob||!b.getAudienceManagerBlob||(a.aa=!0,a.audienceManagerBlob=b.getAudienceManagerBlob([a,a.Xa]),a.audienceManagerBlob&&(a.T=!0)),c=a.ca&&!a.V&&!a.marketingCloudVisitorID,b=a.Z&&!a.S&&!a.analyticsVisitorID,d=a.ba&&!a.U&&!a.audienceManagerLocationHint,f=a.aa&&!a.T&&!a.audienceManagerBlob,e=a.fa&&!a.W,c=c||b||d||f||e?!1:!0);a.da||a.H||(a.Za(a.xa)?a.H=!0:a.da=!0);a.da&&!a.H&&(c=!1);return c;};a.o=n;a.u=0;a.callbackWhenReadyToTrack=function(c,b,d){var f;f={};f.pb=c;f.ob=b;f.mb=d;a.o==n&&(a.o=[]);a.o.push(f);0==a.u&&(a.u=setInterval(a.j,100));};a.j=function(){var c;if(a.isReadyToTrack()&&(a.jb(),a.o!=n))
for(;0<a.o.length;)
c=a.o.shift(),c.ob.apply(c.pb,c.mb);};a.jb=function(){a.u&&(clearInterval(a.u),a.u=0);};a.eb=function(c){var b,d,f=n,e=n;if(!a.isReadyToTrack()){b=[];if(c!=n)
for(d in f={},c)
f[d]=c[d];e={};a.Ua(e,!0);b.push(f);b.push(e);a.callbackWhenReadyToTrack(a,a.track,b);return!0;}
return!1;};a.wb=function(){var c=a.cookieRead('s_fid'),b='',d='',f;f=8;var e=4;if(!c||0>c.indexOf('-')){for(c=0;16>c;c++)
f=Math.floor(Math.random()*f),b+='0123456789ABCDEF'.substring(f,f+1),f=Math.floor(Math.random()*e),d+='0123456789ABCDEF'.substring(f,f+1),f=e=16;c=b+'-'+d;}
a.cookieWrite('s_fid',c,1)||(c=0);return c;};a.t=a.track=function(c,b){var d,f=new Date(),e='s'+Math.floor(f.getTime()/10800000)%10+Math.floor(10000000000000*Math.random()),g=f.getYear(),g='t='+a.escape(f.getDate()+'/'+f.getMonth()+'/'+(1900>g?g+1900:g)+' '+f.getHours()+':'+f.getMinutes()+':'+f.getSeconds()+' '+f.getDay()+' '+f.getTimezoneOffset());a.visitor&&a.visitor.getAuthState&&(a.authState=a.visitor.getAuthState());a.p('_s');a.eb(c)||(b&&a.R(b),c&&(d={},a.Ua(d,0),a.R(c)),a.Cb()&&!a.visitorOptedOut&&(a.analyticsVisitorID||a.marketingCloudVisitorID||(a.fid=a.wb()),a.Gb(),a.usePlugins&&a.doPlugins&&a.doPlugins(a),a.account&&(a.abort||(a.trackOffline&&!a.timestamp&&(a.timestamp=Math.floor(f.getTime()/1000)),f=h.location,a.pageURL||(a.pageURL=f.href?f.href:f),a.referrer||a.Va||(f=a.Util.getQueryParam('adobe_mc_ref',null,null,!0),a.referrer=f||void 0===f?void 0===f?'':f:p.document.referrer),a.Va=1,a.referrer=a.ub(a.referrer),a.p('_g')),a.zb()&&!a.abort&&(a.visitor&&!a.supplementalDataID&&a.visitor.getSupplementalDataID&&(a.supplementalDataID=a.visitor.getSupplementalDataID('AppMeasurement:'+a._in,a.expectSupplementalData?!1:!0)),a.Ab(),g+=a.yb(),a.Fb(e,g),a.p('_t'),a.referrer=''))),c&&a.R(d,1));a.abort=a.supplementalDataID=a.timestamp=a.pageURLRest=a.linkObject=a.clickObject=a.linkURL=a.linkName=a.linkType=h.s_objectID=a.pe=a.pev1=a.pev2=a.pev3=a.e=a.lightProfileID=0;};a.za=[];a.registerPreTrackCallback=function(c){for(var b=[],d=1;d<arguments.length;d++)
b.push(arguments[d]);'function'==typeof c?a.za.push([c,b]):a.debugTracking&&a.P('DEBUG: Non function type passed to registerPreTrackCallback');};a.bb=function(c){a.wa(a.za,c);};a.ya=[];a.registerPostTrackCallback=function(c){for(var b=[],d=1;d<arguments.length;d++)
b.push(arguments[d]);'function'==typeof c?a.ya.push([c,b]):a.debugTracking&&a.P('DEBUG: Non function type passed to registerPostTrackCallback');};a.ab=function(c){a.wa(a.ya,c);};a.wa=function(c,b){if('object'==typeof c)
for(var d=0;d<c.length;d++){var f=c[d][0],e=c[d][1];e.unshift(b);if('function'==typeof f)
try{f.apply(null,e);}catch(g){a.debugTracking&&a.P(g.message);}}};a.tl=a.trackLink=function(c,b,d,f,e){a.linkObject=c;a.linkType=b;a.linkName=d;e&&(a.l=c,a.A=e);return a.track(f);};a.trackLight=function(c,b,d,f){a.lightProfileID=c;a.lightStoreForSeconds=b;a.lightIncrementBy=d;return a.track(f);};a.clearVars=function(){var c,b;for(c=0;c<a.g.length;c++)
if(b=a.g[c],'prop'==b.substring(0,4)||'eVar'==b.substring(0,4)||'hier'==b.substring(0,4)||'list'==b.substring(0,4)||'channel'==b||'events'==b||'eventList'==b||'products'==b||'productList'==b||'purchaseID'==b||'transactionID'==b||'state'==b||'zip'==b||'campaign'==b)
a[b]=void 0;};a.tagContainerMarker='';a.Fb=function(c,b){var d,f=a.trackingServer;d='';var e=a.dc,g='sc.',h=a.visitorNamespace;f?a.trackingServerSecure&&a.ssl&&(f=a.trackingServerSecure):(h||(h=a.account,f=h.indexOf(','),0<=f&&(h=h.substring(0,f)),h=h.replace(/[^A-Za-z0-9]/g,'')),d||(d='2o7.net'),e=e?(''+e).toLowerCase():'d1','2o7.net'==d&&('d1'==e?e='112':'d2'==e&&(e='122'),g=''),f=h+'.'+e+'.'+g+d);d=a.ssl?'https://':'http://';e=a.AudienceManagement&&a.AudienceManagement.isReady()||0!=a.usePostbacks;d+=f+'/b/ss/'+a.account+'/'+(a.mobile?'5.':'')+(e?'10':'1')+'/JS-'+a.version+(a.Jb?'T':'')+(a.tagContainerMarker?'-'+a.tagContainerMarker:'')+'/'+c+'?AQB=1&ndh=1&pf=1&'+(e?'callback=s_c_il['+a._in+'].doPostbacks&et=1&':'')+b+'&AQE=1';a.bb(d);a.sb(d);a.ka();};a.Ta=/{(%?)(.*?)(%?)}/;a.Nb=RegExp(a.Ta.source,'g');a.tb=function(c){if('object'==typeof c.dests)
for(var b=0;b<c.dests.length;++b){var d=c.dests[b];if('string'==typeof d.c&&'aa.'==d.id.substr(0,3))
for(var f=d.c.match(a.Nb),e=0;e<f.length;++e){var g=f[e],h=g.match(a.Ta),l='';'%'==h[1]&&'timezone_offset'==h[2]?l=new Date().getTimezoneOffset():'%'==h[1]&&'timestampz'==h[2]&&(l=a.xb());d.c=d.c.replace(g,a.escape(l));}}};a.xb=function(){var c=new Date(),b=new Date(60000*Math.abs(c.getTimezoneOffset()));return a.k(4,c.getFullYear())+'-'+a.k(2,c.getMonth()+1)+'-'+a.k(2,c.getDate())+'T'+a.k(2,c.getHours())+':'+a.k(2,c.getMinutes())+':'+a.k(2,c.getSeconds())+(0<c.getTimezoneOffset()?'-':'+')+a.k(2,b.getUTCHours())+':'+a.k(2,b.getUTCMinutes());};a.k=function(a,b){return(Array(a+1).join(0)+b).slice(-a);};a.ta={};a.doPostbacks=function(c){if('object'==typeof c)
if(a.tb(c),'object'==typeof a.AudienceManagement&&'function'==typeof a.AudienceManagement.isReady&&a.AudienceManagement.isReady()&&'function'==typeof a.AudienceManagement.passData)
a.AudienceManagement.passData(c);else if('object'==typeof c&&'object'==typeof c.dests)
for(var b=0;b<c.dests.length;++b){var d=c.dests[b];'object'==typeof d&&'string'==typeof d.c&&'string'==typeof d.id&&'aa.'==d.id.substr(0,3)&&(a.ta[d.id]=new Image(),a.ta[d.id].alt='',a.ta[d.id].src=d.c);}};a.sb=function(c){a.i||a.Bb();a.i.push(c);a.ma=a.C();a.Ra();};a.Bb=function(){a.i=a.Db();a.i||(a.i=[]);};a.Db=function(){var c,b;if(a.ra()){try{(b=h.DISABLEDlocalStorage.getItem(a.pa()))&&(c=h.JSON.parse(b));}catch(d){}
return c;}};a.ra=function(){var c=!0;a.trackOffline&&a.offlineFilename&&h.DISABLEDlocalStorage&&h.JSON||(c=!1);return c;};a.Ia=function(){var c=0;a.i&&(c=a.i.length);a.q&&c++;return c;};a.ka=function(){if(a.q&&(a.B&&a.B.complete&&a.B.F&&a.B.va(),a.q))
return;a.Ja=n;if(a.qa)
a.ma>a.N&&a.Pa(a.i),a.ua(500);else{var c=a.nb();if(0<c)
a.ua(c);else if(c=a.Fa())
a.q=1,a.Eb(c),a.Ib(c);}};a.ua=function(c){a.Ja||(c||(c=0),a.Ja=setTimeout(a.ka,c));};a.nb=function(){var c;if(!a.trackOffline||0>=a.offlineThrottleDelay)
return 0;c=a.C()-a.Oa;return a.offlineThrottleDelay<c?0:a.offlineThrottleDelay-c;};a.Fa=function(){if(0<a.i.length)
return a.i.shift();};a.Eb=function(c){if(a.debugTracking){var b='AppMeasurement Debug: '+c;c=c.split('&');var d;for(d=0;d<c.length;d++)
b+='\n\t'+a.unescape(c[d]);a.P(b);}};a.fb=function(){return a.marketingCloudVisitorID||a.analyticsVisitorID;};a.Y=!1;var q;try{q=JSON.parse('{"x":"y"}');}catch(u){q=null;}
q&&'y'==q.x?(a.Y=!0,a.X=function(a){return JSON.parse(a);}):h.$&&h.$.parseJSON?(a.X=function(a){return h.$.parseJSON(a);},a.Y=!0):a.X=function(){return null;};a.Ib=function(c){var b,d,f;a.fb()&&2047<c.length&&('undefined'!=typeof XMLHttpRequest&&(b=new XMLHttpRequest(),'withCredentials'in b?d=1:b=0),b||'undefined'==typeof XDomainRequest||(b=new XDomainRequest(),d=2),b&&(a.AudienceManagement&&a.AudienceManagement.isReady()||0!=a.usePostbacks)&&(a.Y?b.Ba=!0:b=0));!b&&a.Sa&&(c=c.substring(0,2047));!b&&a.d.createElement&&(0!=a.usePostbacks||a.AudienceManagement&&a.AudienceManagement.isReady())&&(b=a.d.createElement('SCRIPT'))&&'async'in b&&((f=(f=a.d.getElementsByTagName('HEAD'))&&f[0]?f[0]:a.d.body)?(b.type='text/javascript',b.setAttribute('async','async'),d=3):b=0);b||(b=new Image(),b.alt='',b.abort||'undefined'===typeof h.InstallTrigger||(b.abort=function(){b.src=n;}));b.Da=function(){try{b.F&&(clearTimeout(b.F),b.F=0);}catch(a){}};b.onload=b.va=function(){a.ab(c);b.Da();a.rb();a.ga();a.q=0;a.ka();if(b.Ba){b.Ba=!1;try{a.doPostbacks(a.X(b.responseText));}catch(d){}}};b.onabort=b.onerror=b.Ga=function(){b.Da();(a.trackOffline||a.qa)&&a.q&&a.i.unshift(a.qb);a.q=0;a.ma>a.N&&a.Pa(a.i);a.ga();a.ua(500);};b.onreadystatechange=function(){4==b.readyState&&(200==b.status?b.va():b.Ga());};a.Oa=a.C();if(1==d||2==d){var e=c.indexOf('?');f=c.substring(0,e);e=c.substring(e+1);e=e.replace(/&callback=[a-zA-Z0-9_.\[\]]+/,'');1==d?(b.open('POST',f,!0),b.send(e)):2==d&&(b.open('POST',f),b.send(e));}else if(b.src=c,3==d){if(a.Ma)
try{f.removeChild(a.Ma);}catch(g){}
f.firstChild?f.insertBefore(b,f.firstChild):f.appendChild(b);a.Ma=a.B;}
b.F=setTimeout(function(){b.F&&(b.complete?b.va():(a.trackOffline&&b.abort&&b.abort(),b.Ga()));},5000);a.qb=c;a.B=h['s_i_'+a.replace(a.account,',','_')]=b;if(a.useForcedLinkTracking&&a.J||a.A)
a.forcedLinkTrackingTimeout||(a.forcedLinkTrackingTimeout=250),a.ha=setTimeout(a.ga,a.forcedLinkTrackingTimeout);};a.rb=function(){if(a.ra()&&!(a.Na>a.N))
try{h.DISABLEDlocalStorage.removeItem(a.pa()),a.Na=a.C();}catch(c){}};a.Pa=function(c){if(a.ra()){a.Ra();try{h.DISABLEDlocalStorage.setItem(a.pa(),h.JSON.stringify(c)),a.N=a.C();}catch(b){}}};a.Ra=function(){if(a.trackOffline){if(!a.offlineLimit||0>=a.offlineLimit)
a.offlineLimit=10;for(;a.i.length>a.offlineLimit;)
a.Fa();}};a.forceOffline=function(){a.qa=!0;};a.forceOnline=function(){a.qa=!1;};a.pa=function(){return a.offlineFilename+'-'+a.visitorNamespace+a.account;};a.C=function(){return new Date().getTime();};a.Ka=function(a){a=a.toLowerCase();return 0!=a.indexOf('#')&&0!=a.indexOf('about:')&&0!=a.indexOf('opera:')&&0!=a.indexOf('javascript:')?!0:!1;};a.setTagContainer=function(c){var b,d,f;a.Jb=c;for(b=0;b<a._il.length;b++)
if((d=a._il[b])&&'s_l'==d._c&&d.tagContainerName==c){a.R(d);if(d.lmq)
for(b=0;b<d.lmq.length;b++)
f=d.lmq[b],a.loadModule(f.n);if(d.ml)
for(f in d.ml)
if(a[f])
for(b in c=a[f],f=d.ml[f],f)
!Object.prototype[b]&&('function'!=typeof f[b]||0>(''+f[b]).indexOf('s_c_il'))&&(c[b]=f[b]);if(d.mmq)
for(b=0;b<d.mmq.length;b++)
f=d.mmq[b],a[f.m]&&(c=a[f.m],c[f.f]&&'function'==typeof c[f.f]&&(f.a?c[f.f].apply(c,f.a):c[f.f].apply(c)));if(d.tq)
for(b=0;b<d.tq.length;b++)
a.track(d.tq[b]);d.s=a;break;}};a.Util={urlEncode:a.escape,urlDecode:a.unescape,cookieRead:a.cookieRead,cookieWrite:a.cookieWrite,getQueryParam:function(c,b,d,f){var e,g='';b||(b=a.pageURL?a.pageURL:h.location);d=d?d:'&';if(!c||!b)
return g;b=''+b;e=b.indexOf('?');if(0>e)
return g;b=d+b.substring(e+1)+d;if(!f||!(0<=b.indexOf(d+c+d)||0<=b.indexOf(d+c+'='+d))){e=b.indexOf(d+c+'=');if(0>e)
return g;b=b.substring(e+d.length+c.length+1);e=b.indexOf(d);0<=e&&(b=b.substring(0,e));0<b.length&&(g=a.unescape(b));return g;}}};a.G='supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL customerPerspective referrer contextData currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData'.split(' ');a.g=a.G.concat('purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt'.split(' '));a.na='timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy'.split(' ');a.O=a.na.slice(0);a.Aa='account allAccounts debugTracking visitor visitorOptedOut trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData usePostbacks registerPreTrackCallback registerPostTrackCallback AudienceManagement'.split(' ');for(l=0;250>=l;l++)
76>l&&(a.g.push('prop'+l),a.O.push('prop'+l)),a.g.push('eVar'+l),a.O.push('eVar'+l),6>l&&a.g.push('hier'+l),4>l&&a.g.push('list'+l);l='pe pev1 pev2 pev3 latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage pageURLRest marketingCloudOrgID'.split(' ');a.g=a.g.concat(l);a.G=a.G.concat(l);a.ssl=0<=h.location.protocol.toLowerCase().indexOf('https');a.charSet='UTF-8';a.contextData={};a.offlineThrottleDelay=0;a.offlineFilename='AppMeasurement.offline';a.Oa=0;a.ma=0;a.N=0;a.Na=0;a.linkDownloadFileTypes='exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx';a.w=h;a.d=h.document;try{if(a.Sa=!1,navigator){var v=navigator.userAgent;if('Microsoft Internet Explorer'==navigator.appName||0<=v.indexOf('MSIE ')||0<=v.indexOf('Trident/')&&0<=v.indexOf('Windows NT 6'))
a.Sa=!0;}}catch(w){}
a.ga=function(){a.ha&&(h.clearTimeout(a.ha),a.ha=n);a.l&&a.J&&a.l.dispatchEvent(a.J);a.A&&('function'==typeof a.A?a.A():a.l&&a.l.href&&(a.d.location=a.l.href));a.l=a.J=a.A=0;};a.Qa=function(){a.b=a.d.body;a.b?(a.v=function(c){var b,d,f,e,g;if(!(a.d&&a.d.getElementById('cppXYctnr')||c&&c['s_fe_'+a._in])){if(a.Ca)
if(a.useForcedLinkTracking)
a.b.removeEventListener('click',a.v,!1);else{a.b.removeEventListener('click',a.v,!0);a.Ca=a.useForcedLinkTracking=0;return;}
else
a.useForcedLinkTracking=0;a.clickObject=c.srcElement?c.srcElement:c.target;try{if(!a.clickObject||a.M&&a.M==a.clickObject||!(a.clickObject.tagName||a.clickObject.parentElement||a.clickObject.parentNode))
a.clickObject=0;else{var k=a.M=a.clickObject;a.la&&(clearTimeout(a.la),a.la=0);a.la=setTimeout(function(){a.M==k&&(a.M=0);},10000);f=a.Ia();a.track();if(f<a.Ia()&&a.useForcedLinkTracking&&c.target){for(e=c.target;e&&e!=a.b&&'A'!=e.tagName.toUpperCase()&&'AREA'!=e.tagName.toUpperCase();)
e=e.parentNode;if(e&&(g=e.href,a.Ka(g)||(g=0),d=e.target,c.target.dispatchEvent&&g&&(!d||'_self'==d||'_top'==d||'_parent'==d||h.name&&d==h.name))){try{b=a.d.createEvent('MouseEvents');}catch(l){b=new h.MouseEvent();}
if(b){try{b.initMouseEvent('click',c.bubbles,c.cancelable,c.view,c.detail,c.screenX,c.screenY,c.clientX,c.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget);}catch(n){b=0;}
b&&(b['s_fe_'+a._in]=b.s_fe=1,c.stopPropagation(),c.stopImmediatePropagation&&c.stopImmediatePropagation(),c.preventDefault(),a.l=c.target,a.J=b);}}}}}catch(p){a.clickObject=0;}}},a.b&&a.b.attachEvent?a.b.attachEvent('onclick',a.v):a.b&&a.b.addEventListener&&(navigator&&(0<=navigator.userAgent.indexOf('WebKit')&&a.d.createEvent||0<=navigator.userAgent.indexOf('Firefox/2')&&h.MouseEvent)&&(a.Ca=1,a.useForcedLinkTracking=1,a.b.addEventListener('click',a.v,!0)),a.b.addEventListener('click',a.v,!1))):setTimeout(a.Qa,30);};a.Qa();a.loadModule('ActivityMap');}
function s_gi(a){var h,n=window.s_c_il,p,l,r=a.split(','),s,q,u=0;if(n)
for(p=0;!u&&p<n.length;){h=n[p];if('s_c'==h._c&&(h.account||h.oun))
if(h.account&&h.account==a)
u=1;else
for(l=h.account?h.account:h.oun,l=h.allAccounts?h.allAccounts:l.split(','),s=0;s<r.length;s++)
for(q=0;q<l.length;q++)
r[s]==l[q]&&(u=1);p++;}
u||(h=new AppMeasurement());h.setAccount?h.setAccount(a):h.sa&&h.sa(a);return h;}
AppMeasurement.getInstance=s_gi;window.s_objectID||(window.s_objectID=0);function s_pgicq(){var a=window,h=a.s_giq,n,p,l;if(h)
for(n=0;n<h.length;n++)
p=h[n],l=s_gi(p.oun),l.setAccount(p.un),l.setTagContainer(p.tagContainerName);a.s_giq=0;}
s_pgicq();module.exports={'s_gi':s_gi};},{}],26:[function(require,module,exports){var scode=require('./SCode.js');'use strict';var setCampaigns,api;var s=scode;function determineCookiePostfix(){var postFix='';var reportSuiteString=s.account;if(!reportSuiteString.match(/^legoglobal(?:,.*)*$/)){postFix='_'+reportSuiteString.split(',',1)[0];}
return postFix;}
setCampaigns=function SetCampaigns(){var postfix=determineCookiePostfix();s.eVar28=s.getQueryStringValue('RRID');s.eVar30=s.getQueryStringValue('RMID');var eVar2=s.getQueryStringValue('ICMP');var campaign=s.getQueryParamLegacy('CMP,KAC,HQS',':');s.eVar2=s.getValOnce(eVar2,'s_eVar2'+postfix,0);s.campaign=s.getValOnce(campaign,'s_campaign'+postfix,0);s.eVar17=s.crossVisitParticipation(s.campaign,'s_ev17'+postfix,'30','5','>','purchase',1);s.prop19=s.getAndPersistValue(s.campaign,'s_cp_persist'+postfix,0);if(s.prop19){s.prop20=s.prop19+' : '+s.pageName;}};api={'setCampaigns':setCampaigns};module.exports=api;},{"./SCode.js":36}],27:[function(require,module,exports){'use strict';var exports={};exports.ConfigureMediaTracking=function(s){s.Media.autoTrack=false;s.Media.trackWhilePlaying=true;s.Media.trackVars='events,eVar3,eVar4,eVar5,eVar6,eVar7,eVar8,eVar9,eVar10,eVar11,eVar12,eVar26,eVar27,eVar31,prop31,eVar32,eVar33,eVar38,eVar47,eVar50,eVar52,eVar53,eVar59';s.Media.trackEvents='event41,event42,event43,event44,event45,event46,event47,event61';s.Media.trackMilestones='25,50,75';s.Media.playerName='Unknown mediaplayer';s.Media.segmentByMilestones=true;s.Media.trackUsingContextData=true;s.Media.contextDataMapping={'a.media.segment':'eVar32','a.contentType':'eVar33','a.media.timePlayed':'event43','a.media.view':'event41','a.media.segmentView':'event42','a.media.complete':'event47','a.media.milestones':{25:'event44',50:'event45',75:'event46'}};};module.exports=exports.ConfigureMediaTracking;},{}],28:[function(require,module,exports){'use strict';var api;function plugin(s){s.channelManager('CMP,HQS,KAC','','','','c_dl');s._channelPattern='Paid Search|KAC>Email|EMC>Affiliate|AFC';s._channelDomain='Social Media|facebook.com,twitter.com,linkedin.com,myspace.com';if(s._channel==='Direct Load'){s._channel='Typed/Bookmarked';}else if(s._channel==='Natural Search'){s._channel='Search Engines - Natural';}else if(s._channel==='Paid Search'){s._channel='Search Engines - Paid';}else if(s._channel==='Other Natural Referrers'){s._channel='Other Websites';}else if(s._channel==='Unknown Paid Channel'){s._channel='Paid - Typed/Bookmarked';}
if(s._referringDomain==='Direct Load'){s._referringDomain='Typed/Bookmarked';}
s.eVar22=s._channel;s.prop22=s.getAndPersistValue(s.eVar22,'s_v22_persist',0);s.eVar23=s._partner;s.prop23=s.getAndPersistValue(s.eVar23,'s_v23_persist',0);s.eVar24=s._keywords;s.prop24=s.getAndPersistValue(s.eVar24,'s_v24_persist',0);if(s.prop24){s.prop24=s.prop24.toLowerCase();}
if(s.eVar24){s.eVar24=s.eVar24.toLowerCase();}
s.eVar25=s._referringDomain;s.prop25=s.getAndPersistValue(s.eVar25,'s_v25_persist',0);}
api={doPlugin:plugin};module.exports=api;},{}],29:[function(require,module,exports){var TrackingBase=require('./../AMD/TrackingBase/TrackingBase.js');'use strict';var plugin,initialize,api,clientPerformance,toRange,perf;var PERFORMANCE_COOKIE_NAME='s_clientPerformance_persist';var EXPIRATION_SESSION=0;perf=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{};clientPerformance=function(){if(perf.timing===undefined||perf.timing.loadEventEnd===undefined){return;}
var pageName=TrackingBase.SCode.eVar26;var regx=/(m?search:results)/i;if(regx.test(pageName)){pageName=regx.exec(pageName)[0];}
var loadEventEndTime=toRange(perf.timing.loadEventEnd-perf.timing.navigationStart);var result=pageName+'|'+loadEventEndTime;window.TrackMan.Data.clientPerformance=result;TrackingBase.SCode.getAndPersistValue(result,PERFORMANCE_COOKIE_NAME,EXPIRATION_SESSION);};toRange=function(number){var range='';number=number/1000;if(number<=1){range='0-1';}else if(number<=3){range='1-3';}else if(number<=7){range='3-7';}else if(number<=13){range='7-13';}else if(number<=21){range='13-21';}else if(number<=35){range='21-35';}else if(number<=60){range='35-60';}else{range='60+';}
return range;};plugin=function DoClientPerformance(sObj){if(perf.timing===undefined){return;}
if(TrackingBase.trackCallType!=='PageHit'){return;}
window.TrackMan.Data.clientPerformance=undefined;var finalValue=sObj.getAndPersistValue(undefined,PERFORMANCE_COOKIE_NAME,EXPIRATION_SESSION);if(finalValue!==undefined&&finalValue!==''){sObj.prop50=finalValue;sObj.getAndPersistValue('',PERFORMANCE_COOKIE_NAME,EXPIRATION_SESSION);}};initialize=function(){if(perf.timing===undefined){return;}
if(window.addEventListener){window.addEventListener('load',function(){setTimeout(clientPerformance,0);},false);}else if(window.attachEvent){window.attachEvent('onload',function(){setTimeout(clientPerformance,0);});}};api={init:initialize,doPlugin:plugin};module.exports=api;},{"./../AMD/TrackingBase/TrackingBase.js":21}],30:[function(require,module,exports){var trackingBase=require('./../AMD/TrackingBase/TrackingBase.js'),sCode=require('./SCode.js'),urlHelper=require('./../Utilities/UrlHelper.js');'use strict';var api;function plugin(s){if(s.linkType==='d'){s.linkTrackVars=trackingBase.GetDefaultLinkTrackingVars();s.linkTrackEvents=undefined;trackingBase.trackCallType='DownloadLink';}
if(window.LEGO&&window.LEGO.GlobalHeader&&window.LEGO.GlobalHeader.PopupVersion){trackingBase.Settings.SetExitXLinkTrackingEnabled(s,false);}
if(s.linkType==='e'){if(s.linkObject&&s.linkObject.hash&&s.linkObject.hash.indexOf('xlink')>-1){s.abort=true;}else{s.linkTrackVars=trackingBase.GetDefaultLinkTrackingVars();var key=urlHelper.getUrlWithoutHash(s.linkObject);if(key){trackingBase.addAdditionalTrackVarsToS(key);trackingBase.trackCallType='ExitLink';if(s.linkObject&&s.linkObject.href){var appName=urlHelper.getAppNameExitString(s.linkObject.href);if(appName!==''){s.eVar39=appName;trackingBase.addTrackVar('eVar39');trackingBase.addEvent('event39');}
s.linkURL=s.linkObject.href;}}}}}
api={doPlugin:plugin};module.exports=api;},{"./../AMD/TrackingBase/TrackingBase.js":21,"./../Utilities/UrlHelper.js":44,"./SCode.js":36}],31:[function(require,module,exports){'use strict';var plugin,api;plugin=function DoPluginPostProcessing(s){s.plugins='';};api={doPlugin:plugin};module.exports=api;},{}],32:[function(require,module,exports){var trackingBase=require('./../AMD/TrackingBase/TrackingBase.js'),pageNameHelper=require('./../Utilities/PageNameHelper.js');'use strict';var plugin,api,getReferrer;var s=trackingBase.SCode;var QUERY_APP_CONTEXT='appcontext';var QUERY_EXPERIENCE='experience';var QUERY_RETURN_URL='returnUrl';var APP_TYPE_APP='app';var APP_TYPE_WEB='web';var APP_TYPE_DEFAULT=APP_TYPE_WEB;plugin=function PluginReferrer(){var appContext,experience,appType=APP_TYPE_DEFAULT,value,referrer;if((s.prop35===undefined||s.prop35==='')&&(s.eVar47===undefined||s.eVar47==='')){if(window.location&&window.location.href){appContext=s.getQueryParam(QUERY_APP_CONTEXT);experience=s.getQueryParam(QUERY_EXPERIENCE);}
if(experience===undefined||experience===''){appContext=s.getQueryParam(QUERY_APP_CONTEXT,undefined,document.URL);experience=s.getQueryParam(QUERY_EXPERIENCE,undefined,document.URL);}
if((appContext+'').toLowerCase()==='true'){appType=APP_TYPE_APP;}
if(experience){value=appType+':'+experience;}else{referrer=getReferrer();if(referrer!==undefined&&referrer!==''){var uriComponet=pageNameHelper.parseUrl(referrer);if(uriComponet.pageName!==undefined&&uriComponet.pageName!==''){value=appType+':'+uriComponet.pageName;}}}
if(value!==undefined){value=value.toLowerCase();trackingBase.setProp(35,value);trackingBase.setEVar(47,value);}}};getReferrer=function(){var queryParam,referrer;if(window.location&&window.location.href){queryParam=decodeURIComponent(s.getQueryParam(QUERY_RETURN_URL));}else{queryParam=decodeURIComponent(s.getQueryParam(QUERY_RETURN_URL,undefined,document.URL));}
if(queryParam&&queryParam!==''){referrer=queryParam.toLowerCase();}else if(document.referrer){referrer=decodeURIComponent(document.referrer).toLowerCase();}
return referrer;};api={doPlugin:plugin};module.exports=api;},{"./../AMD/TrackingBase/TrackingBase.js":21,"./../Utilities/PageNameHelper.js":42}],33:[function(require,module,exports){'use strict';var initialize,plugin,api;initialize=function InitializeShop(s){s.getCartOpen=function(c){var s=this,t=new Date(),e=s.events?s.events:'',i=0;t.setTime(t.getTime()+1800000);if(s.c_r(c)||e.indexOf('scOpen')>-1){if(!s.c_w(c,1,t)){s.c_w(c,1,0);}}else{if(e.indexOf('scAdd')>-1){if(s.c_w(c,1,t)){i=1;}else if(s.c_w(c,1,0)){i=1;}}}
if(i){e=e+',scOpen';}
return e;};};plugin=function DoPluginShop(s){var cartEvents;cartEvents=s.getCartOpen('s_scOpen');if(cartEvents!==''){s.events=cartEvents;}
s.eVar53='False';if(TrackMan!==undefined&&TrackMan.Data!==undefined&&TrackMan.Data.vipmember!==undefined&&(''+TrackMan.Data.vipmember).toLowerCase()==='true'){s.eVar53='True';}};api={doPlugin:plugin,init:initialize};module.exports=api;},{}],34:[function(require,module,exports){var trackingBase=require('./../AMD/TrackingBase/TrackingBase.js'),sCode=require('./SCode.js'),CookieReaderWriter=require('./../AMD/TrackingBase/CookieReaderWriter.js');'use strict';var api;function plugin(s){fix_cookie('s_fid');fix_cookie('s_vi');}
function fix_cookie(cookieName){var cookie=CookieReaderWriter.get(cookieName);if(cookie!==null&&cookie!==''){var ed,cv,c,v;c=cookieName;v=cookie;ed=new Date();ed.setTime(ed.getTime()+365*2*24*60*60*1000);cv=v+(ed===null?'':'; expires='+ed.toUTCString()+';domain=.lego.com; path=/');document.cookie=c+'='+cv;}}
api={doPlugin:plugin};module.exports=api;},{"./../AMD/TrackingBase/CookieReaderWriter.js":18,"./../AMD/TrackingBase/TrackingBase.js":21,"./SCode.js":36}],35:[function(require,module,exports){var LinkHandling=require('./Plugin.LinkHandling.js'),ChannelManager=require('./Plugin.ChannelManager.js'),Shop=require('./Plugin.Shop.js'),ClientPerformance=require('./Plugin.ClientPerformance.js'),PostProcessing=require('./Plugin.PostProcessing.js'),ReferringExperience=require('./Plugin.ReferringExperience.js'),S_fid_fix=require('./Plugin.s_fid_fix.js');'use strict';var api,plugins;plugins=[LinkHandling,ChannelManager,Shop,ClientPerformance,PostProcessing,ReferringExperience,S_fid_fix];api={loadedPlugins:plugins,registerPlugins:function registerPlugins(s){var runPlugins,plugin,oldT,oldTl;var name;for(name in plugins){if(plugins.hasOwnProperty(name)){plugin=plugins[name];if(plugin.init){plugin.init(s);}}}
runPlugins=function(sObj,pluginList){var pluginName,thePlugin;for(pluginName in pluginList){if(pluginList.hasOwnProperty(pluginName)){thePlugin=pluginList[pluginName];if(thePlugin.doPlugin){thePlugin.doPlugin(sObj);}}}};s.doPlugins=function(sObj){return runPlugins(sObj,plugins);};oldT=s.t;oldTl=s.tl;s.t=function(){s.pageURL=window.location.href;oldT.apply(this,arguments);};s.tl=function(){s.pageURL=window.location.href;oldTl.apply(this,arguments);};s.usePlugins=true;}};module.exports=api;},{"./Plugin.ChannelManager.js":28,"./Plugin.ClientPerformance.js":29,"./Plugin.LinkHandling.js":30,"./Plugin.PostProcessing.js":31,"./Plugin.ReferringExperience.js":32,"./Plugin.Shop.js":33,"./Plugin.s_fid_fix.js":34}],36:[function(require,module,exports){var Clean_SCode=require('./AppMeasurement_transformed.js'),MediaModule=require('./AppMeasurement_Module_Media_transformed.js'),VisitorAPI=require('./VisitorAPI_transformed.js'),ConfigureMediaTracking=require('./ConfigureMediaTracking.js');'use strict';var s=Clean_SCode.s_gi('');if(typeof Visitor!='undefined'){s.visitor=Visitor.getInstance('FCD5E69B53FDC29C0A4C98A7@AdobeOrg',{idSyncDisable3rdPartySyncing:true,cookieLifetime:63072000,trackingServer:'c.analytics.lego.com',trackingServerSecure:'cs.analytics.lego.com',useCorsOnly:true,marketingCloudServer:'c.analytics.lego.com',marketingCloudServerSecure:'cs.analytics.lego.com'});}
s.debugTracking=false;s.trackingServer='c.analytics.lego.com';s.trackingServerSecure='cs.analytics.lego.com';s.visitorNamespace='lego';s.trackDownloadLinks=true;s.trackExternalLinks=true;s.trackInlineStats=true;s.linkDownloadFileTypes='jpg,jpeg,png,rbt,mov,wmv,mpg,mpeg,avi,zip,sit,lxf,pdf,gif,mp3,wav,exe,air,rar,dmg,ev3,ev3b,ev3p,rgf,rsf,rbf,rdf';s.linkInternalFilters='javascript:,localhost,localhost.corp.lego.com,lego.com,bioniclestory.com,legospace.com,mindstormseducation.com,legofriends.kr,medlem.legoclub.dk,shop.lego.co.kr,city.lego.es,herofactory.lego.it,lego.be,lego.co.uk,lego.de,lego.hu,lego.it,lego.netsvar.se,lego.nettsvar.no,lego.pl,lego.ru,legoclub.com,legoclub.fr,legoeducation.co.kr,legoeducation.co.uk,legoeducation.jp,legoeducation.us,legoevent.co.kr,legofactory.com,legofamilytime.com,legofriends.dk,legofriends.kr,legoshop.com,legoshop.fr,legospace.com,legouniverse.com,legowish.com,legoworld.dk,legoworld.nl,ninjago.lego.com,ninjago.lego.es,somanywaystoplay.nl,somanywaystoplay.fi,eg4029del.egaincloud.net,eg4029stl.egaincloud.net,eg4029prl.egaincloud.net,legoimaginenationtour.com,legoeducation.com';s.linkLeaveQueryString=false;s.linkTrackVars='None';s.linkTrackEvents='None';s.charSet='UTF-8';s.loadModule('Media');ConfigureMediaTracking(s);s.repl=function(x,o,n){var i=x.indexOf(o),l=n.length;while(x&&i>=0){x=x.substring(0,i)+n+x.substring(i+o.length);i=x.indexOf(o,i+l);}
return x;};s.getAndPersistValue=function(v,c,e){var s=this,a=new Date();e=e?e:0;a.setTime(a.getTime()+e*86400000);if(v)
s.c_w(c,v,e?a:0);return s.c_r(c);};s.getValOnce=function(v,c,e){var s=this,k=s.c_r(c),a=new Date();e=e?e:0;if(v){a.setTime(a.getTime()+e*86400000);s.c_w(c,v,e?a:0);}
return v==k?'':v;};s.split=function(l,d){var i,x=0,a=new Array();while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x++]=l.substring(0,i);l=l.substring(i+d.length);}
return a;};s.getQueryParam=s.Util.getQueryParam;s.getQueryStringValue=function(key){return unescape(window.location.search.replace(new RegExp('^(?:.*[&\\?]'+escape(key).replace(/[\.\+\*]/g,'\\$&')+'(?:\\=([^&]*))?)?.*$','i'),'$1'));};s.getQueryParamLegacy=function(vars,sep){var keys=vars.split(',');var retvalue='';for(var i=0;i<keys.length;i++){var keyval=s.getQueryStringValue(keys[i]);if(keyval!==''){retvalue+=keyval+':';}}
if(retvalue.length>0){retvalue=retvalue.substr(0,retvalue.length-1);}
return retvalue;};s.crossVisitParticipation=function(v,cn,ex,ct,dl,ev,dv){var s=this,ce;if(typeof dv==='undefined')
dv=0;if(s.events&&ev){var ay=s.split(ev,',');var ea=s.split(s.events,',');for(var u=0;u<ay.length;u++){for(var x=0;x<ea.length;x++){if(ay[u]==ea[x]){ce=1;}}}}
if(!v||v=='')
return'';v=escape(v);var arry=new Array(),a=new Array(),c=s.c_r(cn),g=0,h=new Array();if(c&&c!='')
arry=eval(c);var e=new Date();e.setFullYear(e.getFullYear()+2);if(dv==0&&arry.length>0&&arry[arry.length-1][0]==v)
arry[arry.length-1]=[v,new Date().getTime()];else
arry[arry.length]=[v,new Date().getTime()];var start=arry.length-ct<0?0:arry.length-ct;var td=new Date();for(var x=start;x<arry.length;x++){var diff=Math.round((td.getTime()-arry[x][1])/86400000);if(diff<ex){h[g]=unescape(arry[x][0]);a[g]=[arry[x][0],arry[x][1]];g++;}}
var data=s.join(a,{delim:',',front:'[',back:']',wrap:'\''});s.c_w(cn,data,e);var r=s.join(h,{delim:dl});if(ce)
s.c_w(cn,'');return r;};s.join=function(v,p){var s=this;var f,b,d,w;if(p){f=p.front?p.front:'';b=p.back?p.back:'';d=p.delim?p.delim:'';w=p.wrap?p.wrap:'';}
var str='';for(var x=0;x<v.length;x++){if(typeof v[x]=='object')
str+=s.join(v[x],p);else
str+=w+v[x]+w;if(x<v.length-1)
str+=d;}
return f+str+b;};s.channelManager=function(a,b,c,d,e,f,g){var s=this,h=new Date(),i=0,j,k,l,m,n,o,p,q,r,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V;U=s.getQueryParam?1:0;V=s.repl?1:0;if(e){i=1;if(s.c_r(e))
i=0;h.setTime(h.getTime()+1800000);s.c_w(e,1,h);if(f&&s.c_r('s_tbm'+e+f.toString()))
i=0;}
j=s.referrer?s.referrer:document.referrer;if(j=='Typed/Bookmarked')
j='';j=decodeURIComponent(j.toLowerCase());if(!j)
k=1;else{l=j.indexOf('?')>-1?j.indexOf('?'):j.length;m=j.substring(0,l);n=j.split('/');n=n[2].split('?');o=n[0].toLowerCase();p=s.linkInternalFilters.toLowerCase();p=p.split(',');for(q=0;q<p.length;q++){r=o.indexOf(p[q])==-1?'':j;if(r)
break;}}
if(!r&&!k){t=j;u=o;w='Other Natural Referrers';v=w+': '+o;x=s.seList+'>'+s._extraSearchEngines;if(d==1){m=V?s.repl(m,'oogle','%'):s.replace(m,'oogle','%');m=V?s.repl(m,'ahoo','^'):s.replace(m,'ahoo','^');j=V?s.repl(j,'as_q','*'):s.replace(j,'as_q','*');}
y=x.split('>');for(z=0;z<y.length;z++){A=y[z];A=A.split('|');B=A[0].split(',');for(C=0;C<B.length;C++){D=m.indexOf(B[C]);if(D>-1){if(A[2])
E=v=A[2];else
E=o;if(d==1){E=V?s.repl(E,'#',' - '):s.replace(E,'#',' - ');j=V?s.repl(j,'*','as_q'):s.replace(j,'*','as_q');E=V?s.repl(E,'^','ahoo'):s.replace(E,'^','ahoo');E=V?s.repl(E,'%','oogle'):s.replace(E,'%','oogle');}
F=A[1].split(',');for(G=0;G<F.length;G++){if(j.indexOf(F[G]+'=')>-1||j.indexOf('duckduckgo')>-1||j.indexOf('googlequicksearchbox')>-1||j.indexOf('http://www.google.')==0||j.indexOf('https://www.google.')==0||j.indexOf('https://search.yahoo.com/')==0||j.indexOf('http://r.search.yahoo.com')==0||j.indexOf('https://www.bing.com')==0)
H=1;I=U?s.getQueryParam(F[G],'',j).toLowerCase():s.Util.getQueryParam(F[G],j).toLowerCase();if(H||I)
break;}}
if(H||I)
break;}
if(H||I)
break;}}
if(!r||g!='1'){J=a.split(',');for(var q in J)
if(J.hasOwnProperty(q))
if(U?s.getQueryParam(J[q]):s.Util.getQueryParam(J[q]))
if(b)
T=T?T+b+(U?s.getQueryParam(J[q]):s.Util.getQueryParam(J[q])):U?s.getQueryParam(J[q]):s.Util.getQueryParam(J[q]);else{T=U?s.getQueryParam(J[q]):s.Util.getQueryParam(J[q]);if(T)
break;}
if(T){v=T;if(E)
w='Paid Search';else
w='Unknown Paid Channel';}
if(!T&&E&&H){w='Natural Search';v=w+': '+E;}}
if(i&&k&&!T)
t=u=v=w='Typed/Bookmarked';J=s._channelDomain;if(J&&o&&!r){K=J.split('>');for(L=0;L<K.length;L++){M=K[L]?K[L].split('|'):'';N=M[1]?M[1].split(','):'';O=N.length;for(P=0;P<O;P++){Q=N[P].toLowerCase();R=('/'+o).indexOf(Q);if(R>-1){w=M[0];v=T?v:w+': '+o;break;}}
if(R>-1)
break;}}
J=s._channelParameter;if(J&&g!='1'){K=J.split('>');for(L=0;L<K.length;L++){M=K[L]?K[L].split('|'):'';N=M[1]?M[1].split(','):'';O=N.length;for(P=0;P<O;P++){R=U?s.getQueryParam(N[P]):s.Util.getQueryParam(N[P]);if(R){w=M[0];v=T?v:w+': '+o;break;}}
if(R)
break;}}
J=s._channelPattern;if(J&&g!='1'&&T){K=J.split('>');for(L=0;L<K.length;L++){M=K[L]?K[L].split('|'):'';N=M[1]?M[1].split(','):'';O=N.length;for(P=0;P<O;P++){Q=N[P].toLowerCase();R=T?T.toLowerCase():'';S=R.indexOf(Q);if(S==0){w=M[0];break;}}
if(S==0)
break;}}
S=w?T+u+w+I:'';c=c?c:'c_m';if(c!='0')
S=s.getValOnce(S,c,0);if(S){s._campaignID=T?T:'n/a';s._referrer=t?t:'n/a';s._referringDomain=u?u:'n/a';s._campaign=v?v:'n/a';s._channel=w?w:'n/a';s._partner=E?E:'n/a';s._keywords=H?I?I:'Keyword Unavailable':'n/a';if(f&&w!='Typed/Bookmarked'){h.setTime(h.getTime()+f*86400000);s.c_w('s_tbm'+e+f.toString(),1,h);}}else
s._campaignID=s._referrer=s._referringDomain=s._campaign=s._channel=s._partner=s._keywords='';};s.seList='google.,googlesyndication.com,.googleadservices.com|q,as_q|Google>bing.com|q|Bing>yahoo.com,yahoo.co.jp|p,va|Yahoo!>ask.jp,ask.co|q,ask|Ask>search.aol.,suche.aolsvc.de|q,query|AOL>altavista.co,altavista.de|q,r|AltaVista>.mywebsearch.com|searchfor|MyWebSearch>webcrawler.com|q|WebCrawler>wow.com|q|Wow>infospace.com|q|InfoSpace>blekko.com|q|Blekko>dogpile.com|q|DogPile>alhea.com|q|Alhea>duckduckgo.com|q|DuckDuckGo>info.com|qkw|Info.com>contenko.com|q|Contenko>baidu.com|word,wd|Baidu>daum.net,search.daum.net|q|Daum>icqit.com|q|icq>myway.com|searchfor|MyWay.com>naver.com,search.naver.com|query|Naver>netscape.com|query,search|Netscape Search>reference.com|q|Reference.com>seznam|w|Seznam.cz>abcsok.no|q|Startsiden>tiscali.it,www.tiscali.co.uk|key,query|Tiscali>virgilio.it|qs|Virgilio>yandex|text|Yandex.ru>optimum.net|q|Optimum Search>search.earthlink.net|q|Earthlink>search.comcast.net|q|Comcast>libero.it|query|libero.it>excite.co|search|Excite>mail.ru|q|Mail.ru>isearch.avg.com|q|AVG>msn.com|q|MSN>seznam.cz|q|seznam.cz>so.com|q|so.com>ixquick.com|query|ixquick.com>sogou.com|query|sogou.com>360.cn|q|360.cn';s.downloadLinkHandler=function(p,e){var s=this,o=s.p_gh(),h=o.href,n='linkDownloadFileTypes',i,t;if(!h||s.linkType&&(h||s.linkName))
return'';i=h.indexOf('?');t=s[n];s[n]=p?p:t;if(s.lt(h)=='d')
s.linkType='d';else
h='';s[n]=t;return e?o:h;};s.exitLinkHandler=function(p,e){var s=this,o=s.p_gh(),h=o.href,n='linkInternalFilters',i,t;if(!h||s.linkType&&(h||s.linkName))
return'';i=h.indexOf('?');t=s[n];s[n]=p?p:t;h=s.linkLeaveQueryString||i<0?h:h.substring(0,i);if(s.lt(h)=='e')
s.linkType='e';else
h='';s[n]=t;return e?o:h;};s.linkHandler=function(p,t,e){var s=this,o=s.p_gh(),h=o.href,i,l;t=t?t:'o';if(!h||s.linkType&&(h||s.linkName))
return'';i=h.indexOf('?');h=s.linkLeaveQueryString||i<0?h:h.substring(0,i);l=s.pt(p,'|','p_gn',h.toLowerCase());if(l){s.linkName=l=='[['?'':l;s.linkType=t;return e?o:h;}
return'';};s.p_gh=function(){var s=this;if(!s.eo&&!s.lnk)
return'';var o=s.eo?s.eo:s.lnk,y=s.ot(o),n=s.oid(o),x=o.s_oidt;if(s.eo&&o==s.eo){while(o&&!n&&y!='BODY'){o=o.parentElement?o.parentElement:o.parentNode;if(!o)
return'';y=s.ot(o);n=s.oid(o);x=o.s_oidt;}}
return o?o:'';};s.p_gn=function(t,h){var i=t?t.indexOf('~'):-1,n,x;if(t&&h){n=i<0?'':t.substring(0,i);x=t.substring(i+1);if(h.indexOf(x.toLowerCase())>-1)
return n?n:'[[';}
return 0;};function getSCodeVersion(){var gaDetect,sVersion;gaDetect='';try{if(Object.prototype.hasOwnProperty.call(window,'_gaq')||Object.prototype.hasOwnProperty.call(window,'_gat')||Object.prototype.hasOwnProperty.call(window,'urchinTracker')){gaDetect='|ga';}}catch(ignore){}
sVersion=s.version||'Unknown';return'TrackMan|fpc|'+sVersion+gaDetect;}
s.eVar50=getSCodeVersion();module.exports=s;},{"./AppMeasurement_Module_Media_transformed.js":24,"./AppMeasurement_transformed.js":25,"./ConfigureMediaTracking.js":27,"./VisitorAPI_transformed.js":37}],37:[function(require,module,exports){window.Visitor=function(q,w){function x(d){return function(b){b=b||s.location.href;try{var c=a.Xa(b,d);if(c)
return m.Hb(c);}catch(e){}};}
function B(a){function b(a,d,b){b=b?b+='|':b;return b+(a+'='+encodeURIComponent(d));}
for(var c='',e=0,f=a.length;e<f;e++){var g=a[e],h=g[0],g=g[1];g!=j&&g!==u&&(c=b(h,g,c));}
return function(a){var d=m.Da(),a=a?a+='|':a;return a+('TS='+d);}(c);}
if(!q)
throw'Visitor requires Adobe Marketing Cloud Org ID';var a=this;a.version='2.1.0';var s=window,l=s.Visitor;l.version=a.version;s.s_c_in||(s.s_c_il=[],s.s_c_in=0);a._c='Visitor';a._il=s.s_c_il;a._in=s.s_c_in;a._il[a._in]=a;s.s_c_in++;a.na={La:[]};var v=s.document,j=l.Pb;j||(j=null);var F=l.Qb;F||(F=void 0);var i=l.Va;i||(i=!0);var k=l.Sa;k||(k=!1);var n={r:!!s.postMessage,Ra:1,ea:86400000,ba:'adobe_mc',ca:'adobe_mc_sdid',w:/^[0-9a-fA-F\-]+$/,Qa:5,Ta:/^\d+$/,fa:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/};a.Rb=n;a.ka=function(a){var b=0,c,e;if(a)
for(c=0;c<a.length;c++)
e=a.charCodeAt(c),b=(b<<5)-b+e,b&=b;return b;};a.u=function(a,b){var c='0123456789',e='',f='',g,h,j=8,k=10,l=10;b===o&&(y.isClientSideMarketingCloudVisitorID=i);if(1==a){c+='ABCDEF';for(g=0;16>g;g++)
h=Math.floor(Math.random()*j),e+=c.substring(h,h+1),h=Math.floor(Math.random()*j),f+=c.substring(h,h+1),j=16;return e+'-'+f;}
for(g=0;19>g;g++)
h=Math.floor(Math.random()*k),e+=c.substring(h,h+1),0==g&&9==h?k=3:(1==g||2==g)&&10!=k&&2>h?k=10:2<g&&(k=10),h=Math.floor(Math.random()*l),f+=c.substring(h,h+1),0==g&&9==h?l=3:(1==g||2==g)&&10!=l&&2>h?l=10:2<g&&(l=10);return e+f;};a.Ya=function(){var a;!a&&s.location&&(a=s.location.hostname);if(a)
if(/^[0-9.]+$/.test(a))
a='';else{var b=a.split('.'),c=b.length-1,e=c-1;1<c&&2>=b[c].length&&(2==b[c-1].length||0>',ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,et,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,'.indexOf(','+b[c]+','))&&e--;if(0<e)
for(a='';c>=e;)
a=b[c]+(a?'.':'')+a,c--;}
return a;};a.cookieRead=function(a){var a=encodeURIComponent(a),b=(';'+v.cookie).split(' ').join(';'),c=b.indexOf(';'+a+'='),e=0>c?c:b.indexOf(';',c+1);return 0>c?'':decodeURIComponent(b.substring(c+2+a.length,0>e?b.length:e));};a.cookieWrite=function(d,b,c){var e=a.cookieLifetime,f,b=''+b,e=e?(''+e).toUpperCase():'';c&&'SESSION'!=e&&'NONE'!=e?(f=''!=b?parseInt(e?e:0,10):-60)?(c=new Date(),c.setTime(c.getTime()+1000*f)):1==c&&(c=new Date(),f=c.getYear(),c.setYear(f+2+(1900>f?1900:0))):c=0;return d&&'NONE'!=e?(v.cookie=encodeURIComponent(d)+'='+encodeURIComponent(b)+'; path=/;'+(c?' expires='+c.toGMTString()+';':'')+(a.cookieDomain?' domain='+a.cookieDomain+';':''),a.cookieRead(d)==b):0;};a.h=j;a.z=function(a,b){try{'function'==typeof a?a.apply(s,b):a[1].apply(a[0],b);}catch(c){}};a.M=function(d,b){b&&(a.h==j&&(a.h={}),a.h[d]==F&&(a.h[d]=[]),a.h[d].push(b));};a.t=function(d,b){if(a.h!=j){var c=a.h[d];if(c)
for(;0<c.length;)
a.z(c.shift(),b);}};a.s=function(a,b,c,e){c=encodeURIComponent(b)+'='+encodeURIComponent(c);b=m.Fb(a);a=m.wb(a);if(-1===a.indexOf('?'))
return a+'?'+c+b;var f=a.split('?'),a=f[0]+'?',e=m.ib(f[1],c,e);return a+e+b;};a.Xa=function(a,b){var c=RegExp('[\\?&#]'+b+'=([^&#]*)').exec(a);if(c&&c.length)
return decodeURIComponent(c[1]);};a.eb=x(n.ba);a.fb=x(n.ca);a.ha=function(){var d=a.fb(void 0);d&&d.SDID&&d[G]===q&&(a._supplementalDataIDCurrent=d.SDID,a._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=i);};a.ga=function(){var d=a.eb();if(d&&d.TS&&!(Math.floor((m.Da()-d.TS)/60)>n.Qa||d[G]!==q)){var b=d[o],c=a.setMarketingCloudVisitorID;b&&b.match(n.w)&&c(b);a.j(t,-1);d=d[r];b=a.setAnalyticsVisitorID;d&&d.match(n.w)&&b(d);}};a.cb=function(d){function b(d){m.Ga(d)&&a.setCustomerIDs(d);}
function c(d){d=d||{};a._supplementalDataIDCurrent=d.supplementalDataIDCurrent||'';a._supplementalDataIDCurrentConsumed=d.supplementalDataIDCurrentConsumed||{};a._supplementalDataIDLast=d.supplementalDataIDLast||'';a._supplementalDataIDLastConsumed=d.supplementalDataIDLastConsumed||{};}
if(d)
try{if(d=m.Ga(d)?d:m.Gb(d),d[a.marketingCloudOrgID]){var e=d[a.marketingCloudOrgID];b(e.customerIDs);c(e.sdid);}}catch(f){throw Error('`serverState` has an invalid format.');}};a.l=j;a.$a=function(d,b,c,e){b=a.s(b,'d_fieldgroup',d,1);e.url=a.s(e.url,'d_fieldgroup',d,1);e.m=a.s(e.m,'d_fieldgroup',d,1);y.d[d]=i;e===Object(e)&&e.m&&'XMLHttpRequest'===a.pa.F.G?a.pa.rb(e,c,d):a.useCORSOnly||a.ab(d,b,c);};a.ab=function(d,b,c){var e=0,f=0,g;if(b&&v){for(g=0;!e&&2>g;){try{e=(e=v.getElementsByTagName(0<g?'HEAD':'head'))&&0<e.length?e[0]:0;}catch(h){e=0;}
g++;}
if(!e)
try{v.body&&(e=v.body);}catch(k){e=0;}
if(e)
for(g=0;!f&&2>g;){try{f=v.createElement(0<g?'SCRIPT':'script');}catch(l){f=0;}
g++;}}
!b||!e||!f?c&&c():(f.type='text/javascript',f.src=b,e.firstChild?e.insertBefore(f,e.firstChild):e.appendChild(f),e=a.loadTimeout,p.d[d]={requestStart:p.p(),url:b,xa:e,va:p.Ca(),wa:0},c&&(a.l==j&&(a.l={}),a.l[d]=setTimeout(function(){c(i);},e)),a.na.La.push(b));};a.Wa=function(d){a.l!=j&&a.l[d]&&(clearTimeout(a.l[d]),a.l[d]=0);};a.la=k;a.ma=k;a.isAllowed=function(){if(!a.la&&(a.la=i,a.cookieRead(a.cookieName)||a.cookieWrite(a.cookieName,'T',1)))
a.ma=i;return a.ma;};a.b=j;a.c=j;var H=l.gc;H||(H='MC');var o=l.nc;o||(o='MCMID');var G=l.kc;G||(G='MCORGID');var I=l.hc;I||(I='MCCIDH');var M=l.lc;M||(M='MCSYNCS');var K=l.mc;K||(K='MCSYNCSOP');var L=l.ic;L||(L='MCIDTS');var C=l.jc;C||(C='MCOPTOUT');var E=l.ec;E||(E='A');var r=l.bc;r||(r='MCAID');var D=l.fc;D||(D='AAM');var A=l.dc;A||(A='MCAAMLH');var t=l.cc;t||(t='MCAAMB');var u=l.oc;u||(u='NONE');a.N=0;a.ja=function(){if(!a.N){var d=a.version;a.audienceManagerServer&&(d+='|'+a.audienceManagerServer);a.audienceManagerServerSecure&&(d+='|'+a.audienceManagerServerSecure);a.N=a.ka(d);}
return a.N;};a.oa=k;a.f=function(){if(!a.oa){a.oa=i;var d=a.ja(),b=k,c=a.cookieRead(a.cookieName),e,f,g,h,l=new Date();a.b==j&&(a.b={});if(c&&'T'!=c){c=c.split('|');c[0].match(/^[\-0-9]+$/)&&(parseInt(c[0],10)!=d&&(b=i),c.shift());1==c.length%2&&c.pop();for(d=0;d<c.length;d+=2)
if(e=c[d].split('-'),f=e[0],g=c[d+1],1<e.length?(h=parseInt(e[1],10),e=0<e[1].indexOf('s')):(h=0,e=k),b&&(f==I&&(g=''),0<h&&(h=l.getTime()/1000-60)),f&&g&&(a.e(f,g,1),0<h&&(a.b['expire'+f]=h+(e?'s':''),l.getTime()>=1000*h||e&&!a.cookieRead(a.sessionCookieName))))
a.c||(a.c={}),a.c[f]=i;}
if(!a.a(r)&&m.o()&&(c=a.cookieRead('s_vi')))
c=c.split('|'),1<c.length&&0<=c[0].indexOf('v1')&&(g=c[1],d=g.indexOf('['),0<=d&&(g=g.substring(0,d)),g&&g.match(n.w)&&a.e(r,g));}};a._appendVersionTo=function(d){var b='vVersion|'+a.version,c=Boolean(d)?a._getCookieVersion(d):null;c?m.jb(c,a.version)&&(d=d.replace(n.fa,b)):d+=(d?'|':'')+b;return d;};a.hb=function(){var d=a.ja(),b,c;for(b in a.b)
!Object.prototype[b]&&a.b[b]&&'expire'!=b.substring(0,6)&&(c=a.b[b],d+=(d?'|':'')+b+(a.b['expire'+b]?'-'+a.b['expire'+b]:'')+'|'+c);d=a._appendVersionTo(d);a.cookieWrite(a.cookieName,d,1);};a.a=function(d,b){return a.b!=j&&(b||!a.c||!a.c[d])?a.b[d]:j;};a.e=function(d,b,c){a.b==j&&(a.b={});a.b[d]=b;c||a.hb();};a.Za=function(d,b){var c=a.a(d,b);return c?c.split('*'):j;};a.gb=function(d,b,c){a.e(d,b?b.join('*'):'',c);};a.Wb=function(d,b){var c=a.Za(d,b);if(c){var e={},f;for(f=0;f<c.length;f+=2)
e[c[f]]=c[f+1];return e;}
return j;};a.Yb=function(d,b,c){var e=j,f;if(b)
for(f in e=[],b)
Object.prototype[f]||(e.push(f),e.push(b[f]));a.gb(d,e,c);};a.j=function(d,b,c){var e=new Date();e.setTime(e.getTime()+1000*b);a.b==j&&(a.b={});a.b['expire'+d]=Math.floor(e.getTime()/1000)+(c?'s':'');0>b?(a.c||(a.c={}),a.c[d]=i):a.c&&(a.c[d]=k);c&&(a.cookieRead(a.sessionCookieName)||a.cookieWrite(a.sessionCookieName,'1'));};a.ia=function(a){if(a&&('object'==typeof a&&(a=a.d_mid?a.d_mid:a.visitorID?a.visitorID:a.id?a.id:a.uuid?a.uuid:''+a),a&&(a=a.toUpperCase(),'NOTARGET'==a&&(a=u)),!a||a!=u&&!a.match(n.w)))
a='';return a;};a.k=function(d,b){a.Wa(d);a.i!=j&&(a.i[d]=k);p.d[d]&&(p.d[d].Nb=p.p(),p.J(d));y.d[d]&&y.Na(d,k);if(d==H){y.isClientSideMarketingCloudVisitorID!==i&&(y.isClientSideMarketingCloudVisitorID=k);var c=a.a(o);if(!c||a.overwriteCrossDomainMCIDAndAID){c='object'==typeof b&&b.mid?b.mid:a.ia(b);if(!c){if(a.D){a.getAnalyticsVisitorID(j,k,i);return;}
c=a.u(0,o);}
a.e(o,c);}
if(!c||c==u)
c='';'object'==typeof b&&((b.d_region||b.dcs_region||b.d_blob||b.blob)&&a.k(D,b),a.D&&b.mid&&a.k(E,{id:b.id}));a.t(o,[c]);}
if(d==D&&'object'==typeof b){c=604800;b.id_sync_ttl!=F&&b.id_sync_ttl&&(c=parseInt(b.id_sync_ttl,10));var e=a.a(A);e||((e=b.d_region)||(e=b.dcs_region),e&&(a.j(A,c),a.e(A,e)));e||(e='');a.t(A,[e]);e=a.a(t);if(b.d_blob||b.blob)
(e=b.d_blob)||(e=b.blob),a.j(t,c),a.e(t,e);e||(e='');a.t(t,[e]);!b.error_msg&&a.C&&a.e(I,a.C);}
if(d==E){c=a.a(r);if(!c||a.overwriteCrossDomainMCIDAndAID)
(c=a.ia(b))?c!==u&&a.j(t,-1):c=u,a.e(r,c);if(!c||c==u)
c='';a.t(r,[c]);}
a.idSyncDisableSyncs?z.Ea=i:(z.Ea=k,c={},c.ibs=b.ibs,c.subdomain=b.subdomain,z.Ib(c));if(b===Object(b)){var f;a.isAllowed()&&(f=a.a(C));f||(f=u,b.d_optout&&b.d_optout instanceof Array&&(f=b.d_optout.join(',')),c=parseInt(b.d_ottl,10),isNaN(c)&&(c=7200),a.j(C,c,i),a.e(C,f));a.t(C,[f]);}};a.i=j;a.v=function(d,b,c,e,f){var g='',h,k=m.yb(d);if(a.isAllowed())
if(a.f(),g=a.a(d,N[d]===i),(!g||a.c&&a.c[d])&&(!a.disableThirdPartyCalls||k)){if(d==o||d==C?h=H:d==A||d==t?h=D:d==r&&(h=E),h){if(b&&(a.i==j||!a.i[h]))
a.i==j&&(a.i={}),a.i[h]=i,a.$a(h,b,function(b){a.a(d)||(p.d[h]&&(p.d[h].timeout=p.p(),p.d[h].xb=!!b,p.J(h)),b&&y.Na(h,i),b='',d==o?b=a.u(0,o):h==D&&(b={error_msg:'timeout'}),a.k(h,b));},f);a.M(d,c);if(g)
return g;b||a.k(h,{id:u});return'';}}else
g||(d===o?(a.M(d,c),g=a.u(0,o),a.setMarketingCloudVisitorID(g)):d===r?(a.M(d,c),g='',a.setAnalyticsVisitorID(g)):(g='',e=i));if((d==o||d==r)&&g==u)
g='',e=i;c&&e&&a.z(c,[g]);return g;};a._setMarketingCloudFields=function(d){a.f();a.k(H,d);};a.setMarketingCloudVisitorID=function(d){a._setMarketingCloudFields(d);};a.D=k;a.getMarketingCloudVisitorID=function(d,b){if(a.isAllowed()){a.marketingCloudServer&&0>a.marketingCloudServer.indexOf('.demdex.net')&&(a.D=i);var c=a.B('_setMarketingCloudFields');return a.v(o,c.url,d,b,c);}
return'';};a.bb=function(d){a.getAudienceManagerBlob(d,i);};l.AuthState={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2};a.A={};a.K=k;a.C='';a.setCustomerIDs=function(d){if(a.isAllowed()&&d){a.f();var b,c;for(b in d)
if(!Object.prototype[b]&&(c=d[b]))
if('object'==typeof c){var e={};c.id&&(e.id=c.id);c.authState!=F&&(e.authState=c.authState);a.A[b]=e;}else
a.A[b]={id:c};var d=a.getCustomerIDs(),e=a.a(I),f='';e||(e=0);for(b in d)
Object.prototype[b]||(c=d[b],f+=(f?'|':'')+b+'|'+(c.id?c.id:'')+(c.authState?c.authState:''));a.C=a.ka(f);a.C!=e&&(a.K=i,a.bb(function(){a.K=k;}));}};a.getCustomerIDs=function(){a.f();var d={},b,c;for(b in a.A)
Object.prototype[b]||(c=a.A[b],d[b]||(d[b]={}),c.id&&(d[b].id=c.id),d[b].authState=c.authState!=F?c.authState:l.AuthState.UNKNOWN);return d;};a._setAnalyticsFields=function(d){a.f();a.k(E,d);};a.setAnalyticsVisitorID=function(d){a._setAnalyticsFields(d);};a.getAnalyticsVisitorID=function(d,b,c){if(!m.o()&&!c)
return a.z(d,['']),'';if(a.isAllowed()){var e='';c||(e=a.getMarketingCloudVisitorID(function(){a.getAnalyticsVisitorID(d,i);}));if(e||c){var f=c?a.marketingCloudServer:a.trackingServer,g='';a.loadSSL&&(c?a.marketingCloudServerSecure&&(f=a.marketingCloudServerSecure):a.trackingServerSecure&&(f=a.trackingServerSecure));var h={};if(f){var f='http'+(a.loadSSL?'s':'')+'://'+f+'/id',e='d_visid_ver='+a.version+'&mcorgid='+encodeURIComponent(a.marketingCloudOrgID)+(e?'&mid='+encodeURIComponent(e):'')+(a.idSyncDisable3rdPartySyncing?'&d_coppa=true':''),j=['s_c_il',a._in,'_set'+(c?'MarketingCloud':'Analytics')+'Fields'],g=f+'?'+e+'&callback=s_c_il%5B'+a._in+'%5D._set'+(c?'MarketingCloud':'Analytics')+'Fields';h.m=f+'?'+e;h.sa=j;}
h.url=g;return a.v(c?o:r,g,d,b,h);}}
return'';};a._setAudienceManagerFields=function(d){a.f();a.k(D,d);};a.B=function(d){var b=a.audienceManagerServer,c='',e=a.a(o),f=a.a(t,i),g=a.a(r),g=g&&g!=u?'&d_cid_ic=AVID%01'+encodeURIComponent(g):'';a.loadSSL&&a.audienceManagerServerSecure&&(b=a.audienceManagerServerSecure);if(b){var c=a.getCustomerIDs(),h,j;if(c)
for(h in c)
Object.prototype[h]||(j=c[h],g+='&d_cid_ic='+encodeURIComponent(h)+'%01'+encodeURIComponent(j.id?j.id:'')+(j.authState?'%01'+j.authState:''));d||(d='_setAudienceManagerFields');b='http'+(a.loadSSL?'s':'')+'://'+b+'/id';e='d_visid_ver='+a.version+'&d_rtbd=json&d_ver=2'+(!e&&a.D?'&d_verify=1':'')+'&d_orgid='+encodeURIComponent(a.marketingCloudOrgID)+'&d_nsid='+(a.idSyncContainerID||0)+(e?'&d_mid='+encodeURIComponent(e):'')+(a.idSyncDisable3rdPartySyncing?'&d_coppa=true':'')+(f?'&d_blob='+encodeURIComponent(f):'')+g;f=['s_c_il',a._in,d];c=b+'?'+e+'&d_cb=s_c_il%5B'+a._in+'%5D.'+d;return{url:c,m:b+'?'+e,sa:f};}
return{url:c};};a.getAudienceManagerLocationHint=function(d,b){if(a.isAllowed()&&a.getMarketingCloudVisitorID(function(){a.getAudienceManagerLocationHint(d,i);})){var c=a.a(r);!c&&m.o()&&(c=a.getAnalyticsVisitorID(function(){a.getAudienceManagerLocationHint(d,i);}));if(c||!m.o())
return c=a.B(),a.v(A,c.url,d,b,c);}
return'';};a.getLocationHint=a.getAudienceManagerLocationHint;a.getAudienceManagerBlob=function(d,b){if(a.isAllowed()&&a.getMarketingCloudVisitorID(function(){a.getAudienceManagerBlob(d,i);})){var c=a.a(r);!c&&m.o()&&(c=a.getAnalyticsVisitorID(function(){a.getAudienceManagerBlob(d,i);}));if(c||!m.o()){var c=a.B(),e=c.url;a.K&&a.j(t,-1);return a.v(t,e,d,b,c);}}
return'';};a._supplementalDataIDCurrent='';a._supplementalDataIDCurrentConsumed={};a._supplementalDataIDLast='';a._supplementalDataIDLastConsumed={};a.getSupplementalDataID=function(d,b){!a._supplementalDataIDCurrent&&!b&&(a._supplementalDataIDCurrent=a.u(1));var c=a._supplementalDataIDCurrent;a._supplementalDataIDLast&&!a._supplementalDataIDLastConsumed[d]?(c=a._supplementalDataIDLast,a._supplementalDataIDLastConsumed[d]=i):c&&(a._supplementalDataIDCurrentConsumed[d]&&(a._supplementalDataIDLast=a._supplementalDataIDCurrent,a._supplementalDataIDLastConsumed=a._supplementalDataIDCurrentConsumed,a._supplementalDataIDCurrent=c=!b?a.u(1):'',a._supplementalDataIDCurrentConsumed={}),c&&(a._supplementalDataIDCurrentConsumed[d]=i));return c;};l.OptOut={GLOBAL:'global'};a.getOptOut=function(d,b){if(a.isAllowed()){var c=a.B('_setMarketingCloudFields');return a.v(C,c.url,d,b,c);}
return'';};a.isOptedOut=function(d,b,c){return a.isAllowed()?(b||(b=l.OptOut.GLOBAL),(c=a.getOptOut(function(c){a.z(d,[c==l.OptOut.GLOBAL||0<=c.indexOf(b)]);},c))?c==l.OptOut.GLOBAL||0<=c.indexOf(b):j):k;};a.appendVisitorIDsTo=function(d){var b=n.ba,c=B([[o,a.a(o)],[r,a.a(r)],[G,a.marketingCloudOrgID]]);try{return a.s(d,b,c);}catch(e){return d;}};a.appendSupplementalDataIDTo=function(d,b){b=b||a.getSupplementalDataID(m.sb(),!0);if(!b)
return d;var c=n.ca,e;e='SDID='+encodeURIComponent(b)+'|'+(G+'='+encodeURIComponent(a.marketingCloudOrgID));try{return a.s(d,c,e);}catch(f){return d;}};a.ra={postMessage:function(a,b,c){var e=1;b&&(n.r?c.postMessage(a,b.replace(/([^:]+:\/\/[^\/]+).*/,'$1')):b&&(c.location=b.replace(/#.*$/,'')+'#'+ +new Date()+e++ +'&'+a));},X:function(a,b){var c;try{if(n.r)
if(a&&(c=function(c){if('string'===typeof b&&c.origin!==b||'[object Function]'===Object.prototype.toString.call(b)&&!1===b(c.origin))
return!1;a(c);}),window.addEventListener)
window[a?'addEventListener':'removeEventListener']('message',c,!1);else
window[a?'attachEvent':'detachEvent']('onmessage',c);}catch(e){}}};var m={O:function(){if(v.addEventListener)
return function(a,b,c){a.addEventListener(b,function(a){'function'===typeof c&&c(a);},k);};if(v.attachEvent)
return function(a,b,c){a.attachEvent('on'+b,function(a){'function'===typeof c&&c(a);});};}(),map:function(a,b){if(Array.prototype.map)
return a.map(b);if(void 0===a||a===j)
throw new TypeError();var c=Object(a),e=c.length>>>0;if('function'!==typeof b)
throw new TypeError();for(var f=Array(e),g=0;g<e;g++)
g in c&&(f[g]=b.call(b,c[g],g,c));return f;},za:function(a,b){return this.map(a,function(a){return encodeURIComponent(a);}).join(b);},Fb:function(a){var b=a.indexOf('#');return 0<b?a.substr(b):'';},wb:function(a){var b=a.indexOf('#');return 0<b?a.substr(0,b):a;},ib:function(a,b,c){a=a.split('&');c=c!=j?c:a.length;a.splice(c,0,b);return a.join('&');},yb:function(d,b,c){if(d!==r)
return k;b||(b=a.trackingServer);c||(c=a.trackingServerSecure);d=a.loadSSL?c:b;return'string'===typeof d&&d.length?0>d.indexOf('2o7.net')&&0>d.indexOf('omtrdc.net'):k;},Ga:function(a){return Boolean(a&&a===Object(a));},zb:function(d,b){return 0>a._compareVersions(d,b);},jb:function(d,b){return 0!==a._compareVersions(d,b);},Mb:function(a){document.cookie=encodeURIComponent(a)+'=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';},o:function(){return!!a.trackingServer||!!a.trackingServerSecure;},Gb:function(a,b){function c(a,d){var e,j,i=a[d];if(i&&'object'===typeof i)
for(e in i)
Object.prototype.hasOwnProperty.call(i,e)&&(j=c(i,e),void 0!==j?i[e]=j:delete i[e]);return b.call(a,d,i);}
if('object'===typeof JSON&&'function'===typeof JSON.parse)
return JSON.parse(a,b);var e;e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;a=''+a;e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,'')))
return e=eval('('+a+')'),'function'===typeof b?c({'':e},''):e;throw new SyntaxError('JSON.parse');},Da:function(){return Math.round(new Date().getTime()/1000);},Hb:function(a){for(var b={},a=a.split('|'),c=0,e=a.length;c<e;c++){var f=a[c].split('=');b[f[0]]=decodeURIComponent(f[1]);}
return b;},sb:function(a){for(var a=a||5,b='';a--;)
b+='abcdefghijklmnopqrstuvwxyz0123456789'[Math.floor(36*Math.random())];return b;}};a.Xb=m;a.pa={F:function(){var a='none',b=i;'undefined'!==typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&('withCredentials'in new XMLHttpRequest()?a='XMLHttpRequest':'undefined'!==typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(b=k),0<Object.prototype.toString.call(window.Ob).indexOf('Constructor')&&(b=k));return{G:a,$b:b};}(),tb:function(){return'none'===this.F.G?j:new window[this.F.G]();},rb:function(d,b,c){var e=this;b&&(d.U=b);try{var f=this.tb();f.open('get',d.m+'&ts='+new Date().getTime(),i);'XMLHttpRequest'===this.F.G&&(f.withCredentials=i,f.timeout=a.loadTimeout,f.setRequestHeader('Content-Type','application/x-www-form-urlencoded'),f.onreadystatechange=function(){if(4===this.readyState&&200===this.status)
a:{var a;try{if(a=JSON.parse(this.responseText),a!==Object(a)){e.n(d,j,'Response is not JSON');break a;}}catch(b){e.n(d,b,'Error parsing response as JSON');break a;}
try{for(var c=d.sa,f=window,g=0;g<c.length;g++)
f=f[c[g]];f(a);}catch(i){e.n(d,i,'Error forming callback function');}}});f.onerror=function(a){e.n(d,a,'onerror');};f.ontimeout=function(a){e.n(d,a,'ontimeout');};f.send();p.d[c]={requestStart:p.p(),url:d.m,xa:f.timeout,va:p.Ca(),wa:1};a.na.La.push(d.m);}catch(g){this.n(d,g,'try-catch');}},n:function(d,b,c){a.CORSErrors.push({ac:d,error:b,description:c});d.U&&('ontimeout'===c?d.U(i):d.U(k));}};var z={Ua:30000,da:649,Pa:k,id:j,W:[],S:j,Ba:function(a){if('string'===typeof a)
return a=a.split('/'),a[0]+'//'+a[2];},g:j,url:j,ub:function(){var d='http://fast.',b='?d_nsid='+a.idSyncContainerID+'#'+encodeURIComponent(v.location.href);this.g||(this.g='nosubdomainreturned');a.loadSSL&&(d=a.idSyncSSLUseAkamai?'https://fast.':'https://');d=d+this.g+'.demdex.net/dest5.html'+b;this.S=this.Ba(d);this.id='destination_publishing_iframe_'+this.g+'_'+a.idSyncContainerID;return d;},mb:function(){var d='?d_nsid='+a.idSyncContainerID+'#'+encodeURIComponent(v.location.href);'string'===typeof a.L&&a.L.length&&(this.id='destination_publishing_iframe_'+new Date().getTime()+'_'+a.idSyncContainerID,this.S=this.Ba(a.L),this.url=a.L+d);},Ea:j,ya:k,Z:k,H:j,pc:j,Eb:j,qc:j,Y:k,I:[],Cb:[],Db:[],Ha:n.r?15:100,T:[],Ab:[],ta:i,Ka:k,Ja:function(){return!a.idSyncDisable3rdPartySyncing&&(this.ya||a.Tb)&&this.g&&'nosubdomainreturned'!==this.g&&this.url&&!this.Z;},Q:function(){function a(){e=document.createElement('iframe');e.sandbox='allow-scripts allow-same-origin';e.title='Adobe ID Syncing iFrame';e.id=c.id;e.style.cssText='display: none; width: 0; height: 0;';e.src=c.url;c.Eb=i;b();document.body.appendChild(e);}
function b(){m.O(e,'load',function(){e.className='aamIframeLoaded';c.H=i;c.q();});}
this.Z=i;var c=this,e=document.getElementById(this.id);e?'IFRAME'!==e.nodeName?(this.id+='_2',a()):'aamIframeLoaded'!==e.className?b():(this.H=i,this.Fa=e,this.q()):a();this.Fa=e;},q:function(d){var b=this;d===Object(d)&&(this.T.push(d),this.Jb(d));if((this.Ka||!n.r||this.H)&&this.T.length)
this.J(this.T.shift()),this.q();!a.idSyncDisableSyncs&&this.H&&this.I.length&&!this.Y&&(this.Pa||(this.Pa=i,setTimeout(function(){b.Ha=n.r?15:150;},this.Ua)),this.Y=i,this.Ma());},Jb:function(a){var b,c,e;if((b=a.ibs)&&b instanceof Array&&(c=b.length))
for(a=0;a<c;a++)
e=b[a],e.syncOnPage&&this.ua(e,'','syncOnPage');},J:function(a){var b=encodeURIComponent,c,e,f,g,h;if((c=a.ibs)&&c instanceof Array&&(e=c.length))
for(f=0;f<e;f++)
g=c[f],h=[b('ibs'),b(g.id||''),b(g.tag||''),m.za(g.url||[],','),b(g.ttl||''),'','',g.fireURLSync?'true':'false'],g.syncOnPage||(this.ta?this.P(h.join('|')):g.fireURLSync&&this.ua(g,h.join('|')));this.Ab.push(a);},ua:function(d,b,c){var e=(c='syncOnPage'===c?i:k)?K:M;a.f();var f=a.a(e),g=k,h=k,j=Math.ceil(new Date().getTime()/n.ea);f?(f=f.split('*'),h=this.Kb(f,d.id,j),g=h.pb,h=h.qb,(!g||!h)&&this.Aa(c,d,b,f,e,j)):(f=[],this.Aa(c,d,b,f,e,j));},Kb:function(a,b,c){var e=k,f=k,g,h,j;for(h=0;h<a.length;h++)
g=a[h],j=parseInt(g.split('-')[1],10),g.match('^'+b+'-')?(e=i,c<j?f=i:(a.splice(h,1),h--)):c>=j&&(a.splice(h,1),h--);return{pb:e,qb:f};},Bb:function(a){if(a.join('*').length>this.da)
for(a.sort(function(a,c){return parseInt(a.split('-')[1],10)-parseInt(c.split('-')[1],10);});a.join('*').length>this.da;)
a.shift();},Aa:function(d,b,c,e,f,g){var h=this;if(d){if('img'===b.tag){var d=b.url,c=a.loadSSL?'https:':'http:',i,k,l;for(e=0,i=d.length;e<i;e++){k=d[e];l=/^\/\//.test(k);var n=new Image();m.O(n,'load',function(b,c,d,e){return function(){h.W[b]=j;a.f();var g=a.a(f),i=[];if(g){var g=g.split('*'),k,l,m;for(k=0,l=g.length;k<l;k++)
m=g[k],m.match('^'+c.id+'-')||i.push(m);}
h.Oa(i,c,d,e);};}(this.W.length,b,f,g));n.src=(l?c:'')+k;this.W.push(n);}}}else
this.P(c),this.Oa(e,b,f,g);},P:function(d){var b=encodeURIComponent;this.I.push((a.Ub?b('---destpub-debug---'):b('---destpub---'))+d);},Oa:function(d,b,c,e){d.push(b.id+'-'+(e+Math.ceil(b.ttl/60/24)));this.Bb(d);a.e(c,d.join('*'));},Ma:function(){var d=this,b;this.I.length?(b=this.I.shift(),a.ra.postMessage(b,this.url,this.Fa.contentWindow),this.Cb.push(b),setTimeout(function(){d.Ma();},this.Ha)):this.Y=k;},X:function(a){var b=/^---destpub-to-parent---/;'string'===typeof a&&b.test(a)&&(b=a.replace(b,'').split('|'),'canSetThirdPartyCookies'===b[0]&&(this.ta='true'===b[1]?i:k,this.Ka=i,this.q()),this.Db.push(a));},Ib:function(d){if(this.url===j||d.subdomain&&'nosubdomainreturned'===this.g)
this.g='string'===typeof a.qa&&a.qa.length?a.qa:d.subdomain||'',this.url=this.ub();d.ibs instanceof Array&&d.ibs.length&&(this.ya=i);this.Ja()&&(a.idSyncAttachIframeOnWindowLoad?(l.aa||'complete'===v.readyState||'loaded'===v.readyState)&&this.Q():this.kb());'function'===typeof a.idSyncIDCallResult?a.idSyncIDCallResult(d):this.q(d);'function'===typeof a.idSyncAfterIDCallResult&&a.idSyncAfterIDCallResult(d);},lb:function(d,b){return a.Vb||!d||b-d>n.Ra;},kb:function(){function a(){b.Z||(document.body?b.Q():setTimeout(a,30));}
var b=this;a();}};a.Sb=z;a.timeoutMetricsLog=[];var p={ob:window.performance&&window.performance.timing?1:0,Ia:window.performance&&window.performance.timing?window.performance.timing:j,$:j,R:j,d:{},V:[],send:function(d){if(a.takeTimeoutMetrics&&d===Object(d)){var b=[],c=encodeURIComponent,e;for(e in d)
d.hasOwnProperty(e)&&b.push(c(e)+'='+c(d[e]));d='http'+(a.loadSSL?'s':'')+'://dpm.demdex.net/event?d_visid_ver='+a.version+'&d_visid_stg_timeout='+a.loadTimeout+'&'+b.join('&')+'&d_orgid='+c(a.marketingCloudOrgID)+'&d_timingapi='+this.ob+'&d_winload='+this.vb()+'&d_ld='+this.p();new Image().src=d;a.timeoutMetricsLog.push(d);}},vb:function(){this.R===j&&(this.R=this.Ia?this.$-this.Ia.navigationStart:this.$-l.nb);return this.R;},p:function(){return new Date().getTime();},J:function(a){var b=this.d[a],c={};c.d_visid_stg_timeout_captured=b.xa;c.d_visid_cors=b.wa;c.d_fieldgroup=a;c.d_settimeout_overriden=b.va;b.timeout?b.xb?(c.d_visid_timedout=1,c.d_visid_timeout=b.timeout-b.requestStart,c.d_visid_response=-1):(c.d_visid_timedout='n/a',c.d_visid_timeout='n/a',c.d_visid_response='n/a'):(c.d_visid_timedout=0,c.d_visid_timeout=-1,c.d_visid_response=b.Nb-b.requestStart);c.d_visid_url=b.url;l.aa?this.send(c):this.V.push(c);delete this.d[a];},Lb:function(){for(var a=0,b=this.V.length;a<b;a++)
this.send(this.V[a]);},Ca:function(){return'function'===typeof setTimeout.toString?-1<setTimeout.toString().indexOf('[native code]')?0:1:-1;}};a.Zb=p;var y={isClientSideMarketingCloudVisitorID:j,MCIDCallTimedOut:j,AnalyticsIDCallTimedOut:j,AAMIDCallTimedOut:j,d:{},Na:function(a,b){switch(a){case H:b===k?this.MCIDCallTimedOut!==i&&(this.MCIDCallTimedOut=k):this.MCIDCallTimedOut=b;break;case E:b===k?this.AnalyticsIDCallTimedOut!==i&&(this.AnalyticsIDCallTimedOut=k):this.AnalyticsIDCallTimedOut=b;break;case D:b===k?this.AAMIDCallTimedOut!==i&&(this.AAMIDCallTimedOut=k):this.AAMIDCallTimedOut=b;}}};a.isClientSideMarketingCloudVisitorID=function(){return y.isClientSideMarketingCloudVisitorID;};a.MCIDCallTimedOut=function(){return y.MCIDCallTimedOut;};a.AnalyticsIDCallTimedOut=function(){return y.AnalyticsIDCallTimedOut;};a.AAMIDCallTimedOut=function(){return y.AAMIDCallTimedOut;};a.idSyncGetOnPageSyncInfo=function(){a.f();return a.a(K);};a.idSyncByURL=function(d){var b,c=d||{};b=c.minutesToLive;var e='';a.idSyncDisableSyncs&&(e=e?e:'Error: id syncs have been disabled');if('string'!==typeof c.dpid||!c.dpid.length)
e=e?e:'Error: config.dpid is empty';if('string'!==typeof c.url||!c.url.length)
e=e?e:'Error: config.url is empty';if('undefined'===typeof b)
b=20160;else if(b=parseInt(b,10),isNaN(b)||0>=b)
e=e?e:'Error: config.minutesToLive needs to be a positive number';b={error:e,rc:b};if(b.error)
return b.error;var e=d.url,f=encodeURIComponent,c=z,g,e=e.replace(/^https:/,'').replace(/^http:/,'');g=m.za(['',d.dpid,d.dpuuid||''],',');d=['ibs',f(d.dpid),'img',f(e),b.ttl,'',g];c.P(d.join('|'));c.q();return'Successfully queued';};a.idSyncByDataSource=function(d){if(d!==Object(d)||'string'!==typeof d.dpuuid||!d.dpuuid.length)
return'Error: config or config.dpuuid is empty';d.url='//dpm.demdex.net/ibs:dpid='+d.dpid+'&dpuuid='+d.dpuuid;return a.idSyncByURL(d);};a._compareVersions=function(a,b){if(a===b)
return 0;var c=a.toString().split('.'),e=b.toString().split('.'),f;a:{f=c.concat(e);for(var g=0,h=f.length;g<h;g++)
if(!n.Ta.test(f[g])){f=k;break a;}
f=i;}
if(!f)
return NaN;for(;c.length<e.length;)
c.push('0');for(;e.length<c.length;)
e.push('0');a:{for(f=0;f<c.length;f++){g=parseInt(c[f],10);h=parseInt(e[f],10);if(g>h){c=1;break a;}
if(h>g){c=-1;break a;}}
c=0;}
return c;};a._getCookieVersion=function(d){d=d||a.cookieRead(a.cookieName);return(d=n.fa.exec(d))&&1<d.length?d[1]:null;};a._resetAmcvCookie=function(d){var b=a._getCookieVersion();(!b||m.zb(b,d))&&m.Mb(a.cookieName);};0>q.indexOf('@')&&(q+='@AdobeOrg');a.marketingCloudOrgID=q;a.cookieName='AMCV_'+q;a.sessionCookieName='AMCVS_'+q;a.cookieDomain=a.Ya();a.cookieDomain==s.location.hostname&&(a.cookieDomain='');a.loadSSL=0<=s.location.protocol.toLowerCase().indexOf('https');a.loadTimeout=30000;a.CORSErrors=[];a.marketingCloudServer=a.audienceManagerServer='dpm.demdex.net';var N={};N[A]=i;N[t]=i;if(w&&'object'==typeof w){for(var J in w)
!Object.prototype[J]&&(a[J]=w[J]);a.idSyncContainerID=a.idSyncContainerID||0;a.resetBeforeVersion&&a._resetAmcvCookie(a.resetBeforeVersion);a.ga();a.ha();a.f();J=a.a(L);var O=Math.ceil(new Date().getTime()/n.ea);!a.idSyncDisableSyncs&&z.lb(J,O)&&(a.j(t,-1),a.e(L,O));a.getMarketingCloudVisitorID();a.getAudienceManagerLocationHint();a.getAudienceManagerBlob();a.cb(a.serverState);}else
a.ga(),a.ha();if(!a.idSyncDisableSyncs){z.mb();m.O(window,'load',function(){l.aa=i;p.$=p.p();p.Lb();var a=z;a.Ja()&&a.Q();});try{a.ra.X(function(a){z.X(a.data);},z.S);}catch(P){}}};Visitor.getInstance=function(q,w){var x,B=window.s_c_il,a;0>q.indexOf('@')&&(q+='@AdobeOrg');if(B)
for(a=0;a<B.length;a++)
if((x=B[a])&&'Visitor'==x._c&&x.marketingCloudOrgID==q)
return x;return new Visitor(q,w);};(function(){function q(){w.aa=x;}
var w=window.Visitor,x=w.Va,B=w.Sa;x||(x=!0);B||(B=!1);window.addEventListener?window.addEventListener('load',q):window.attachEvent&&window.attachEvent('onload',q);w.nb=new Date().getTime();}());},{}],38:[function(require,module,exports){'use strict';var api={};var URL_REGEXP=/trackmanapi/i;function findScriptTag(){var scripts=document.getElementsByTagName('script');var i,l=scripts.length;for(i=0;i<l;i++){if(URL_REGEXP.test(scripts[i].src)){return scripts[i];}}
return null;}
function findHtmlTag(){var htmls=document.getElementsByTagName('html');if(htmls.length===0){return null;}
return htmls[0];}
function getInitialState(){return null;}
function createData(defaultData){var script,data=defaultData||{},html;script=findScriptTag();if(script){data.main=script.getAttribute('data-tracking-script');data.initialPage=script.getAttribute('data-initial-page');var context=script.getAttribute('data-context');if(context){data.context=context;}
configure(data);data.vipmember=(''+script.getAttribute('data-vipmember')).toLowerCase();if(data.vipmember!=='true'){data.vipmember=undefined;}else{data.vipmember=true;}
var reportsuite=script.getAttribute('data-reportsuite');if(reportsuite){data.reportsuite=reportsuite;}
var gameReportSuite=script.getAttribute('data-game-reportsuite');if(gameReportSuite){data.gameReportSuite=script.getAttribute('data-game-reportsuite');}
var initialState=getInitialState('data-initial-state',script);if(initialState){data.initialState=initialState;}}
html=findHtmlTag();if(html){data.contentculture=html.getAttribute('data-contentculture');data.siteculture=html.getAttribute('data-siteculture');}
return data;}
function configure(data){if(data.configuration){try{var configurations=data.configuration[data.context];data.reportsuite=configurations.suite;data.gameReportSuite=configurations.gameSuite;data.linkInternalFilters=configurations.linkInternalFilters;}catch(e){throw new Error('No configuration found for context: '+data.context);}}}
function initialize(defaultData){var data=createData(defaultData);return data;}
api.initialize=initialize;module.exports=api;},{}],39:[function(require,module,exports){var pluginLoader=require('./../SCode/PluginLoader.js'),s=require('./../SCode/SCode.js'),trackingBase=require('./../AMD/TrackingBase/TrackingBase.js'),userStats=require('./../AMD/TrackingBase/UserStats.js');'use strict';var api={};function setInitialPage(page){var sections=page.split(':',3);trackingBase.setChannel(sections[0],sections[1]);trackingBase.setPageName(page);}
function initialize(){userStats.init();if(window.TrackMan.Data.initialPage){setInitialPage(window.TrackMan.Data.initialPage);}
if(window.TrackMan.Data.reportsuite){trackingBase.SetReportSuites(window.TrackMan.Data.reportsuite);}
if(window.TrackMan.Data.linkInternalFilters){trackingBase.setInternalLinks(window.TrackMan.Data.linkInternalFilters);}
pluginLoader.registerPlugins(s);return true;}
api.initialize=initialize;module.exports=api;},{"./../AMD/TrackingBase/TrackingBase.js":21,"./../AMD/TrackingBase/UserStats.js":22,"./../SCode/PluginLoader.js":35,"./../SCode/SCode.js":36}],40:[function(require,module,exports){var version='1.0.1';var trackman={'Version':version};var loadedModules={};var waitCount=2;var ready=false;var useModuleQueue=[];var trackmanCore;var trackingBase;window.TrackMan=trackman;trackman.LoadedModules=loadedModules;trackman.ModuleStates={};trackman.Paths={};trackman.Data={};trackman.Paths.baseUrl='https://www.lego.com/r/www/r/Analytics/';trackman.Paths.cachedBaseUrl='https://lc-www-live-s.legocdn.com/r/www/r/Analytics/';trackman.Paths.legoIdUrl='https://lc-www-live-s.legocdn.com/r/account2/r/api/[locale]/v2/lego.id.api.js';trackman.Data.reportsuite='legoglobal';trackman.Data.gameReportSuite='legowebgamesprod';trackman.Data.context='internal';trackman.Data.configuration={'internal':{'suite':'legoglobal','linkInternalFilters':'javascript:,localhost,localhost.corp.lego.com,lego.com,bioniclestory.com,legospace.com,mindstormseducation.com,legofriends.kr,medlem.legoclub.dk,shop.lego.co.kr,city.lego.es,herofactory.lego.it,lego.be,lego.co.uk,lego.de,lego.hu,lego.it,lego.netsvar.se,lego.nettsvar.no,lego.pl,lego.ru,legoclub.com,legoclub.fr,legoeducation.co.kr,legoeducation.co.uk,legoeducation.jp,legoeducation.us,legoevent.co.kr,legofactory.com,legofamilytime.com,legofriends.dk,legofriends.kr,legoshop.com,legoshop.fr,legospace.com,legouniverse.com,legowish.com,legoworld.dk,legoworld.nl,ninjago.lego.com,ninjago.lego.es,somanywaystoplay.nl,somanywaystoplay.fi,eg4029del.egaincloud.net,eg4029stl.egaincloud.net,eg4029prl.egaincloud.net,legoimaginenationtour.com,legoeducation.com,legohouse.com','gameSuite':'legowebgamesprod'},'external':{'suite':'legoextprod','linkInternalFilters':'javascript:,localhost,localhost.corp.lego.com,lego.com,bioniclestory.com,legospace.com,mindstormseducation.com,legofriends.kr,medlem.legoclub.dk,shop.lego.co.kr,city.lego.es,herofactory.lego.it,lego.be,lego.co.uk,lego.de,lego.hu,lego.it,lego.netsvar.se,lego.nettsvar.no,lego.pl,lego.ru,legoclub.com,legoclub.fr,legoeducation.co.kr,legoeducation.co.uk,legoeducation.jp,legoeducation.us,legoevent.co.kr,legofactory.com,legofamilytime.com,legofriends.dk,legofriends.kr,legoshop.com,legoshop.fr,legospace.com,legouniverse.com,legowish.com,legoworld.dk,legoworld.nl,ninjago.lego.com,ninjago.lego.es,somanywaystoplay.nl,somanywaystoplay.fi,eg4029del.egaincloud.net,eg4029stl.egaincloud.net,eg4029prl.egaincloud.net,legoimaginenationtour.com,legoeducation.com,legohouse.com','gameSuite':'legowebgamesprod'},'shop':{'suite':'legoglobal','linkInternalFilters':'javascript:,localhost,localhost.corp.lego.com,lego.com,bioniclestory.com,legospace.com,mindstormseducation.com,legofriends.kr,medlem.legoclub.dk,shop.lego.co.kr,city.lego.es,herofactory.lego.it,lego.be,lego.co.uk,lego.de,lego.hu,lego.it,lego.netsvar.se,lego.nettsvar.no,lego.pl,lego.ru,legoclub.com,legoclub.fr,legoeducation.co.kr,legoeducation.co.uk,legoeducation.jp,legoeducation.us,legoevent.co.kr,legofactory.com,legofamilytime.com,legofriends.dk,legofriends.kr,legoshop.com,legoshop.fr,legospace.com,legouniverse.com,legowish.com,legoworld.dk,legoworld.nl,ninjago.lego.com,ninjago.lego.es,somanywaystoplay.nl,somanywaystoplay.fi,eg4029del.egaincloud.net,eg4029stl.egaincloud.net,eg4029prl.egaincloud.net,legoimaginenationtour.com,legoeducation.com,legohouse.com','gameSuite':'legowebgamesprod'},'isbillund':{'suite':'legoextprod','linkInternalFilters':'javascript:,isbillund.com,billundinternationalschool.com','gameSuite':'legowebgamesprod'},'kirkbi':{'suite':'legoextprod','linkInternalFilters':'javascript:,www.kirkbi.com','gameSuite':'legowebgamesprod'},'legofoundation':{'suite':'legoextprod','linkInternalFilters':'javascript:,www.legofoundation.com','gameSuite':'legowebgamesprod'},'familyfoundation':{'suite':'legoextprod','linkInternalFilters':'javascript:,www.olekirksfond.dk','gameSuite':'legowebgamesprod'},'iperception':{'suite':'legoextprod','linkInternalFilters':'javascript:,localhost,localhost.corp.lego.com,lego.com,bioniclestory.com,legospace.com,mindstormseducation.com,legofriends.kr,medlem.legoclub.dk,shop.lego.co.kr,city.lego.es,herofactory.lego.it,lego.be,lego.co.uk,lego.de,lego.hu,lego.it,lego.netsvar.se,lego.nettsvar.no,lego.pl,lego.ru,legoclub.com,legoclub.fr,legoeducation.co.kr,legoeducation.co.uk,legoeducation.jp,legoeducation.us,legoevent.co.kr,legofactory.com,legofamilytime.com,legofriends.dk,legofriends.kr,legoshop.com,legoshop.fr,legospace.com,legouniverse.com,legowish.com,legoworld.dk,legoworld.nl,ninjago.lego.com,ninjago.lego.es,somanywaystoplay.nl,somanywaystoplay.fi,eg4029del.egaincloud.net,eg4029stl.egaincloud.net,eg4029prl.egaincloud.net,legoimaginenationtour.com,legoeducation.com,legohouse.com','gameSuite':'legowebgamesprod'},'duplohub':{'suite':'legoduplohub','linkInternalFilters':'javascript:,localhost,localhost.corp.lego.com,lego.com,bioniclestory.com,legospace.com,mindstormseducation.com,legofriends.kr,medlem.legoclub.dk,shop.lego.co.kr,city.lego.es,herofactory.lego.it,lego.be,lego.co.uk,lego.de,lego.hu,lego.it,lego.netsvar.se,lego.nettsvar.no,lego.pl,lego.ru,legoclub.com,legoclub.fr,legoeducation.co.kr,legoeducation.co.uk,legoeducation.jp,legoeducation.us,legoevent.co.kr,legofactory.com,legofamilytime.com,legofriends.dk,legofriends.kr,legoshop.com,legoshop.fr,legospace.com,legouniverse.com,legowish.com,legoworld.dk,legoworld.nl,ninjago.lego.com,ninjago.lego.es,somanywaystoplay.nl,somanywaystoplay.fi,eg4029del.egaincloud.net,eg4029stl.egaincloud.net,eg4029prl.egaincloud.net,legoimaginenationtour.com,legoeducation.com,legohouse.com','gameSuite':'legowebgamesprod'},'notracking':{'suite':'notracking','linkInternalFilters':'javascript:,localhost,localhost.corp.lego.com,lego.com,bioniclestory.com,legospace.com,mindstormseducation.com,legofriends.kr,medlem.legoclub.dk,shop.lego.co.kr,city.lego.es,herofactory.lego.it,lego.be,lego.co.uk,lego.de,lego.hu,lego.it,lego.netsvar.se,lego.nettsvar.no,lego.pl,lego.ru,legoclub.com,legoclub.fr,legoeducation.co.kr,legoeducation.co.uk,legoeducation.jp,legoeducation.us,legoevent.co.kr,legofactory.com,legofamilytime.com,legofriends.dk,legofriends.kr,legoshop.com,legoshop.fr,legospace.com,legouniverse.com,legowish.com,legoworld.dk,legoworld.nl,ninjago.lego.com,ninjago.lego.es,somanywaystoplay.nl,somanywaystoplay.fi,eg4029del.egaincloud.net,eg4029stl.egaincloud.net,eg4029prl.egaincloud.net,legoimaginenationtour.com,legoeducation.com,legohouse.com','gameSuite':'legowebgamesprod'}};function loadScript(url){'use strict';var head=document.getElementsByTagName('head')[0];var script=document.createElement('script');script.src=url;head.appendChild(script);}
function callTrackingCallback(moduleNames,callback){'use strict';var i,modules=[];for(i=0;i<moduleNames.length;i++){modules.push(loadedModules[moduleNames[i]]);}
callback.apply(null,modules);}
function useModule(moduleNames,callback){'use strict';trackingBase.usedCorrectly=true;if(ready){callTrackingCallback(moduleNames,callback);}else{useModuleQueue.push([moduleNames,callback]);}}
function addLoadedModule(module){'use strict';loadedModules[module.info.name]=module;}
function moduleReady(api,moduleState){'use strict';var i;if(moduleState){trackman.ModuleStates[api.info.name]=moduleState;}
waitCount-=1;if(waitCount===0){ready=true;trackman.LoadedModules=loadedModules;for(i=0;i<useModuleQueue.length;i++){callTrackingCallback.apply(null,useModuleQueue[i]);}}}
trackman.useModule=useModule;trackman.addLoadedModule=addLoadedModule;trackman.moduleReady=moduleReady;trackman.loadTrackingScript=loadScript;trackman.Data=require('./trackman-bootstrapper.js').initialize(trackman.Data);trackmanCore=require('./trackman-core.js');trackman.Modules=require('../modules.js');trackmanCore.initialize();trackingBase=require('./../AMD/TrackingBase/TrackingBase.js');if(trackman.Data.contentculture){trackingBase.setContentCulture(trackman.Data.contentculture);}
if(trackman.Data.siteculture){trackingBase.setSiteCulture(trackman.Data.siteculture);}
require('../module-loader.js');if(trackman.Data.main){loadScript(trackman.Data.main);}},{"../module-loader.js":46,"../modules.js":47,"./../AMD/TrackingBase/TrackingBase.js":21,"./trackman-bootstrapper.js":38,"./trackman-core.js":39}],41:[function(require,module,exports){'use strict';var readyList=[];var readyFired=false;var readyEventHandlersInstalled=false;function ready(){if(!readyFired){readyFired=true;for(var i=0;i<readyList.length;i++){readyList[i].fn.call(window,readyList[i].ctx);}
readyList=[];}}
function readyStateChange(){if(document.readyState==='complete'){ready();}}
function documentReady(callback,context){if(readyFired){setTimeout(function(){callback(context);},1);return;}else{readyList.push({fn:callback,ctx:context});}
if(document.readyState==='complete'){setTimeout(ready,1);}else if(!readyEventHandlersInstalled){if(document.addEventListener){document.addEventListener('DOMContentLoaded',ready,false);window.addEventListener('load',ready,false);}else{document.attachEvent('onreadystatechange',readyStateChange);window.attachEvent('onload',ready);}
readyEventHandlersInstalled=true;}}
module.exports={'documentReady':documentReady};},{}],42:[function(require,module,exports){var typeCheckHelper=require('./TypeCheckHelper.js'),urlHelper=require('./UrlHelper.js'),wmpMapper=require('./WmpMapper.js');'use strict';var resolvingCurrentPage=true;var pathSegments,pageNameSegments,hostSegments;var contextMappings=[{'AnalyticsSiteName':'portal','HtmlContexts':['www']}];var subDomainMappings=[{'AnalyticsSiteName':'portal','SubDomain':['www']}];var proxySubDomains=['www','wwwsecure'];function init(){var uri,obj,datasiteculture;pathSegments=[];pageNameSegments=[];hostSegments=[];obj=undefined;if(arguments.length>0){obj=arguments[0];}
if(obj!==undefined&&typeof obj==='object'&&obj!==null&&obj.pathname!==undefined&&obj.hostname!==undefined){uri=arguments[0];}else if(obj!==undefined&&typeof obj==='string'){uri=urlHelper.getUriComponent(obj);}else{if(window.location&&window.location.hostname){uri=urlHelper.getUriComponent(window.location.href);}else{uri=urlHelper.getUriComponent(document.URL);}}
if(resolvingCurrentPage&&window.TrackMan&&window.TrackMan.Data){datasiteculture=window.TrackMan.Data.siteculture;}
urlHelper.removeLocale(uri,datasiteculture);setPathSegments(uri.pathname);removeEmptyPathSegments();setHostSegments(uri.hostname);setSiteName();pageNameSegments=pageNameSegments.concat(pathSegments);pageNameSegments=wmpMapper.mapPageName(pageNameSegments);handleHomeAndChannelPages();pageNameSegments=forceNamingConventions(pageNameSegments);}
function setPathSegments(path){pathSegments=path.split('/');}
function forceNamingConventions(trackingString){var ILLEGALCHARACTERS=/[^a-z0-9-_:]/g;var ILLEGALCHARACTERS_REPLACEMENT='';var WHITE_SPACE_REPLACEMENT='-';var DOT_REPLACEMENT='_';if(typeCheckHelper.isArray(trackingString)===false){trackingString=[trackingString];}
var result=[];for(var i=0;i<trackingString.length;i++){var spacesReplaced=trackingString[i].replace(/\s/g,WHITE_SPACE_REPLACEMENT);var dotsReplaced=spacesReplaced.replace(/\./,DOT_REPLACEMENT);var illigalCharsReplaced=dotsReplaced.replace(ILLEGALCHARACTERS,ILLEGALCHARACTERS_REPLACEMENT);result.push(illigalCharsReplaced);}
return result;}
function setSiteName(){var contextMappingsIndex,subDomainMappingsIndex,foundSiteContext=false,foundSubDomain=false;if(hostSegments[hostSegments.length-2]==='lego'&&hostSegments[hostSegments.length-1]==='com'){for(contextMappingsIndex=0;contextMappingsIndex<contextMappings.length&&foundSiteContext===false;contextMappingsIndex++){if(contextMappings[contextMappingsIndex].HtmlContexts.indexOf(getHtmlContext())!==-1){pageNameSegments.unshift(contextMappings[contextMappingsIndex].AnalyticsSiteName);foundSiteContext=true;}}
if(foundSiteContext===false){if(proxySubDomains.indexOf(hostSegments[0])===-1||pathSegments.length<1){for(subDomainMappingsIndex=0;subDomainMappingsIndex<subDomainMappings.length&&foundSubDomain===false;subDomainMappingsIndex++){if(subDomainMappings[subDomainMappingsIndex].SubDomain.indexOf(hostSegments[0])!==-1){pageNameSegments.unshift(subDomainMappings[subDomainMappingsIndex].AnalyticsSiteName);foundSubDomain=true;}}
if(foundSubDomain===false&&hostSegments.length>0){pageNameSegments.unshift(hostSegments[0]);}}else{pageNameSegments.unshift(pathSegments.shift());}}}}
function setHostSegments(hostName){hostSegments=hostName.split('.');}
function getHtmlContext(){var result='';if(resolvingCurrentPage===true){var htmlTags=document.getElementsByTagName('html');if(htmlTags.length>0){var htmlTag=htmlTags[0];var context=htmlTag.getAttribute('data-context');if(context){result=context.toLowerCase();}}}
return result;}
function removeEmptyPathSegments(){var result=[];for(var i=0;i<pathSegments.length;i++){if(pathSegments[i]!==''){result.push(pathSegments[i]);}}
pathSegments=result;}
function handleHomeAndChannelPages(){if(pageNameSegments.length===1){pageNameSegments.push('homepage');}
if(pageNameSegments.length===2){pageNameSegments.push('overview');}}
function parseUrl(url){resolvingCurrentPage=false;init(url);return new Api();}
function Api(){return{'siteName':pageNameSegments[0],'channel':pageNameSegments[1],'segments':pageNameSegments,'pageName':pageNameSegments.join(':'),'parseUrl':parseUrl};}
init();module.exports=new Api();},{"./TypeCheckHelper.js":43,"./UrlHelper.js":44,"./WmpMapper.js":45}],43:[function(require,module,exports){'use strict';function IsArray(value){return value!==undefined&&value!==null&&value.constructor===Array;}
function IsObject(value){return value!==null&&typeof value==='object';}
function Api(){return{'isArray':IsArray,'isObject':IsObject};}
module.exports=new Api();},{}],44:[function(require,module,exports){'use strict';var LocalePattern=/^\/?([A-Za-z]{2,2}-[A-Za-z]{2,2})(?:\/|$)/;var AppNameExitLinks=[{'name':/play.google.com/i,'expr':/http.*:\/\/play\.google\.com\/store\/apps\/details\?id=(?:.*?)\.(.*?)(?:&.*?)?$/i},{'name':/itunes.apple.com/i,'expr':/http.*:\/\/itunes\.apple\.com.*app\/(.*?)\/.*$/i},{'name':/www.microsoft.com/i,'expr':/http.*:\/\/www\.microsoft\.com\/store\/apps\/(.*?)(?:#.*?)?$/i}];function replaceAll(str,find,replace){return str.replace(new RegExp(find,'g'),replace);}
function getUriComponent(url){var aTag=document.createElement('a');aTag.href=url;if(aTag.pathname!==''&&aTag.pathname[0]!=='/'){aTag.pathname='/'+aTag.pathname;}
return aTag;}
function removeLocale(uri,locale){var path,localePattern;if(locale){localePattern=new RegExp('^/?'+locale.toLowerCase()+'(?:/|$)');}else{localePattern=LocalePattern;}
path=decodeURI(uri.pathname);path=path.toLowerCase();uri.pathname=path.replace(localePattern,'/');}
function getLocale(uri){var locale='',path=decodeURI(uri.pathname);path=path.toLowerCase();var match=path.match(LocalePattern);if(match&&match.length>0){locale=match[0];}
return locale;}
function getUrlWithoutHash(atag){var key;if(notUndefinedOrNull(atag)&&notUndefinedOrNull(atag.protocol,atag.hostname,atag.pathname,atag.search)){key=atag.protocol+'//'+atag.hostname+''+atag.pathname+''+atag.search;}
return key;}
function notUndefinedOrNull(){var result=true;for(var i=0;i<arguments.length;i++){var element=arguments[i];if(element===undefined||element===null){result=false;}}
return result;}
function getAppNameExitString(exitLink){var result='';for(var i=0;i<AppNameExitLinks.length;i++){if(AppNameExitLinks[i].name.test(exitLink)){var matches=AppNameExitLinks[i].expr.exec(exitLink);if(matches){result=AppNameExitLinks[i].name.exec(exitLink)+'|'+replaceAll(matches[1],'-','.');}}}
return result;}
function Api(){return{'getUriComponent':getUriComponent,'removeLocale':removeLocale,'getLocale':getLocale,'getUrlWithoutHash':getUrlWithoutHash,'getAppNameExitString':getAppNameExitString};}
module.exports=new Api();},{}],45:[function(require,module,exports){'use strict';var mappings=[{'angrybirds':'angrybirdsmovie'},{'city':'city2'},{'creator':'creator2'},{'dc-shg':'dcsuperherogirls'},{'dc':'superheroes'},{'disney':'disneyprincess'},{'lego-ideas':'ideasproducts'},{'jurassic-world':'jurassicworld'},{'marvel':'marvelsuperheroes'},{'mindstorms':'mindstorms2'},{'power-functions':'powerfunctions'},{'scooby-doo':'scoobydoo'},{'speed-champions':'speedchampions'},{'star-wars':'starwars'},{'technic':'technic2'}];function mapPageName(pageNameSegments){if(pageNameSegments.length>1){if(pageNameSegments[0]==='portal'&&pageNameSegments[1]==='themes'){pageNameSegments=pageNameSegments.slice(2);}}
if(pageNameSegments.length>0){for(var i=0;mappings.length>i;i++){var map=mappings[i];if(pageNameSegments[0]in map){pageNameSegments[0]=map[pageNameSegments[0]];}}}
return pageNameSegments;}
module.exports={mapPageName:mapPageName};},{}],46:[function(require,module,exports){require('./AMD/AccountTracking.js');require('./AMD/BasicTracking.js');require('./AMD/ContentTracking.js');require('./AMD/CharacterTracking.js');require('./AMD/ClubTracking.js');require('./AMD/GalleryTracking.js');require('./AMD/GameTracking/GameTracking.js');require('./AMD/MediaTracking.js');require('./AMD/MessageBoardTracking.js');require('./AMD/ProductTracking.js');require('./AMD/SearchTracking.js');require('./AMD/ShopTracking.js');require('./AMD/SocialMediaTracking.js');require('./AMD/SurveyTracking.js');require('./AMD/Kickstarter.js');require('./AMD/UXTracking.js');},{"./AMD/AccountTracking.js":1,"./AMD/BasicTracking.js":2,"./AMD/CharacterTracking.js":3,"./AMD/ClubTracking.js":4,"./AMD/ContentTracking.js":5,"./AMD/GalleryTracking.js":6,"./AMD/GameTracking/GameTracking.js":8,"./AMD/Kickstarter.js":10,"./AMD/MediaTracking.js":11,"./AMD/MessageBoardTracking.js":12,"./AMD/ProductTracking.js":13,"./AMD/SearchTracking.js":14,"./AMD/ShopTracking.js":15,"./AMD/SocialMediaTracking.js":16,"./AMD/SurveyTracking.js":17,"./AMD/UXTracking.js":23}],47:[function(require,module,exports){module.exports={AccountTracking:'AccountTracking',BasicTracking:'BasicTracking',ContentTracking:'ContentTracking',CharacterTracking:'CharacterTracking',ClubTracking:'ClubTracking',GalleryTracking:'GalleryTracking',GameTracking:'GameTracking',MediaTracking:'MediaTracking',MessageBoardTracking:'MessageBoardTracking',ProductTracking:'ProductTracking',SearchTracking:'SearchTracking',ShopTracking:'ShopTracking',SocialMediaTracking:'SocialMediaTracking',SurveyTracking:'SurveyTracking',Kickstarter:'Kickstarter',UXTracking:'UXTracking'};},{}]},{},[40]);