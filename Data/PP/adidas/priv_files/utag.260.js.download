//tealium universal tag - utag.260 ut4.0.201802281052, Copyright 2018 Tealium.com Inc. All Rights Reserved.
function IrItem(){this.p={}}
IrItem.prototype={setSku:function(sku){this.p.sku=sku;return this},setCat:function(cat){this.p.cat=cat;return this},setQty:function(qty){this.p.qty=qty;return this},setAmt:function(amt){this.p.amt=amt;return this},setName:function(name){this.p.name=name;return this},setRebate:function(rebate){this.p.rebate=rebate;return this},addCustomParam:function(name,value){this.advParams=this.advParams?this.advParams+"&":"";this.advParams+=encodeURIComponent(name)+"="+encodeURIComponent(value);return this}};function IrEvent(){this.p={};this.items=[];this.tag="iframe"}
IrEvent.prototype={setDomain:function(domain){this.domain=domain;return this},enableImg:function(){this.tag="img";return this},setCampaignId:function(cid){this.p.cid=cid;return this},setChannel:function(channelId){this.p.irchannel=channelId;return this},setOrderId:function(orderId){this.p.oid=orderId;return this},setPromoCode:function(promoCode){this.p.promocode=promoCode;return this},setCustomerId:function(custId){this.p.custid=custId;return this},setStatus:function(status){this.p.status=status;return this},setPostcode:function(postcode){this.p.postcode=postcode;return this},setNote:function(note){this.p.note=note;return this},setRebate:function(rebate){this.p.rebate=rebate;return this},setSubTotal:function(subTotal){this.p.subtot=subTotal;return this},setDisposition:function(disposition){this.p.disp=disposition;return this},setCurrency:function(currency){this.p.currency=currency;return this},setExchangeRate:function(exch){this.p.exch=exch;return this},setDate1:function(date1){this.p.date1=date1;return this},setDate2:function(date2){this.p.date2=date2;return this},setString1:function(str1){this.p.str1=str1;return this},setString2:function(str2){this.p.str2=str2;return this},setMargin:function(margin){this.p.margin=margin;return this},setClickId:function(clickId){this.p.clickid=clickId;return this},addCustomParam:function(name,value){this.advCustParams=this.advCustParams?this.advCustParams+"&":"";this.advCustParams+=encodeURIComponent(name)+"="+encodeURIComponent(value);return this},addPassThroughParam:function(name,value){this.passThroughParams=this.passThroughParams?this.passThroughParams+"&":"";this.passThroughParams+="p."+encodeURIComponent(name)+"="+encodeURIComponent(value);return this},addItem:function(cat,sku,amt,qty,name,rebate){var item=new IrItem();item.setCat(cat);item.setSku(sku);item.setAmt(amt);item.setQty(qty);if(name){item.setName(name)}
if(rebate){item.setRebate(rebate)}
this.items.push(item);return item},setAmount:function(amt){var item=this.addItem("","",amt,1);item.id="autoamount";return this},domReady:function(){if(document.addEventListener){if((navigator.userAgent.indexOf("AppleWebKit/")>-1)){if(/loaded|complete/.test(document.readyState)){return true}}else{if(/interactive|loaded|complete/.test(document.readyState)){return true}}}else{try{if(!document.body){throw"continue"}
window.document.documentElement.doScroll("left")}catch(e){return false}
return true}
return false},getQueryString:function(){var me=this,tagSrc="";if(me.items.length===0){var item=me.addItem("","",0,1);item.id="autogenerated"}
for(var n in me.p){tagSrc+=n+"="+encodeURIComponent(me.p[n])+"&"}
if(me.passThroughParams){tagSrc+=me.passThroughParams+"&"}
if(me.advCustParams){tagSrc+="cparam="+encodeURIComponent(me.advCustParams)+"&"}
for(var i=0,len=me.items.length;i<len;i++){var it=me.items[i],id=it.id||i+1;for(var p in it.p){tagSrc+=p+id+"="+encodeURIComponent(it.p[p])+"&";if(it.advCustParams){tagSrc+="cup"+id+"="+encodeURIComponent(it.advCustParams)+"&"}}}
return tagSrc},fire:function(){var me=this,tag=document.createElement(me.tag);tag.width=tag.height="1";tag.id="utag_260";if(me.tag=="iframe"){tag.frameBorder=0;tag.src="//"+me.domain+"/ifconv/?"+me.getQueryString()}else{tag.border="0";tag.src="//"+me.domain+"/jconv/?"+me.getQueryString()}
var readyCheck=window.setInterval(function(){if(me.domReady()){clearInterval(readyCheck);document.body.appendChild(tag)}},30)}};var irEvent=new IrEvent();try{(function(id,loader){var u={};utag.o[loader].sender[id]=u;if(utag===undefined){utag={};}if(utag.ut===undefined){utag.ut={};}if(utag.ut.loader===undefined){u.loader=function(o){var a,b,c,l;a=document;if(o.type==="iframe"){b=a.createElement("iframe");b.setAttribute("height","1");b.setAttribute("width","1");b.setAttribute("style","display:none");b.setAttribute("src",o.src);}else if(o.type==="img"){utag.DB("Attach img: "+o.src);b=new Image();b.src=o.src;return;}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";b.src=o.src;}if(o.id){b.id=o.id;}if(typeof o.cb==="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb();},false);}else{b.onreadystatechange=function(){if(this.readyState==="complete"||this.readyState==="loaded"){this.onreadystatechange=null;o.cb();}};}}l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l==="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b);}}};}else{u.loader=utag.ut.loader;}
u.ev={"view":1,"link":1};u.initialized=false;u.scriptrequested=false;u.queue=[];u.generateProductPrice=function(price,quantity,discount){price=!isNaN(parseFloat(price))?parseFloat(price):0;quantity=!isNaN(parseFloat(quantity))?parseInt(quantity,10):1;discount=!isNaN(discount)?parseFloat(discount):0;return(price-discount)*quantity;}
u.map={"ir_channel_id":"channel","product_prorated_discount":"product_discount","euci":"customer_id","new_repeat":"status"};u.extend=[function(a,b){if(b.order_id&&b.product_price&&b.product_quantity){b.ir_channel_id=(!b.is_mobile||b.is_mobile=='FALSE')?'9707':'9811';}else if(b.signup_step&&(b.signup_step=='SUCCESS'||b.signup_step=='REPEAT')){b.order_id=b._corder=b.euci||b.customer_encrypted_email;b.ir_channel_id='9810';}else if(a=='link'){return false;}}];u.send=function(a,b){if(u.ev[a]||u.ev.all!==undefined){var c,d,e,f;u.data={"qsp_delim":"&","kvp_delim":"=","base_url":"d3cxv97fi8q177.cloudfront.net/mediasource-A225976-6e1e-4493-9cd8-4ac25b37541f1-c-4270.js","domainprefix":"adidas.7eer.net","campaignid":"4270","channel":"","status":"","note":"","str1":"","str2":"","date1":"","date2":"","exchange":"","margin":"","order_id":"","order_currency":"","order_coupon_code":"","customer_id":"","customer_zip":"","product_name":[],"product_sku":[],"product_category":[],"product_quantity":[],"product_unit_price":[],"product_discount":[]};for(c=0;c<u.extend.length;c++){try{d=u.extend[c](a,b);if(d==false)return}catch(e){if(typeof utag_err!='undefined'){utag_err.push({e:'extension error:'+e,s:utag.cfg.path+'utag.'+id+'.js',l:c,t:'ex'})}}};c=[];for(d in utag.loader.GV(u.map)){if(b[d]!==undefined&&b[d]!==""){e=u.map[d].split(",");for(f=0;f<e.length;f++){if(u.data[e[f]]!==undefined){u.data[e[f]]=b[d];}else{irEvent.addCustomParam(e[f],b[d]);}}}}
u.data.order_id=u.data.order_id||b._corder||"";u.data.order_currency=u.data.order_currency||b._ccurrency||"";u.data.order_coupon_code=u.data.order_coupon_code||b._cpromo||"";u.data.customer_id=u.data.customer_id||b._ccustid||"";u.data.customer_zip=u.data.customer_zip||b._czip||"";if(u.data.product_name.length===0&&b._cprodname!==undefined){u.data.product_name=b._cprodname.slice(0);}
if(u.data.product_sku.length===0&&b._csku!==undefined){u.data.product_sku=b._csku.slice(0);}
if(u.data.product_category.length===0&&b._ccat!==undefined){u.data.product_category=b._ccat.slice(0);}
if(u.data.product_quantity.length===0&&b._cquan!==undefined){u.data.product_quantity=b._cquan.slice(0);}
if(u.data.product_unit_price.length===0&&b._cprice!==undefined){u.data.product_unit_price=b._cprice.slice(0);}
if(u.data.product_discount.length===0&&b._cpdisc!==undefined){u.data.product_discount=b._cpdisc.slice(0);}
irEvent.setCampaignId(u.data.campaignid);irEvent.setChannel(u.data.channel);irEvent.setDomain(u.data.domainprefix);if(u.data.order_id!==""){irEvent.setOrderId(u.data.order_id);irEvent.setCustomerId(u.data.customer_id);if(u.data.order_coupon_code){irEvent.setPromoCode(u.data.order_coupon_code)};if(u.data.status!==""){irEvent.setStatus(u.data.status);}
if(u.data.note!==""){irEvent.setNote(u.data.note);}
if(u.data.str1!==""){irEvent.setString1(u.data.str1);}
if(u.data.str2!==""){irEvent.setString2(u.data.str2);}
if(u.data.date1!==""){irEvent.setDate1(u.data.date1);}
if(u.data.date2!==""){irEvent.setDate2(u.data.date2);}
if(u.data.exchange!==""){irEvent.setExchangeRate(u.data.exchange);}
if(u.data.margin!==""){irEvent.setMargin(u.data.margin);}
if(u.data.order_currency!==""){irEvent.setCurrency(u.data.order_currency);}
irEvent.setPostcode(u.data.customer_zip);for(d=0;d<u.data.product_sku.length;d++){var totalPrice=(parseFloat(b.product_price[d]||'0')*parseInt(b.product_quantity[d]||'1')).toFixed(2);irEvent.addItem(u.data.product_category[d],u.data.product_sku[d],totalPrice,u.data.product_quantity[d],u.data.product_name[d],((u.data.product_discount[d])?u.data.product_discount[d]:""));}
irEvent.fire();}else if(!document.getElementById("utag_260")){u.loader({"type":"script","src":"//"+u.data.base_url});}
}};utag.o[loader].loader.LOAD(id);}("260","adidas.adidasglobal"));}catch(error){utag.DB(error);}
