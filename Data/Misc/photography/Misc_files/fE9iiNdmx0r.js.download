if (self.CavalryLogger) { CavalryLogger.start_js(["CzUon"]); }

__d("Button.react",["cx","AbstractButton.react","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";var a=this.props.use||"default",c=this.props.size||"medium";c="_42fu"+(a==="special"?" _42gz":"")+(a==="confirm"?" _42g-":"")+(c==="large"?" _42gy":"")+(this.props.suppressed?" _42gx":"")+(a!=="default"?" selected":"");return b("React").createElement(b("AbstractButton.react"),babelHelpers["extends"]({},this.props,{label:this.props.label,className:b("joinClasses")(this.props.className,c)}))};function a(){"use strict";h.apply(this,arguments)}a.propTypes={use:c.oneOf(["special","confirm","default"]),size:c.oneOf(["medium","large"]),suppressed:c.bool};e.exports=a}),null);
__d("OfferClaimMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"OfferClaimData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"offer_claim",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"OfferClaimData!"}],concreteType:"OfferClaimResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"offer_claim_data",storageKey:null,args:null,concreteType:"PageOfferClaimData",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"offer_claim_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"offer_claim_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"offer_claim_used_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"offer_saves_context",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"offer_source_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"unique_discount_code",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"notifications_enabled",args:null,storageKey:null}]}]}];return{kind:"Request",operationKind:"mutation",name:"OfferClaimMutation",id:"1437325306377728",text:null,metadata:{},fragment:{kind:"Fragment",name:"OfferClaimMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"OfferClaimMutation",argumentDefinitions:a,selections:b}}}();e.exports=a}),null);
__d("OfferClaimMutation",["RelayModern","OfferClaimMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=function(){return b("OfferClaimMutation.graphql")};function a(a,b,c){return g(a,{mutation:h,onCompleted:c.onSuccess,onError:c.onError,variables:{input:{offer_id:b.offerId,offer_claim_status:b.offerClaimStatus,referrer:b.referrer,share_id:b.sourceID}}})}e.exports={commit:a}}),null);
__d("OfferClaimStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACTIVE:"ACTIVE",INCOMPLETE:"INCOMPLETE",DELETED:"DELETED"})}),null);
__d("SalesPromoWebDriverTestID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACTION_LINK:"action_link",COMPOSER_DIALOG:"composer_dialog",COMPOSER_DIALOG_BUTTON_PUBLISH:"composer_dialog_button_publish",COMPOSER_DIALOG_BUTTON_UPLOAD_PHOTO:"composer_dialog_button_upload_photo",COMPOSER_DIALOG_INPUT_DESCRIPTION:"composer_dialog_input_description"})}),null);
__d("XSalesPromoSetInterestedAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/sales_promo/interested/set/",{id:{type:"FBID",required:!0},ad_id:{type:"Int"},is_interested:{type:"Bool",defaultValue:!1},location:{type:"String"}})}),null);
__d("SalesPromoActionLink.react",["ix","cx","fbt","AsyncRequest","Button.react","CenteredContainer.react","DOMContainer.react","Image.react","Layout.react","OfferClaimStatus","OfferClaimMutation","React","RelayFBEnvironment","SalesPromoWebDriverTestID","fbglyph","XSalesPromoSetInterestedAsyncController"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("Layout.react").Column,l=b("Layout.react").FillColumn;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(a){__p&&__p();j.constructor.call(this,a),this.$1=function(event){__p&&__p();this.setState({isSaveDisabled:!0});var a=!this.state.isSaved;if(this.props.is_offerx){b("OfferClaimMutation").commit(b("RelayFBEnvironment"),{offerId:this.props.salesPromoID.toString(),offerClaimStatus:a?b("OfferClaimStatus").ACTIVE:b("OfferClaimStatus").DELETED},{onSuccess:function(){this.setState(function(b){return{isBefore:!b.isBefore,isSaved:a,isSaveDisabled:!1}})}.bind(this),onError:function(){return}});return}var c=b("XSalesPromoSetInterestedAsyncController").getURIBuilder().setFBID("id",this.props.salesPromoID.toString()).setInt("ad_id",this.props.adID).setBool("is_interested",a).setString("location",this.props.location).getURI();new(b("AsyncRequest"))(c).setMethod("POST").setHandler(function(b){if(b.error)return;this.setState(function(b){return{isBefore:!b.isBefore,isSaved:a,isSaveDisabled:!1}})}.bind(this)).send()}.bind(this),this.state={isBefore:!0,isSaved:!!this.props.isSaved,isSaveDisabled:!1}}a.prototype.render=function(){return b("React").createElement(b("Layout.react"),{"data-testid":b("SalesPromoWebDriverTestID").ACTION_LINK,className:"_3-8y"},b("React").createElement(k,null,b("React").createElement("div",{className:"_17ow"},b("React").createElement(b("Image.react"),{className:"_2hna",src:g("115304")}))),b("React").createElement(l,{className:"_618o"},b("React").createElement(b("CenteredContainer.react"),{className:"_618p",fullHeight:!0,horizontal:!1,vertical:!0},b("React").createElement(b("DOMContainer.react"),null,this.state.isBefore?this.props.social_context_before:this.props.social_context_after))),b("React").createElement(k,null,b("React").createElement(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0},b("React").createElement(b("Button.react"),{use:"default",disabled:this.state.isSaveDisabled,label:this.state.isSaved?i._("Saved"):i._("Save"),image:this.state.isSaved?b("React").createElement(b("Image.react"),{src:g("133668")}):b("React").createElement(b("Image.react"),{src:g("128862")}),onClick:this.$1}))))};e.exports=a}),null);